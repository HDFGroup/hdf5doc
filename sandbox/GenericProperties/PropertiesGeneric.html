<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>HDF5 Generic Properties</title>
</head>
<body text="#000000" bgcolor="#FFFFFF">

<h2>Generic Properties Overview and Justification</h2>
It is useful to allow "drivers" (VFL, VDL, datatype conversion, etc.) to
create properties for controlling features they wish to add to the library.
Allowing a driver to create properties when installed at run-time will
enable new features to be easily created and controlled while localizing
the changes to just the section of code being modified or added. This should
allow easier maintainence and evolution of the library's properties in
future versions of the library code.
<p>It would also be useful to give users the ability to create and set
properties which are temporary in nature and do not need to be stored longer
than the application is active. These would allow users to set application
specific properties which can be set and queried during the application's
execution.

<h3>Generic Properties Implementation</h3>

<P>The existing property list classes would be modified so that the existing
properties are generic properties which are registered when the library
starts up. The existing property list API functions would become wrappers
around the new "generic" get/set functions. This would allow the library
to become more modular, with each driver or API registering it's own properties
without hard- wiring new fields in the property list class.

<P>The library will provide a default or "empty" property list class with no
property values defined for property lists of that class.  A mechanism for
deriving a new property list class will be defined by inheriting from an
existing property list class.  The existing property list classes defined by
the library (file access, dataset creation, etc) will be created during library
initialization and will have global constants available for applications to use.
(This is similar to the way the library-defined datatypes are created at
run-time)

<P>Users may derive new property list classes from any existing property
list class, including the completely new classes derived from the default
"empty" property list class, or other user-derived property list classes.
User-derived property list classes which are derived from the library-defined
classes may be passed to API functions which expect library-defined property
lists and the API functions will traverse the inherited classes to find the
correct class to retrieve information.

<P>The new generic property list API functions allow properties to be
registered for each property list class (library or user defined) to create a
set of initial properties for newly created property lists of that class.
These registered properties can have default values for each new property list
created for that class.

<P>Temporary generic properties can also be attached to any
existing property list without affecting new property lists of that class.

<P>Property names beginning with "H5" are reserved for library use and should
not be used by third-party applications or libraries.

<P>The names and sizes of property values for each property are local to each
property list and changing them in a property list class do not affect existing
property lists.

<h3>API Changes for Implementing Generic Properties</h3>
<strong>New Functions:</strong>
<ul><table>
    <tr>
        <td><em><a href="#H5Pcreate_class">H5Pcreate_class</a></em>
        <td>-
        <td>Create a new property list class.
    <tr>
        <td><em><a href="#H5Pcreate_list">H5Pcreate_list</a></em>
        <td>-
        <td>Create a new property list of a given class.
    <tr>
        <td><em><a href="#H5Pregister">H5Pregister</a></em>
        <td>-
        <td>Register a permanent property with a class.
    <tr>
        <td><em><a href="#H5Pinsert">H5Pinsert</a></em>
        <td>-
        <td>Create a temporary property for a property list.
    <tr>
        <td><em><a href="#H5Pset">H5Pset</a></em>
        <td>-
        <td>Set an existing property (permanent or temporary) to a value.
    <tr>
        <td><em><a href="#H5Pexist">H5Pexist</a></em>
        <td>-
        <td>Query whether a property exists in a property list or class.
    <tr>
        <td><em><a href="#H5Pget_size">H5Pget_size</a></em>
        <td>-
        <td>Query size of property value in bytes.
    <tr>
        <td><em><a href="#H5Pget_nprops">H5Pget_nprops</a></em>
        <td>-
        <td>Query number of properties in list or class
    <tr>
        <td><em><a href="#H5Pget_class_name">H5Pget_class_name</a></em>
        <td>-
        <td>Retrieve the name of a class object
    <tr>
        <td><em><a href="#H5Pget_class_parent">H5Pget_class_parent</a></em>
        <td>-
        <td>Retrieve a property class's parent class
    <tr>
        <td><em><a href="#H5Pisa_class">H5Pisa_class</a></em>
        <td>-
        <td>Checks if a property list is a member of a property class
    <tr>
        <td><em><a href="#H5Pget">H5Pget</a></em>
        <td>-
        <td>Retrieve property value.
    <tr>
        <td><em><a href="#H5Pequal">H5Pequal</a></em>
        <td>-
        <td>Compares two property lists or classes for equality
    <tr>
        <td><em><a href="#H5Piterate">H5Piterate</a></em>
        <td>-
        <td>Iterates over properties in a property class or list
    <tr>
        <td><em><a href="#H5Pcopy_prop">H5Pcopy_prop</a></em>
        <td>-
        <td>Copies a property from one list to another
    <tr>
        <td><em><a href="#H5Premove">H5Premove</a></em>
        <td>-
        <td>Removes a property from a property list.
    <tr>
        <td><em><a href="#H5Punregister">H5Punregister</a></em>
        <td>-
        <td>Un-register a permanent property from a class.
    <tr>
        <td><em><a href="#H5Pclose_list">H5Pclose_list</a></em>
        <td>-
        <td>Close a property list.
    <tr>
        <td><em><a href="#H5Pclose_class">H5Pclose_class</a></em>
        <td>-
        <td>Remove a property list class.
</table></ul>

<b>Removed Functions:</b>
<blockquote>H5Pcreate and H5Pclose are replaced with H5Pcreate_list and
H5Pclose_list.
</blockquote>

<b>Changes to Existing Functions:</b>
<blockquote>All the existing H5Pget/set routines would need to be changed
to use the new generic register/unregister and get/set routines for the
properties they manage, but that shouldn't be a user-visible change.
Also, H5Pget_class will change from returning a
H5P_class_t to the ID of a generic property class.
</blockquote>

<hr>
<h3>New API Function Definitions</h3>

<hr>
<dl>
<dt><strong><P>NAME</strong>
    <dd><a name="H5Pcreate_class">H5Pcreate_class</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Create a new property list class

<dt><strong><P>USAGE</strong>
    <dd><code>hid_t</code> H5Pcreate_class(<em>class, name, create, copy, close</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>class</em>;
        <td>IN: Property list class to inherit from.
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property list class to register.
    <tr>
        <td><code>H5P_cls_create_func_t</code> <em>create</em>;
        <td>IN: Callback routine called when a property list is created.
    <tr>
        <td><code>H5P_cls_copy_func_t</code> <em>copy</em>;
        <td>IN: Callback routine called when a property list is copied.
    <tr>
        <td><code>H5P_cls_close_func_t</code> <em>close</em>;
        <td>IN: Callback routine called when a property list is being closed.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: Valid property list class ID
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Registers a new property list class with the library.  The new property
    list class can inherit from an existing property list class or may be
    derived from the default "empty" class.  New classes with inherited
    properties from existing classes may not remove those existing properties,
    only add or remove their own class properties.

    <P>The <em>create</em> routine is called when a new property list of this
    class is being created.  The <code>H5P_cls_create_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_cls_create_func_t)(
            <code>hid_t</code> <em>prop_id</em>,
            <code>void *</code> <em>create_data</em>
            );
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list being created.
    <tr>
        <td><code>void *</code> <em>create_data</em>;
        <td>IN/OUT: User pointer to any class creation information needed
    </table></ul>
    The <em>create</em> routine is called after any registered <em>create</em>
    function is called for each property value.  If the <em>create</em> routine
    returns a negative value, the new list is not returned to the user and the
    property list creation routine returns an error value.

    <P>The <em>copy</em> routine is called when an existing property list of this
    class is copied.  The <code>H5P_cls_copy_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_cls_copy_func_t)(
            <code>hid_t</code> <em>prop_id</em>,
            <code>void *</code> <em>copy_data</em>
            );
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list created by copying.
    <tr>
        <td><code>void *</code> <em>copy_data</em>;
        <td>IN/OUT: User pointer to any class copy information needed
    </table></ul>
    The <em>copy</em> routine is called after any registered <em>copy</em>
    function is called for each property value.  If the <em>copy</em> routine
    returns a negative value, the new list is not returned to the user and the
    property list copy routine returns an error value.

    <P>The <em>close</em> routine is called when a property list of this class
    is being closed.  The H5P_cls_close_func_t is defined as:
        <ul><code>typedef herr_t</code> (*H5P_cls_close_func_t)(
            <code>hid_t</code> <em>prop_id</em>,
            <code>void *</code> <em>close_data</em>
            );
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list being closed.
    <tr>
        <td><code>void *</code> <em>close_data</em>;
        <td>IN/OUT: User pointer to any class close information needed
    </table></ul>
    The <em>close</em> routine is called before any registered <em>close</em>
    function is called for each property value.  If the <em>close</em> routine
    returns a negative value, the property list close routine returns an error
    value but the property list is still closed.
    
<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>I would like to say "the property list is not closed" when a _close_
    routine fails, but I don't think that's possible due to other properties in
    the list being successfully closed & removed from the property list.  I
    suppose that it would be possible to just remove the properties which have
    successful _close_ callbacks, but I'm not happy with the ramifications of
    a mangled, un-closable property list hanging around... Any comments?
</dl>

<hr>
<dl>
<dt><strong><P>NAME</strong>
    <dd><a name="H5Pcreate_list">H5Pcreate_list</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Create a new property list class of a given class

<dt><strong><P>USAGE</strong>
    <dd><code>hid_t</code> H5Pcreate_list(<em>class</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>class</em>;
        <td>IN: Class of property list to create.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: Valid property list ID
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Creates a property list of a given class.  If a <em>create</em>
    callback exists for the property list class, it is called before the
    property list is passed back to the user.  If <em>create</em> callbacks
    exist for any individual properties in the property list, they are called
    before the class <em>create</em> callback.
    
<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>
<dt><strong><P>NAME</strong>
    <dd><a name="H5Pregister">H5Pregister</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Register a permanent property with a property list class

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Pregister(<EM>class, name, size, default, create, set, get, close</EM>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>class</em>;
        <td>IN: Property list class to register permanent property within.
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: Name of property to register.
    <tr>
        <td><code>size_t</code> <em>size</em>;
        <td>IN: Size of property in bytes.
    <tr>
        <td><code>void *</code> <em>default</em>;
        <td>IN: Default value for property in newly created property lists.
    <tr>
        <td><code>H5P_prp_create_func_t</code> <em>create</em>;
        <td>IN: Callback routine called when a property list is being created
                and the property value will be initialized.
    <tr>
        <td><code>H5P_prp_set_func_t</code> <em>set</em>;
        <td>IN: Callback routine called before a new value is copied into the
                property's value.
    <tr>
        <td><code>H5P_prp_get_func_t</code> <em>get</em>;
        <td>IN: Callback routine called when a property value is retrieved from
                the property.
    <tr>
        <td><code>H5P_prp_delete_func_t</code> <em>delete</em>;
        <td>IN: Callback routine called when a property is deleted from
                a property list.
    <tr>
        <td><code>H5P_prp_copy_func_t</code> <em>copy</em>;
        <td>IN: Callback routine called when a property is copied from
                in a property list.
    <tr>
        <td><code>H5P_prp_close_func_t</code> <em>close</em>;
        <td>IN: Callback routine called when a property list is being closed
                and the property value will be disposed of.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Registers a new property with a property list class.  The property
    will exist in all property list objects of <EM>class</EM> created after
    this routine finishes.  The name of the property must not already exist, or
    this routine will fail.  The default property value must be provided and
    all new property lists created with this property will have the property
    value set to the default value.  Any of the callback
    routines may be set to NULL if they are not needed.

    <P>Zero-sized properties are allowed and do not store any data in the
    property list.  These may be used as flags to indicate the presence or
    absence of a particular piece of information.  The 'default' pointer for a
    zero-sized property may be set to NULL.  The property 'create' & 'close'
    callbacks are called for zero-sized properties, but the 'set' and 'get'
    callbacks are never called.

    <P>The <EM>create</EM> routine is called when a new property list with this
    property is being created.  <code>H5P_prp_create_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_create_func_t)(
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>initial_value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: The name of the property being modified.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code> <em>initial_value</em>;
        <td>IN/OUT: The default value for the property being created.
                (The <EM>default</EM> value passed to H5Pregister)
    </table></ul>
    The <EM>create</EM> routine may modify the value to be set and those
    changes will be stored as the initial value of the property.  If the
    <EM>create</EM> routine returns a negative value, the new property value is
    not copied into the property and the create routine returns an error value.

    <P>The <EM>set</EM> routine is called before a new value is copied into the
    property.  <code>H5P_prp_set_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_set_func_t)(
            <code>hid_t </code><em>prop_id</em>, 
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>new_value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list being modified.
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: The name of the property being modified.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void **</code> <em>new_value</em>;
        <td>IN/OUT: Pointer to new value pointer for the property being modified.
    </table></ul>
    The <EM>set</EM> routine may modify the value pointer to be set and those
    changes will be used when setting the property's value.  If the <EM>set</EM>
    routine returns a negative value, the new property value is not copied into
    the property and the set routine returns an error value.  The <EM>set</EM>
    routine will not be called for the initial value, only the <EM>create</EM>
    routine will be called.

    <P>The <EM>get</EM> routine is called when a value is retrieved from a property
    value.  <code>H5P_prp_get_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_get_func_t)(
            <code>hid_t </code><em>prop_id</em>, 
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list being queried.
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: The name of the property being queried.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code> <em>value</em>;
        <td>IN/OUT: The value of the property being returned.
    </table></ul>
    The <EM>get</EM> routine may modify the value to be returned from the
    query and those changes will be returned to the calling routine.  If the
    <EM>set</EM> routine returns a negative value, the query routine returns
    an error value.

    <P>The <EM>delete</EM> routine is called when a property is being deleted
    from a property list.  <code>H5P_prp_delete_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_delete_func_t)(
            <code>hid_t </code><em>prop_id</em>, 
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list the property is being deleted from.
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: The name of the property in the list.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code> <em>value</em>;
        <td>IN: The value for the property being deleted.
    </table></ul>
    The <EM>delete</EM> routine may modify the value passed in, but the value is
    not used by the library when the <EM>delete</EM> routine returns.  If the
    <EM>delete</EM> routine returns a negative value, the property list delete
    routine returns an error value but the property is still deleted.
    
    <P>The <EM>copy</EM> routine is called when a new property list with this
    property is being created through a copy operation.  <code>H5P_prp_copy_func_t</code>
    is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_copy_func_t)(
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: The name of the property being copied.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code> <em>value</em>;
        <td>IN/OUT: The value for the property being copied.
    </table></ul>
    The <EM>copy</EM> routine may modify the value to be set and those
    changes will be stored as the new value of the property.  If the
    <EM>copy</EM> routine returns a negative value, the new property value is
    not copied into the property and the copy routine returns an error value.

    <P>The <EM>close</EM> routine is called when a property list with this
    property is being closed.  <code>H5P_prp_close_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_close_func_t)(
            <code>hid_t </code><em>prop_id</em>, 
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list being closed.
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: The name of the property in the list.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code> <em>value</em>;
        <td>IN: The value for the property being closed.
    </table></ul>
    The <EM>close</EM> routine may modify the value passed in, but the value is
    not used by the library when the <EM>close</EM> routine returns.  If the
    <EM>close</EM> routine returns a negative value, the property list close
    routine returns an error value but the property list is still closed.
    
<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>The <EM>set</EM> callback function may be useful to range check the value being
    set for the property or may perform some tranformation/translation of the
    value set.  The <EM>get</EM> callback would then [probably] reverse the
    transformation, etc.  A single <EM>get</EM> or <EM>set</EM> callback could
    handle multiple properties by performing different actions based on the
    property name or other properties in the property list.

    <P>I would like to say "the property list is not closed" when a <EM>close</EM>
    routine fails, but I don't think that's possible due to other properties in
    the list being successfully closed & removed from the property list.  I
    suppose that it would be possible to just remove the properties which have
    successful <EM>close</EM> callbacks, but I'm not happy with the ramifications
    of a mangled, un-closable property list hanging around... Any comments?
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pinsert">H5Pinsert</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Register a temporary property with a property list

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Pinsert(<em>plid, name, size, value, set, get, close</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>plid</em>;
        <td>IN: Property list id to create temporary property within.
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property to create.
    <tr>
        <td><code>size_t</code> <em>size</em>;
        <td>IN: Size of property in bytes.
    <tr>
        <td><code>void *</code><em>value</em>;
        <td>IN: Initial value for the property.
    <tr>
        <td><code>H5P_prp_set_func_t</code> <em>set</em>;
        <td>IN: Callback routine called before a new value is copied into the
                property's value.
    <tr>
        <td><code>H5P_prp_get_func_t</code> <em>get</em>;
        <td>IN: Callback routine called when a property value is retrieved from
                the property.
    <tr>
        <td><code>H5P_prp_delete_func_t</code> <em>delete</em>;
        <td>IN: Callback routine called when a property is deleted from
                a property list.
    <tr>
        <td><code>H5P_prp_copy_func_t</code> <em>copy</em>;
        <td>IN: Callback routine called when a property is copied from
                an existing property list.
    <tr>
        <td><code>H5P_prp_close_func_t</code> <em>close</em>;
        <td>IN: Callback routine called when a property list is being closed and
                the property value will be disposed of.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Create a new property in a property list.  The property will exist only
    in this property list and copies made from it.  The name of the property
    must not already exist in this list, or this routine will fail.  The
    initial property value must be provided and the property value will be set
    to it.  The <em>set</em> and <em>get</em> callback routines may be set to
    NULL if they are not needed.

    <P>Zero-sized properties are allowed and do not store any data in the
    property list.  The default value of a zero-size property may be set to
    NULL.  They may be used to indicate the presence or absence of a particular
    piece of information.

    <P>The <em>set</em> routine is called before a new value is copied into the
    property.  The <code>H5P_prp_set_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_set_func_t)(
            <code>hid_t</code> <em>prop_id</em>,
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>new_value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list being modified.
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: The name of the property being modified.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void **</code><em>new_value</em>;
        <td>IN: Pointer to new value pointer for the property being modified.
    </table></ul>
    The <em>set</em> routine may modify the value pointer to be set and those
    changes will be used when setting the property's value.  If the <em>set</em>
    routine returns a negative value, the new property value is not copied into
    the property and the set routine returns an error value.  The <em>set</em>
    routine will be called for the initial value.

    <P>The <em>get</em> routine is called when a value is retrieved from a property
    value.  The <code>H5P_prp_get_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_get_func_t)(
            <code>hid_t</code> <em>prop_id</em>, 
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list being queried.
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: The name of the property being queried.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code><em>value</em>;
        <td>IN: The value of the property being returned.
    </table></ul>
    The <em>get</em> routine may modify the value to be returned from the query and
    those changes will be preserved.  If the <em>get</em> routine returns a negative
    value, the query routine returns an error value.

    <P>The <EM>delete</EM> routine is called when a property is being deleted
    from a property list.  <code>H5P_prp_delete_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_delete_func_t)(
            <code>hid_t </code><em>prop_id</em>, 
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list the property is being deleted from.
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: The name of the property in the list.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code> <em>value</em>;
        <td>IN: The value for the property being deleted.
    </table></ul>
    The <EM>delete</EM> routine may modify the value passed in, but the value is
    not used by the library when the <EM>delete</EM> routine returns.  If the
    <EM>delete</EM> routine returns a negative value, the property list delete
    routine returns an error value but the property is still deleted.
    
    <P>The <EM>copy</EM> routine is called when a new property list with this
    property is being created through a copy operation.  <code>H5P_prp_copy_func_t</code>
    is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_copy_func_t)(
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>const char *</code> <em>name</em>;
        <td>IN: The name of the property being copied.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code> <em>value</em>;
        <td>IN/OUT: The value for the property being copied.
    </table></ul>
    The <EM>copy</EM> routine may modify the value to be set and those
    changes will be stored as the new value of the property.  If the
    <EM>copy</EM> routine returns a negative value, the new property value is
    not copied into the property and the copy routine returns an error value.

    <P>The <em>close</em> routine is called when a property list with this
    property is being closed.  The <code>H5P_prp_close_func_t</code> is defined as:
        <ul><code>typedef herr_t</code> (*H5P_prp_close_func_t)(
            <code>hid_t</code> <em>prop_id</em>,
            <code>const char *</code><em>name</em>,
            <code>size_t </code><em>size</em>,
            <code>void *</code><em>value</em>);
        </ul>
    where the parameters to the callback function are:
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>prop_id</em>;
        <td>IN: The ID of the property list being closed.
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: The name of the property in the list.
    <tr>
        <td><code>size_t </code> <em>size</em>;
        <td>IN: The size of the property in bytes.
    <tr>
        <td><code>void *</code><em>value</em>;
        <td>IN: The value for the property being closed.
    </table></ul>
    The <em>close</em> routine may modify the value passed in, the value is not
    used by the library when the <em>close</em> routine returns.  If the
    <em>close</em> routine returns a negative value, the property list close
    routine returns an error value but the property list is still closed.
    
<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <P>The <em>set</em> callback function may be useful to range check the value
    being set for the property or may perform some tranformation/translation of
    the value set.  The <em>get</em> callback would then [probably] reverse the
    transformation, etc.  A single <em>get</em> or <em>set</em> callback could
    handle multiple properties by performing different actions based on the
    property name or other properties in the property list.

    <P>There is no <em>create</em> callback routine for temporary property list
    objects, the initial value is assumed to have any necessary setup already
    performed on it.

    <P>I would like to say "the property list is not closed" when a <em>close</em>
    routine fails, but I don't think that's possible due to other properties in
    the list being successfully closed & removed from the property list.  I
    suppose that it would be possible to just remove the properties which have
    successful <em>close</em> callbacks, but I'm not happy with the ramifications
    of a mangled, un-closable property list hanging around... Any comments?
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pset">H5Pset</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Set a property list value

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Pset(<em>plid, name, value</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>plid</em>;
        <td>IN: Property list id to modify
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property to modify.
    <tr>
        <td><code>void *</code><em>value</em>;
        <td>IN: Pointer to value to set the property to.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Sets a new value for a property in a property list.  The property name
    must exist or this routine will fail.  If there is a <em>set</em> callback
    routine registered for this property, the <em>value</em> will be passed to
    that routine and any changes to the <em>value</em> will be used when setting
    the property value.  The information pointed at by the <em>value</em>
    pointer (possibly modified by the <em>set</em> callback) is copied into the
    property list value and may be changed by the application making the H5Pset
    call without affecting the property value.

    <P>If the <em>set</em> callback routine returns an error, the property
    value will not be modified.  This routine may not be called for zero-sized
    properties and will return an error in that case.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pexist">H5Pexist</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Query if a property name exists in a property list or class

<dt><strong><P>USAGE</strong>
    <dd><code>htri_t</code> H5Pexist(<em>id, name</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>id</em>;
        <td>IN: Property ID to query
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property to check for.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: Positive if the property exists in the property object, zero
            if the property does not exist.
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>This routine checks if a property exists within a property list or
    class.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pget_size">H5Pget_size</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Query size of property value in bytes

<dt><strong><P>USAGE</strong>
    <dd><code>int</code> H5Pget_size(<em>id, name, size</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>id</em>;
        <td>IN: ID of property object to query
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property to query
    <tr>
        <td><code>size_t *</code><em>size</em>;
        <td>OUT: Size of property in bytes
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>This routine retrieves the size of a property's value in bytes.  Zero-
    sized properties are allowed and return 0.  This function operates on both
    poperty lists and property classes

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pget_nprops">H5Pget_nprops</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Query number of properties in property list or class

<dt><strong><P>USAGE</strong>
    <dd><code>int</code> H5Pget_nprops(<em>id, nprops</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>id</em>;
        <td>IN: ID of property object to query
    <tr>
        <td><code>size_t *</code><em>nprops</em>;
        <td>OUT: Number of properties in object
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>This routine retrieves the number of properties in a property list or
    class.  If a property class ID is given, the number of registered properties
    in the class is returned in <code>nprops</code>.  If a property list ID is
    given, the current number of properties in the list is returned in
    <code>nprops</code>.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pget_class_name">H5Pget_class_name</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Retrieve the name of a class

<dt><strong><P>USAGE</strong>
    <dd><code>char *</code> H5Pget_class_name(<em>pcid</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>pcid</em>;
        <td>IN: Property class id to query
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: Pointer to a malloc'ed string containing the class name
    <dd>Failure: NULL

<dt><strong><P>DESCRIPTION</strong>
    <dd>This routine retrieves the name of a generic property list class.
    The pointer to the name must be free'd by the user for successful calls.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pget_class_parent">H5Pget_class_parent</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Retrieve the parent class of a property class

<dt><strong><P>USAGE</strong>
    <dd><code>hid_t </code> H5Pget_class_parent(<em>pcid</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>pcid</em>;
        <td>IN: Property class ID to query
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: ID of parent class object
    <dd>Failure: negative

<dt><strong><P>DESCRIPTION</strong>
    <dd>This routine retrieves an ID for the parent class of a property class.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pisa_class">H5Pisa_class</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Check if a property list is a member of a class

<dt><strong><P>USAGE</strong>
    <dd><code>htri_t</code> H5Pisa_class(<em>plist, pclass</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>plist</em>;
        <td>IN: ID of property list to compare
    <tr>
        <td><code>hid_t</code> <em>pclass</em>;
        <td>IN: ID of property class to compare against
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: TRUE (positive) if equal, FALSE (zero) if unequal
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>This routine checks if a property list is a member of a class.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pget">H5Pget</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Query value of property

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Pget(<em>plid, name, value</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>plid</em>;
        <td>IN: Property list id to query
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property to query
    <tr>
        <td><code>void *</code><em>value</em>;
        <td>OUT: Pointer to location to copy value of property retrieved into.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value.
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Retrieves a copy of the value for a property in a property list.  The
    property name must exist or this routine will fail.  If there is a
    <em>get</em> callback routine registered for this property, the copy of the
    value of the property will first be passed to that routine and any changes
    to the copy of the value will be used when returning the property value
    from this routine.  If the <em>get</em> callback routine returns an error,
    <em>value</em> will not be modified.  This routine may be called for
    zero-sized properties with the <em>value</em> set to NULL and the
    <em>get</em> routine will be called with a NULL value if the callback
    exists.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pequal">H5Pequal</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Compare two property lists or classes for equality

<dt><strong><P>USAGE</strong>
    <dd><code>htri_t</code> H5Pequal(<em>id1, id2</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>id1</em>;
        <td>IN: First property object to compare
    <tr>
        <td><code>hid_t</code> <em>id2</em>;
        <td>IN: Second property object to compare
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: TRUE (positive) if equal, FALSE (zero) if unequal
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>This routine determines whether two property lists or classes are
    equal to one another.  Both <code>id1</code> and <code>id2</code> must
    be either property lists or classes, comparing a list to a class is an
    error.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Piterate">H5Piterate</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Iterates over properties in a property class or list

<dt><strong><P>USAGE</strong>
    <dd><code>int</code> H5Piterate(<em>idass_id, idx, iter_func, iter_data</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>id</em>;
        <td>IN: ID of property object to iterate over
    <tr>
        <td><code>int *</code> <em>idx</em>;
        <td>IN/OUT: Index of the property to begin with
    <tr>
        <td><code>H5P_iterate_t</code> <em>iter_func</em>;
        <td>IN: Function pointer to function to be called with each property
                iterated over.
    <tr>
        <td><code>void *</code> <em>iter_data</em>;
        <td>IN/OUT: Pointer to iteration data from user
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <ul><table>
    <tr>
        <td valign=top>Success:
        <td>Returns the return value of the last call to
            <code>iter_func</code> if it
            was non-zero, or zero if all properties have been processed.
    <tr>
        <td valign=top>Failure:
        <td>negative value
    </table></ul>

<dt><strong><P>DESCRIPTION</strong>
    <P>This routine iterates over the properties in the property object specified
    with ID.  The properties in both property lists and classes may be iterated
    over with this function.  For each property in the object, the
    <code>iter_func</code> and
    some additional information, specified below, are passed to the
    <code>iter_func</code>
    function.  The iteration begins with the <code>idx</code> property in the
    object and the
    next element to be processed by the operator is returned in <code>idx</code>.
    If <code>idx</code> is
    NULL, then the iterator starts at the first property; since no stopping point
    is returned in this case, the iterator cannot be restarted if one of the calls
    to its operator returns non-zero.

    <P>The prototype for H5P_iterate_t is:
        <ul> <dl>
            <dt>typedef herr_t (*H5P_iterate_t)(hid_t id, const char *name, void *iter_data)
        </dl> </ul>
    The operation receives the property list or class identifier for the object
    being iterated over, ID, the name of the current property within the object,
    <code>name</code>, and the pointer to the operator data passed in to
    H5Piterate, <code>iter_data</code>.

    <P>The return values from an operator are:
        <ul><table>
        <tr>
            <td valign=top>Zero:
            <td>Causes the iterator to continue, returning zero when all
                properties have been processed.
        <tr>
            <td valign=top>Positive:
            <td>Causes the iterator to immediately return that positive value,
                indicating short-circuit success. The iterator can be restarted at the
                index of the next property.
        <tr>
            <td valign=top>Negative:
            <td>Causes the iterator to immediately return that value,
                indicating failure. The iterator can be restarted at the index
                of the next property.
        </table></ul>

    <P>H5Piterate assumes that the properties in the object identified by ID remains
    unchanged through the iteration.  If the membership changes during the
    iteration, the function's behavior is undefined.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Pcopy_prop">H5Pcopy_prop</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Copies a property from one list or class to another

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Pcopy_prop(<em>dst_id, src_id, name</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>dst_id</em>;
        <td>IN: ID of destination property list or class
    <tr>
        <td><code>hid_t</code> <em>src_id</em>;
        <td>IN: ID of source property list or class
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property to copy
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value.
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Copies a property from one property list or class to another.
    <P>If a
    property is copied from one class to another, all the property information
    will be first deleted from the destination class and then the property
    information will be copied from the source class into the destination
    class.  
    <P>If a property is copied from one list to another, the property
    will be first deleted from the destination list (generating a call to the
    <em>close</em> callback for the property, if one exists) and then the
    property is copied from the source list to the destination list (generating
    a call to the <em>copy</em> callback for the property, if one exists).
    <P>If the property does not exist in the class or list, this call is equivalent
    to calling H5Pregister or H5Pinsert (for a class or list, as appropriate)
    and the <em>create</em> callback will be called in the case of the property
    being copied into a list (if such a callback exists for the property).

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Premove">H5Premove</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Removes a property from a property list

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Premove(<em>plid, name</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>plid</em>;
        <td>IN: Property list id to modify
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property to remove
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value.
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Removes a property from a property list.  Both properties which were
    in existance when the property list was created (i.e. properties registered
    with H5Pregister) and properties added to the list after it was created
    (i.e. added with H5Pinsert) may be removed from a property list.
    Properties do not need to be removed a property list before the list itself
    is closed, they will be released automatically when H5Pclose is called.
    The <em>close</em> callback for this property is called before the property is
    release, if the callback exists.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
</dl>

<hr>
<dl>

<dt><strong><P>NAME</strong>
    <dd><a name="H5Punregister">H5Punregister</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Removes a property from a property list class

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Punregister(<em>class, name</em>)
    <ul><table>
    <tr>
        <td><code>H5P_class_t</code> <em>class</em>;
        <td>IN: Property list class to remove permanent property from.
    <tr>
        <td><code>const char *</code><em>name</em>;
        <td>IN: Name of property to remove
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value.
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Removes a property from a property list class.  Future property lists
    created of that class will not contain this property.  Existing property
    lists containing this property are not affected.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>
<dt><strong><P>NAME</strong>
    <dd><a name="H5Pclose_list">H5Pclose_list</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Close a property list

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Pclose_list(<em>plist</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>plist</em>;
        <td>IN: Property list to close.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Closes a property list.  If a <em>close</em>
    callback exists for the property list class, it is called before the
    property list is destroyed.  If <em>close</em> callbacks exist for any
    individual properties in the property list, they are called after the
    class <em>close</em> callback.
    
<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<dl>
<dt><strong><P>NAME</strong>
    <dd><a name="H5Pclose_class">H5Pclose_class</a>

<dt><strong><P>PURPOSE</strong>
    <dd>Closes an existing property list class

<dt><strong><P>USAGE</strong>
    <dd><code>herr_t</code> H5Pclose_class(<em>class</em>)
    <ul><table>
    <tr>
        <td><code>hid_t</code> <em>class</em>;
        <td>IN: Property list class to close.
    </table></ul>

<dt><strong><P>RETURNS</strong>
    <dd>Success: non-negative value
    <dd>Failure: negative value

<dt><strong><P>DESCRIPTION</strong>
    <dd>Removes a property list class from the library.  Existing property
    lists of this class will continue to exist, but new ones are not able to
    be created.

<dt><strong><P>COMMENTS, BUGS, ASSUMPTIONS</strong>
    <dd>[?]
</dl>

<hr>
<h3>Examples:</h3>

<b>Example #1</b>: Register a new property for future dataset creation
property lists. This property uses a "set" callback to range check the
values for the property. This set of features would likely be used with
Virtual File or Dataset drivers. This example also shows how get/set API
functions for the property registered might work.
<pre>
/* Property "set" callback */
herr_t driver_set_check(hid_t prop, const char *name, void *_value)
{
    int *value=(int *)_value;

    /* Check that this routine is called for proper property name */
    if(strcmp(name,"property1"))
        return(-1);

    /* Range check property value */
    if(*value&lt;0 || *value>SOME_LIMIT)
        return(-1);

    /* Name and value are OK */
    return(0);
}

/* An API routine that sets the property for this driver */
herr_t H5Pset_driver_property1(hid_t prop, int value)
{
    /*
     *  Call the generic H5Pset routine and let the "set" callback do the
     *  range checking, etc.
     */
    return(<a href="#H5Pset">H5Pset</a>(prop, "property1", &amp;value));
}

/* An API routine that gets the property for this driver */
herr_t H5Pget_driver_property1(hid_t prop, int *value)
{
    /* Call the generic H5Pget routine to retrieve the value */
    return(<a href="#H5Pget">H5Pget</a>(prop, "property1", value));
}

int setup_driver()
{
    int prop1_default=12;       /* Default value for "property1" */

    [Set up other driver information]

    /* Register new property with Dataset Creation property list class */
    /* Provide a "set" callback, but no "get" callback for this property */
    <a href="#H5Pregister">H5Pregister</a>(H5P_DATASET_CREATE, "property1", sizeof(int), &amp;prop1_default,
        driver_set_check, NULL);

}

int shutdown_driver()
{
    [Shut down other driver information]

    /* Unregister property from Dataset Creation property list class */
    <a href="#H5Punregister">H5Punregister</a>(H5P_DATASET_CREATE, "property1");
}

</pre>

<hr>
<i>QAK:9/10/01</i>
</body>
</html>
