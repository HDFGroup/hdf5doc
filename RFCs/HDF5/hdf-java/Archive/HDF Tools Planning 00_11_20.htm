<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0072)https://internal.ncsa.uiuc.edu/ITech/HDF/Java-HDF5/Plans/Dec00/Dec00.htm -->
<HTML><HEAD><TITLE>HDF Tools Planning</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 5.50.4134.600" name=GENERATOR>
<META content="Robert E. McGrath" name=Author></HEAD>
<BODY text=#000000 vLink=#551a8b aLink=#ff0000 link=#0000ee bgColor=#ffffff>
<H2>HDF Tools November/December 2000 Tasks</H2>November 20, 2000 
<P>In this six weeks we will finish up several milestones for this quarter and 
calendar year. <BR>&nbsp; <BR>&nbsp; 
<H3>Java HDF Viewer (HDF4)</H3>
<UL>
  <LI>Bug fix release plus link with HDF4R4 <BR>To be completed within 2 weeks 
  of HDF4 release.</LI></UL>
<H3>HDF5 Java</H3>
<UL>
  <LI>Update JHI5 to HDF5.1.4. <BR>To be completed within 2 weeks of HDF5.1.4 
  release. 
  <LI>Relink and check VisAD with HDF5.1.4 <BR>To be completed within 2 weeks of 
  HDF5.1.4 release.&nbsp; (Just try it and see, don't plan to debug or work on 
  this.) 
  <LI>H5view 
  <UL>
    <LI>Add XML support (see below) 
    <LI>Bug fixes, missing features TBD.&nbsp; (E.g., handling large data?) 
  </LI></UL></LI></UL>
<H3>HDF5 XML</H3>
<UL>
  <LI>Update XML DTD to HDF5.1.4.&nbsp; (E.g., Array datatypes).&nbsp; Shortly 
  after HDF5.1.4 release. 
  <LI>Complete critical H5gen features: 
  <UL>
    <LI>escape reserved characters in HDF5 names 
    <LI>"forward" object references 
    <LI>compound data </LI></UL>
  <LI>XML input and output in H5View 
  <LI>h5dump XML option ready for initial review and check in. <BR>After the 
  HDF5.1.4 release.</LI></UL>
<H3>HDF4-HDF5 Conversion</H3>
<UL>
  <LI>h4toh5 utility beta release. <BR>Done in the HDF5.1.4 release. 
  <LI>h4toh5 utility test suite 
  <UL>
    <LI>test coverage planned 
    <LI>initial test suite prepared 
    <LI>manual testing on most platforms <BR>Completed by HDF5.1.4 freeze 
    date</LI></UL>
  <LI>h4toh5 automated test <BR>Completed shortly after HDF5.1.4 
release.</LI></UL>
<HR width="100%">
<BR>&nbsp; 
<H2>HDF Tools Q1 2001 Tasks</H2>In Q1 of 2001 we will complete significant new 
tasks, with a goal of software releases around March 2001. <BR>&nbsp; 
<H3>HDF4 Java</H3>
<UL>
  <LI>No planned work.&nbsp; But see below, H5view </LI></UL>
<H3>HDF5 Java</H3>
<UL>
  <LI>Add HDF4 ingest, using h4toh5 converter. </LI></UL>
<H3>HDF5 XML</H3>
<UL>
  <LI>Explore netcdf &lt;-&gt; HDF5 conversion via XML. </LI></UL>
<H3>HDF4 to HDF5</H3>
<UL>
  <LI>Complete test suite 
  <LI>Create a library API for H4 to H5 </LI></UL>
<HR width="100%">

<H2>Java HDF5/XML Products,</H2>
<H2>March 2001</H2>
<P><BR>We will have a more integrated set of tools for manipulating HDF5, and 
converting to an from other formats.&nbsp; The <I>h5dump</I> utility, 
<I>h5toh5</I> utility, and <I>H5gen</I> tool will all interoperate, with the 
<I>H5view</I> tool providing a unified graphical interface. 
<P>The H5view will have the following features: 
<UL>
  <LI>capabilities to browse and edit an HDF5 file (already released) 
  <LI>ability to read in an XML description of an HDF5 file. 
  <LI>ability to save an HDF5 file as XML 
  <LI>ability to convert an HDF4 file to HDF5, using the <I>h4toh5</I> 
  converter. </LI></UL>In addition, it may be possible to ingest netcdf files by 
converting them to HDF5 via XML. <BR>&nbsp; 
<H3>Read XML into <I>H5view</I></H3>
<P><BR>The <I>H5view</I> tool will call the <I>H5gen</I> classes to read the XML 
file and create an HDF5 file.&nbsp; Then <I>H5view</I> will open the HDF5 file, 
and view or edit it. 
<P>This feature can be used for various purposes: 
<UL>
  <LI>as a visual interface to the <I>H5gen</I> tool, 
  <LI>the XML can be used as a "template" for creating HDF5 files, 
  <LI>etc. </LI></UL>Note that the <I>h5dump -xml</I> option will dump a 
description of an HDF5 file in XML, suitable for reading with the <I>H5view</I>. 
<BR>&nbsp; 
<H3>Write XML for an HDF5 File</H3>
<P><BR>The <I>H5view</I> will output a description of the HDF5 file as 
XML.&nbsp; The XML output of <I>h5dump -xml</I> and <I>H5view</I> will be as 
identical as can be achieved.&nbsp; This feature can be used for any HDF5 file. 
<BR>&nbsp; 
<H3>Summary of XML support</H3>
<P><BR>The <I>H5view</I> edits HDF5 files.&nbsp; With the new features, it will 
support automatic conversion of XML to HDF5 (and then editing, etc. the HDF5) 
and automatic conversion of the HDF5 to XML.&nbsp; Note that the <I>H5View</I> 
will <I>not</I> view or edit the XML directly, it converts to and from HDF5, and 
edits only the HDF5. 
<P>The input conversion (from XML to HDF5) will use the same code as the 
<I>H5gen </I>tool, so it will produce identical results as using the 
<I>H5gen</I> tool separately. 
<P>The output conversion will produce the same output as the<I> h5dump -xml 
</I>command, as nearly as can be achieved. 
<P>Thus, these tools will all work together seamlessly.&nbsp; Theoretically, the 
transformations will be completely lossless and reversible. 
<BLOCKQUOTE><I><TT>XML<SUB>1</SUB> --&gt; HDF5 --&gt; XML<SUB>2</SUB>&nbsp; 
  &lt;=&gt; XML<SUB>1</SUB> == XML<SUB>2</SUB></TT></I> <BR><I><TT>HDF5<SUB>1 
  </SUB>--&gt; XML --&gt; HDF5<SUB>2&nbsp;</SUB> &lt;=&gt; HDF5<SUB>1</SUB> == 
  HDF5<SUB>2</SUB></TT></I></BLOCKQUOTE>
<H2>HDF4 Support in <I>H5View</I></H2>
<P><BR>We propose to make the <I>H5View</I> tool ingest HDF4 files, via the 
<I>h4toh5</I> conversion tool/library.&nbsp; The <I>H5view</I> would detect an 
HDF4 file, and convert it to HDF5, and then open the HDF5 file. 
<P>In this way, the <I>H5View</I> can be used as an easy visual interface for 
converting from HDF4 to HDF5.&nbsp; This has the advantage of showing the 
conversion result immediately, and allowing editing of the converted file.&nbsp; 
The latter will be helpful in the case where the default conversion needs to be 
cleaned up or modified in a simple way, such as deleting unneeded attributes. 
<P>If this is successful, we may migrate most features of the <I>JHV</I> tool to 
the <I>H5view </I>tool, and phase out the <I>JHV</I>.&nbsp; This remains to be 
seen. <BR>&nbsp; 
<H3>Technical approach</H3>
<P><BR>The <I>h4toh5</I> conversion is available as a standalone command line 
utility.&nbsp; The <I>H5View</I> can launch this utility to convert a file, but 
would prefer to use library calls (wrapped in Java).&nbsp; So there will be a 
two-phase approach. 
<P><B>Phase 1</B> will use the <I>h4toh5</I> utility, launched as a separate 
program in the background.&nbsp; The main challenge with this is the necessary 
packaging and install support, which must assure the <I>h4toh5</I> utility is 
available to run.&nbsp; (The <I>H5View</I> is self-contained, and does not 
require the HDF5 distribution to be on the system.) 
<CENTER><IMG height=388 src="HDF Tools Planning 00_11_20_files/Slide6.jpg" 
width=598 border=2> <BR><B>Figure 1.&nbsp; Phase 1 HDF4 support.</B></CENTER>
<P><B>Phase 2</B> will use the <I>h4toh5</I> library API when it becomes 
available and when it is wrapped with Java.&nbsp; The library will be bound in 
with the rest of the Java support library, so the packing issues will be 
simplified. 
<CENTER>
<P><IMG height=388 src="HDF Tools Planning 00_11_20_files/Slide5.jpg" width=598 
border=1> <BR><B>Figure 2.&nbsp; Phase 2 HDF4 support</B></CENTER>
<P>Both phases will work the same way, and users will probably not notice the 
change in the implementations. <BR>&nbsp; 
<H2>Netcdf/HDF5 Conversion</H2>
<P><BR>With a stable suite of HDF5 XML tools, we can explore some of the 
powerful features of XML.&nbsp; At the top of the list of proposed experiments 
is netcdf/HDF5 conversions. 
<P>Netcdf has an XML DTD, and netcdf &lt;-&gt; XML tools (written in C?). 
<I>xncgen</I> creates netcdf from XML, <I>xncdump</I> dumps XML from netcdf. 
<P>Theoretically, we should be able to create XSL style sheets to convert a 
netcdf XML description to HDF5 XML description, and some HDF5 XML descriptions 
to netcdf XML descriptions. 
<P>If so, then we can convert from netcdf to HDF5 by converting netcdf -&gt; XML 
-&gt; XML -&gt; HDF5.&nbsp; And similarly, perhaps, the other way (at least for 
HDF5 files that can be conceptually mapped to netcdf.) 
<CENTER>
<P><IMG height=388 src="HDF Tools Planning 00_11_20_files/Slide4.jpg" width=598 
border=1> 
<P><B>Figure 3.&nbsp; Netcdf to HDF5 conversion, using 
XML</B></CENTER></P></BODY></HTML>
