<HTML>
<HEAD>
   <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <TITLE>A Performance Comparison of Inserting Records in B-Trees vs. Extensible Arrays in HDF5</TITLE>
</HEAD>

<BODY text="#000000" bgcolor="#FFFFFF">
<STYLE type="text/css">
OL.upperroman { list-style-type: upper-roman }
OL.upperalpha { list-style-type: upper-alpha }
OL.numeric { list-style-type: numeric }
OL.loweralpha { list-style-type: lower-alpha }
OL.lowerroman { list-style-type: lower-roman }
</STYLE>

<CENTER>
<H3>A Performance Comparison of Inserting Records in B-Trees vs. Extensible Arrays in HDF5</H3>
Quincey Koziol<BR>
The HDF Group<BR>
koziol@hdfgroup.org<BR>
Version 0.1<BR>
December 11<sup>th</sup>, 2008
</CENTER>

<OL class="upperroman">
<LI><H3><U>Background</U></H3>
<P>This document is written for the HDF5 development team, and outside
developers who are familiar with HDF5's current data model.
Certain commonly used terms in
HDF5 are not explained in detail, please see the HDF5 documentation at
<A href="http://www.hdfgroup.org/HDF5">http://www.hdfgroup.org/HDF5</A>
for more information about HDF5.
</P>

<P>
See the general overview of changes to chunked dataset storage in HDF5 for
a description of the current implementation of indexing chunks in HDF5:
<A href="../ReviseChunks.html">Revising Chunked Dataset Storage in HDF5</A>.
The B-tree data structure is also described in the first sections of that
document.
</P>

<P>
See the derivation of the extensible array data structure used here in this
document:
<A href="SkipListChunkIndex.html">Skip Lists to Extensible Arrays</A>.
</P>

<P>
See the theoretical I/O performance predictions for B-Trees vs. Extensible
Arrays in this document:
<A href="BtreeVSExtensibleArray.html">B-Trees vs. Extensible Arrays for
Locating Chunks in HDF5 Datasets</A>
</P>

<LI><H3><U>Introduction</U></H3>
<P>
This document compares actual I/O performance and storage space usage between
v1 B-trees, v2 B-trees and extensible array data structures, when inserting
records that are the same as needed for locating the chunks of chunked HDF5
datasets.  Two common operations on these data structures are compared:
appending a new record to the dataset and locating an existing record.
</P>

<LI><H3><U>Benchmark Source Code</U></H3>
<P>
Source code for the benchmarks used in this document is located in these files:
    <UL>
        <LI><A href="benchmark/Makefile">Makefile</A>
        <LI><A href="benchmark/common.c">common.c</A>
        <LI><A href="benchmark/benchmark.h">benchmark.h</A>
        <LI><A href="benchmark/btree.c">btree.c</A>
        <LI><A href="benchmark/btree2.c">btree2.c</A>
        <LI><A href="benchmark/earray.c">earray.c</A>
    </UL>

The tests documented here were performed against revision 16172 of the hdf5
subversion "trunk", located at: http://svn.hdfgroup.uiuc.edu/hdf5/trunk.  The
test data was gathered with this script: <A href="benchmark/test.csh">test.csh</A>
</P>

<P>
The benchmark data for these tests was performed on the local disk of a
MacBookPro running Mac OS X 10.5.5 and the local disk of a 64-bit Linux machine,
running Linux 2.6.9.
</P>

<LI><H3><U>Raw Data for I/O Performance</U></H3>
<P>
The following table shows the raw timing data for running each size of benchmark,
measuring the time from just before opening the HDF5 file to just after closing
it, in order to capture the final flushing of the metadata cache when running
the benchmarks in 'write' mode.
<CENTER>
    <TABLE>
        <TABLE border=1>
        <TR align=center>
            <TD rowspan=2>Number of Elements in Data Structure
            <TD colspan=2>v1 B-Tree
            <TD colspan=2>v2 B-Tree
            <TD colspan=2>Extensible Array

        <TR align=center>
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)

        <TR align=center>
            <TD>1 x 10<SUP>3</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.003217
                    <TR>
                        <TD> 0.003583
                    <TR>
                        <TD> 0.003127
                    <TR>
                        <TD> 0.003431
                    <TR>
                        <TD> 0.003451
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.183161
                    <TR>
                        <TD> 0.006284
                    <TR>
                        <TD> 0.019981
                    <TR>
                        <TD> 0.010556
                    <TR>
                        <TD> 0.005055
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.003611
                    <TR>
                        <TD> 0.003411
                    <TR>
                        <TD> 0.003344
                    <TR>
                        <TD> 0.002899
                    <TR>
                        <TD> 0.003343
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.123029
                    <TR>
                        <TD> 0.005529
                    <TR>
                        <TD> 0.003899
                    <TR>
                        <TD> 0.003433
                    <TR>
                        <TD> 0.003560
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.003198
                    <TR>
                        <TD> 0.003237
                    <TR>
                        <TD> 0.003248
                    <TR>
                        <TD> 0.002774
                    <TR>
                        <TD> 0.003225
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.164371
                    <TR>
                        <TD> 0.005313
                    <TR>
                        <TD> 0.012962
                    <TR>
                        <TD> 0.005805
                    <TR>
                        <TD> 0.003935
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>4</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.011310
                    <TR>
                        <TD> 0.011303
                    <TR>
                        <TD> 0.011283
                    <TR>
                        <TD> 0.011311
                    <TR>
                        <TD> 0.011496
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.014531
                    <TR>
                        <TD> 0.021527
                    <TR>
                        <TD> 0.016478
                    <TR>
                        <TD> 0.019613
                    <TR>
                        <TD> 0.015528
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.010814
                    <TR>
                        <TD> 0.011316
                    <TR>
                        <TD> 0.010313
                    <TR>
                        <TD> 0.010276
                    <TR>
                        <TD> 0.011229
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.011604
                    <TR>
                        <TD> 0.014108
                    <TR>
                        <TD> 0.012349
                    <TR>
                        <TD> 0.012380
                    <TR>
                        <TD> 0.014087
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.007635
                    <TR>
                        <TD> 0.007181
                    <TR>
                        <TD> 0.007048
                    <TR>
                        <TD> 0.007054
                    <TR>
                        <TD> 0.007036
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.011229
                    <TR>
                        <TD> 0.009186
                    <TR>
                        <TD> 0.007996
                    <TR>
                        <TD> 0.008323
                    <TR>
                        <TD> 0.008243
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>5</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.097543
                    <TR>
                        <TD> 0.099632
                    <TR>
                        <TD> 0.100035
                    <TR>
                        <TD> 0.097703
                    <TR>
                        <TD> 0.098230
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.089341
                    <TR>
                        <TD> 0.160540
                    <TR>
                        <TD> 0.126814
                    <TR>
                        <TD> 0.133367
                    <TR>
                        <TD> 0.201932
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.093022
                    <TR>
                        <TD> 0.093743
                    <TR>
                        <TD> 0.091667
                    <TR>
                        <TD> 0.092030
                    <TR>
                        <TD> 0.094083
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.108142
                    <TR>
                        <TD> 0.153796
                    <TR>
                        <TD> 0.136442
                    <TR>
                        <TD> 0.133702
                    <TR>
                        <TD> 0.137285
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.050030
                    <TR>
                        <TD> 0.051065
                    <TR>
                        <TD> 0.049000
                    <TR>
                        <TD> 0.049181
                    <TR>
                        <TD> 0.051043
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.076504
                    <TR>
                        <TD> 0.111239
                    <TR>
                        <TD> 0.073004
                    <TR>
                        <TD> 0.082826
                    <TR>
                        <TD> 0.075527
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>6</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.785386
                    <TR>
                        <TD> 0.806855
                    <TR>
                        <TD> 0.747386
                    <TR>
                        <TD> 0.821560
                    <TR>
                        <TD> 0.787316
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 1.292067
                    <TR>
                        <TD> 1.351907
                    <TR>
                        <TD> 1.306982
                    <TR>
                        <TD> 1.333408
                    <TR>
                        <TD> 1.523358
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.719871
                    <TR>
                        <TD> 0.669767
                    <TR>
                        <TD> 0.721276
                    <TR>
                        <TD> 0.710118
                    <TR>
                        <TD> 0.698786
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 1.526856
                    <TR>
                        <TD> 1.640655
                    <TR>
                        <TD> 1.667730
                    <TR>
                        <TD> 1.841001
                    <TR>
                        <TD> 1.663403
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.373852
                    <TR>
                        <TD> 0.374992
                    <TR>
                        <TD> 0.331805
                    <TR>
                        <TD> 0.405300
                    <TR>
                        <TD> 0.408441
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.646382
                    <TR>
                        <TD> 0.729788
                    <TR>
                        <TD> 0.733717
                    <TR>
                        <TD> 0.714921
                    <TR>
                        <TD> 0.734075
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>7</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 8.545928
                    <TR>
                        <TD> 8.563731
                    <TR>
                        <TD> 8.272690
                    <TR>
                        <TD> 8.791087
                    <TR>
                        <TD> 8.960966
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 15.321653
                    <TR>
                        <TD> 15.067388
                    <TR>
                        <TD> 14.915766
                    <TR>
                        <TD> 16.324303
                    <TR>
                        <TD> 15.482831
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 8.060159
                    <TR>
                        <TD> 8.744104
                    <TR>
                        <TD> 8.119496
                    <TR>
                        <TD> 8.662109
                    <TR>
                        <TD> 8.521110
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 17.554268
                    <TR>
                        <TD> 17.450339
                    <TR>
                        <TD> 17.517654
                    <TR>
                        <TD> 17.496505
                    <TR>
                        <TD> 17.023526
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 3.370786
                    <TR>
                        <TD> 3.379756
                    <TR>
                        <TD> 3.462263
                    <TR>
                        <TD> 3.497071
                    <TR>
                        <TD> 3.569270
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 7.765590
                    <TR>
                        <TD> 7.477790
                    <TR>
                        <TD> 7.390133
                    <TR>
                        <TD> 7.429994
                    <TR>
                        <TD> 7.450297
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>8</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 99.190419
                    <TR>
                        <TD> 101.390031
                    <TR>
                        <TD> 97.826062
                    <TR>
                        <TD> 98.044520
                    <TR>
                        <TD> 97.285159
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 171.593323
                    <TR>
                        <TD> 179.747423
                    <TR>
                        <TD> 178.269050
                    <TR>
                        <TD> 183.827495
                    <TR>
                        <TD> 180.468326
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 93.455344
                    <TR>
                        <TD> 94.566227
                    <TR>
                        <TD> 94.465516
                    <TR>
                        <TD> 94.483395
                    <TR>
                        <TD> 94.759827
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 192.219382
                    <TR>
                        <TD> 200.845601
                    <TR>
                        <TD> 205.553430
                    <TR>
                        <TD> 195.401835
                    <TR>
                        <TD> 198.049435
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 33.383065
                    <TR>
                        <TD> 34.074717
                    <TR>
                        <TD> 33.687198
                    <TR>
                        <TD> 33.635285
                    <TR>
                        <TD> 33.951595
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 82.226959
                    <TR>
                        <TD> 80.732968
                    <TR>
                        <TD> 79.487821
                    <TR>
                        <TD> 77.558936
                    <TR>
                        <TD> 76.905388
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>9</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 1074.754084
                    <TR>
                        <TD> 1071.362324
                    <TR>
                        <TD> 1049.086990
                    <TR>
                        <TD> 1051.569819
                    <TR>
                        <TD> 1044.462515
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 991.344249
                    <TR>
                        <TD> 999.237471
                    <TR>
                        <TD> 1003.837929
                    <TR>
                        <TD> 1001.774702
                    <TR>
                        <TD> 1003.805051
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 333.756018
                    <TR>
                        <TD> 356.203471
                    <TR>
                        <TD> 361.804652
                    <TR>
                        <TD> 351.520957
                    <TR>
                        <TD> 388.269743
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                </TABLE>
        </TABLE>
        <TR>
            <TD span=5 align=center><STRONG>Table 1: Write Elements to Data Structure</STRONG>
    </TABLE>
</CENTER>
</P>

<P>
The following table shows the raw timing data for running each size of benchmark,
measuring the time from just before opening the HDF5 file to just after closing
it when reading the elements written in the previous benchmark.
<CENTER>
    <TABLE>
        <TABLE border=1>
        <TR align=center>
            <TD rowspan=2>Number of Elements in Data Structure
            <TD colspan=2>v1 B-Tree
            <TD colspan=2>v2 B-Tree
            <TD colspan=2>Extensible Array

        <TR align=center>
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)

        <TR align=center>
            <TD>1 x 10<SUP>3</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.002691
                    <TR>
                        <TD> 0.002785
                    <TR>
                        <TD> 0.002740
                    <TR>
                        <TD> 0.002846
                    <TR>
                        <TD> 0.002355
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.003135
                    <TR>
                        <TD> 0.002658
                    <TR>
                        <TD> 0.002785
                    <TR>
                        <TD> 0.002751
                    <TR>
                        <TD> 0.003726
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.002980
                    <TR>
                        <TD> 0.002987
                    <TR>
                        <TD> 0.002917
                    <TR>
                        <TD> 0.002600
                    <TR>
                        <TD> 0.002995
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.003822
                    <TR>
                        <TD> 0.003798
                    <TR>
                        <TD> 0.003036
                    <TR>
                        <TD> 0.003657
                    <TR>
                        <TD> 0.003756
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.002447
                    <TR>
                        <TD> 0.002926
                    <TR>
                        <TD> 0.002473
                    <TR>
                        <TD> 0.002839
                    <TR>
                        <TD> 0.002869
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.002805
                    <TR>
                        <TD> 0.003196
                    <TR>
                        <TD> 0.003147
                    <TR>
                        <TD> 0.002722
                    <TR>
                        <TD> 0.003564
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>4</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.007205
                    <TR>
                        <TD> 0.007118
                    <TR>
                        <TD> 0.007383
                    <TR>
                        <TD> 0.007702
                    <TR>
                        <TD> 0.007603
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.010379
                    <TR>
                        <TD> 0.015273
                    <TR>
                        <TD> 0.011795
                    <TR>
                        <TD> 0.011103
                    <TR>
                        <TD> 0.011717
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.008741
                    <TR>
                        <TD> 0.008212
                    <TR>
                        <TD> 0.008764
                    <TR>
                        <TD> 0.008812
                    <TR>
                        <TD> 0.008707
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.012020
                    <TR>
                        <TD> 0.010793
                    <TR>
                        <TD> 0.012936
                    <TR>
                        <TD> 0.012506
                    <TR>
                        <TD> 0.011518
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.006646
                    <TR>
                        <TD> 0.006710
                    <TR>
                        <TD> 0.006168
                    <TR>
                        <TD> 0.006214
                    <TR>
                        <TD> 0.006118
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.008990
                    <TR>
                        <TD> 0.007467
                    <TR>
                        <TD> 0.009588
                    <TR>
                        <TD> 0.009144
                    <TR>
                        <TD> 0.007438
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>5</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.057021
                    <TR>
                        <TD> 0.057556
                    <TR>
                        <TD> 0.057490
                    <TR>
                        <TD> 0.057916
                    <TR>
                        <TD> 0.055973
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.088847
                    <TR>
                        <TD> 0.088970
                    <TR>
                        <TD> 0.090254
                    <TR>
                        <TD> 0.088454
                    <TR>
                        <TD> 0.091114
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.077560
                    <TR>
                        <TD> 0.076593
                    <TR>
                        <TD> 0.076581
                    <TR>
                        <TD> 0.076376
                    <TR>
                        <TD> 0.077299
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.122226
                    <TR>
                        <TD> 0.119883
                    <TR>
                        <TD> 0.111588
                    <TR>
                        <TD> 0.109672
                    <TR>
                        <TD> 0.204171
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.042997
                    <TR>
                        <TD> 0.042439
                    <TR>
                        <TD> 0.042616
                    <TR>
                        <TD> 0.042320
                    <TR>
                        <TD> 0.042464
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.063377
                    <TR>
                        <TD> 0.058491
                    <TR>
                        <TD> 0.053203
                    <TR>
                        <TD> 0.052193
                    <TR>
                        <TD> 0.053177
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>6</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.530042
                    <TR>
                        <TD> 0.529523
                    <TR>
                        <TD> 0.534053
                    <TR>
                        <TD> 0.534486
                    <TR>
                        <TD> 0.493055
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 1.144735
                    <TR>
                        <TD> 0.987235
                    <TR>
                        <TD> 0.980240
                    <TR>
                        <TD> 0.980497
                    <TR>
                        <TD> 0.973058
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.627679
                    <TR>
                        <TD> 0.641834
                    <TR>
                        <TD> 0.656665
                    <TR>
                        <TD> 0.660785
                    <TR>
                        <TD> 0.665429
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 1.175897
                    <TR>
                        <TD> 1.155703
                    <TR>
                        <TD> 1.275024
                    <TR>
                        <TD> 1.192393
                    <TR>
                        <TD> 1.183889
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.285076
                    <TR>
                        <TD> 0.352029
                    <TR>
                        <TD> 0.368929
                    <TR>
                        <TD> 0.284192
                    <TR>
                        <TD> 0.285574
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 0.517587
                    <TR>
                        <TD> 0.511242
                    <TR>
                        <TD> 0.511331
                    <TR>
                        <TD> 0.522668
                    <TR>
                        <TD> 0.516595
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>7</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 4.871886
                    <TR>
                        <TD> 4.825287
                    <TR>
                        <TD> 4.801996
                    <TR>
                        <TD> 4.767421
                    <TR>
                        <TD> 4.804392
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 10.559193
                    <TR>
                        <TD> 10.307329
                    <TR>
                        <TD> 10.301541
                    <TR>
                        <TD> 10.391688
                    <TR>
                        <TD> 10.240305
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 6.802538
                    <TR>
                        <TD> 6.832143
                    <TR>
                        <TD> 6.763239
                    <TR>
                        <TD> 6.731990
                    <TR>
                        <TD> 6.833616
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 13.077672
                    <TR>
                        <TD> 13.133118
                    <TR>
                        <TD> 13.055667
                    <TR>
                        <TD> 13.065036
                    <TR>
                        <TD> 12.983721
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 2.940537
                    <TR>
                        <TD> 2.879321
                    <TR>
                        <TD> 2.931824
                    <TR>
                        <TD> 2.899342
                    <TR>
                        <TD> 2.885456
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 5.140561
                    <TR>
                        <TD> 5.139307
                    <TR>
                        <TD> 5.272079
                    <TR>
                        <TD> 5.275106
                    <TR>
                        <TD> 5.115843
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>8</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 56.676559
                    <TR>
                        <TD> 56.512813
                    <TR>
                        <TD> 56.474930
                    <TR>
                        <TD> 56.355218
                    <TR>
                        <TD> 56.568037
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 195.363797
                    <TR>
                        <TD> 122.963167
                    <TR>
                        <TD> 120.890384
                    <TR>
                        <TD> 121.176057
                    <TR>
                        <TD> 120.916979
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 77.030081
                    <TR>
                        <TD> 77.471632
                    <TR>
                        <TD> 76.902286
                    <TR>
                        <TD> 76.874200
                    <TR>
                        <TD> 76.973572
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 146.415083
                    <TR>
                        <TD> 146.330093
                    <TR>
                        <TD> 150.749953
                    <TR>
                        <TD> 154.633358
                    <TR>
                        <TD> 156.125229
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 28.537243
                    <TR>
                        <TD> 28.638441
                    <TR>
                        <TD> 28.372840
                    <TR>
                        <TD> 28.755361
                    <TR>
                        <TD> 28.639367
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 53.922048
                    <TR>
                        <TD> 53.011965
                    <TR>
                        <TD> 53.552140
                    <TR>
                        <TD> 54.227276
                    <TR>
                        <TD> 52.812626
                </TABLE>

        <TR align=center>
            <TD>1 x 10<SUP>9</SUP>
            <!-- Linux - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 793.108423
                    <TR>
                        <TD> 788.861564
                    <TR>
                        <TD> 795.100760
                    <TR>
                        <TD> 789.095038
                    <TR>
                        <TD> 792.550575
                </TABLE>
            <!-- OS X - v1 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                </TABLE>
            <!-- Linux - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 823.080045
                    <TR>
                        <TD> 819.014800
                    <TR>
                        <TD> 816.231411
                    <TR>
                        <TD> 816.899258
                    <TR>
                        <TD> 814.623922
                </TABLE>
            <!-- OS X - v2 Btree -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                </TABLE>
            <!-- Linux - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 286.270728
                    <TR>
                        <TD> 284.586515
                    <TR>
                        <TD> 285.149824
                    <TR>
                        <TD> 285.260869
                    <TR>
                        <TD> 284.121594
                </TABLE>
            <!-- OS X - Extensible Array -->
            <TD>
                <TABLE>
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                    <TR>
                        <TD> 
                </TABLE>
        </TABLE>
        <TR>
            <TD span=5 align=center><STRONG>Table 2: Read Elements from Data Structure</STRONG>
    </TABLE>
</CENTER>
</P>

<P>
<EM>Note: </EM>The Mac OS X results for 1x10<SUP>9</SUP> elements are not yet available, but
the information above will be updated when it is available.
</P>


<LI><H3><U>Derived Values from Benchmark Results</U></H3>
<P>
The following table & graphs shows the median value for writing to each
operating system, data structure and number of elements (derived from Table 1
above).
<CENTER>
    <TABLE>
        <TABLE border=1>
        <TR align=center>
            <TD rowspan=2>Number of Elements in Data Structure
            <TD colspan=2>v1 B-Tree
            <TD colspan=2>v2 B-Tree
            <TD colspan=2>Extensible Array

        <TR align=center>
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)

        <TR align=center>
            <TD>1 x 10<SUP>3</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 0.003431
            <!-- OS X - v1 Btree -->
            <TD> 0.010556
            <!-- Linux - v2 Btree -->
            <TD> 0.003344
            <!-- OS X - v2 Btree -->
            <TD> 0.003899
            <!-- Linux - Extensible Array -->
            <TD> 0.003225
            <!-- OS X - Extensible Array -->
            <TD> 0.005805

        <TR align=center>
            <TD>1 x 10<SUP>4</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 0.01131
            <!-- OS X - v1 Btree -->
            <TD> 0.016478
            <!-- Linux - v2 Btree -->
            <TD> 0.010814
            <!-- OS X - v2 Btree -->
            <TD> 0.01238
            <!-- Linux - Extensible Array -->
            <TD> 0.007054
            <!-- OS X - Extensible Array -->
            <TD> 0.008323

        <TR align=center>
            <TD>1 x 10<SUP>5</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 0.09823
            <!-- OS X - v1 Btree -->
            <TD> 0.133367
            <!-- Linux - v2 Btree -->
            <TD> 0.093022
            <!-- OS X - v2 Btree -->
            <TD> 0.136442
            <!-- Linux - Extensible Array -->
            <TD> 0.05003
            <!-- OS X - Extensible Array -->
            <TD> 0.076504

        <TR align=center>
            <TD>1 x 10<SUP>6</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 0.787316
            <!-- OS X - v1 Btree -->
            <TD> 1.333408
            <!-- Linux - v2 Btree -->
            <TD> 0.710118
            <!-- OS X - v2 Btree -->
            <TD> 1.663403
            <!-- Linux - Extensible Array -->
            <TD> 0.374992
            <!-- OS X - Extensible Array -->
            <TD> 0.729788

        <TR align=center>
            <TD>1 x 10<SUP>7</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 8.563731
            <!-- OS X - v1 Btree -->
            <TD> 15.321653
            <!-- Linux - v2 Btree -->
            <TD> 8.52111
            <!-- OS X - v2 Btree -->
            <TD> 17.496505
            <!-- Linux - Extensible Array -->
            <TD> 3.462263
            <!-- OS X - Extensible Array -->
            <TD> 7.450297

        <TR align=center>
            <TD>1 x 10<SUP>8</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 98.04452
            <!-- OS X - v1 Btree -->
            <TD> 179.74742
            <!-- Linux - v2 Btree -->
            <TD> 94.483395
            <!-- OS X - v2 Btree -->
            <TD> 198.04943
            <!-- Linux - Extensible Array -->
            <TD> 33.687198
            <!-- OS X - Extensible Array -->
            <TD> 79.487821

        <TR align=center>
            <TD>1 x 10<SUP>9</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 1051.5698
            <!-- OS X - v1 Btree -->
            <TD> 
            <!-- Linux - v2 Btree -->
            <TD> 1001.7747
            <!-- OS X - v2 Btree -->
            <TD> 
            <!-- Linux - Extensible Array -->
            <TD> 356.20347
            <!-- OS X - Extensible Array -->
            <TD> 
        </TABLE>
        <TR>
            <TD span=5 align=center><STRONG>Table 3: Median Time to Write Elements to Data Structure</STRONG>
    </TABLE>
</CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=LinuxWrite.png><TR><TD align=center><STRONG>Figure 1: Median Write Times on Linux</STRONG></TABLE></CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=OSXWrite.png><TR><TD align=center><STRONG>Figure 2: Median Write Times on Mac OS X</STRONG></TABLE></CENTER>
</P>

<P>
The following table & graphs shows the median value for writing to each
operating system and data structure per number of elements (derived from Table 4
above).
<CENTER>
    <TABLE>
        <TABLE border=1>
        <TR align=center>
            <TD rowspan=2>Number of Elements in Data Structure
            <TD colspan=2>v1 B-Tree
            <TD colspan=2>v2 B-Tree
            <TD colspan=2>Extensible Array

        <TR align=center>
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)

        <TR align=center>
            <TD>1 x 10<SUP>3</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 3.43100E-06
            <!-- OS X - v1 Btree -->
            <TD> 1.05560E-05
            <!-- Linux - v2 Btree -->
            <TD> 3.34400E-06
            <!-- OS X - v2 Btree -->
            <TD> 3.89900E-06
            <!-- Linux - Extensible Array -->
            <TD> 3.22500E-06
            <!-- OS X - Extensible Array -->
            <TD> 5.80500E-06

        <TR align=center>
            <TD>1 x 10<SUP>4</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 1.13100E-06
            <!-- OS X - v1 Btree -->
            <TD> 1.64780E-06
            <!-- Linux - v2 Btree -->
            <TD> 1.08140E-06
            <!-- OS X - v2 Btree -->
            <TD> 1.23800E-06
            <!-- Linux - Extensible Array -->
            <TD> 7.05400E-07
            <!-- OS X - Extensible Array -->
            <TD> 8.32300E-07

        <TR align=center>
            <TD>1 x 10<SUP>5</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 9.82300E-07
            <!-- OS X - v1 Btree -->
            <TD> 1.33367E-06
            <!-- Linux - v2 Btree -->
            <TD> 9.30220E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.36442E-06
            <!-- Linux - Extensible Array -->
            <TD> 5.00300E-07
            <!-- OS X - Extensible Array -->
            <TD> 7.65040E-07

        <TR align=center>
            <TD>1 x 10<SUP>6</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 7.87316E-07
            <!-- OS X - v1 Btree -->
            <TD> 1.33341E-06
            <!-- Linux - v2 Btree -->
            <TD> 7.10118E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.66340E-06
            <!-- Linux - Extensible Array -->
            <TD> 3.74992E-07
            <!-- OS X - Extensible Array -->
            <TD> 7.29788E-07

        <TR align=center>
            <TD>1 x 10<SUP>7</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 8.56373E-07
            <!-- OS X - v1 Btree -->
            <TD> 1.53217E-06
            <!-- Linux - v2 Btree -->
            <TD> 8.52111E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.74965E-06
            <!-- Linux - Extensible Array -->
            <TD> 3.46226E-07
            <!-- OS X - Extensible Array -->
            <TD> 7.45030E-07

        <TR align=center>
            <TD>1 x 10<SUP>8</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 9.80445E-07
            <!-- OS X - v1 Btree -->
            <TD> 1.79747E-06
            <!-- Linux - v2 Btree -->
            <TD> 9.44834E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.98049E-06
            <!-- Linux - Extensible Array -->
            <TD> 3.36872E-07
            <!-- OS X - Extensible Array -->
            <TD> 7.94878E-07

        <TR align=center>
            <TD>1 x 10<SUP>9</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 1.05157E-06
            <!-- OS X - v1 Btree -->
            <TD> 
            <!-- Linux - v2 Btree -->
            <TD> 1.00177E-06
            <!-- OS X - v2 Btree -->
            <TD> 
            <!-- Linux - Extensible Array -->
            <TD> 3.56203E-07
            <!-- OS X - Extensible Array -->
            <TD> 
        </TABLE>
        <TR>
            <TD span=5 align=center><STRONG>Table 4: Median Time to Write Elements to Data Structure, Per Element</STRONG>
    </TABLE>
</CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=LinuxElmtWrite.png><TR><TD align=center><STRONG>Figure 3: Median Write Time Per Element on Linux</STRONG></TABLE></CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=OSXElmtWrite.png><TR><TD align=center><STRONG>Figure 4: Median Write Time Per Element on Mac OS X</STRONG></TABLE></CENTER>
</P>

<P>
The following table shows the median value for reading elements on each
operating system, data structure and number of elements (derived from Table 2
above).
<CENTER>
    <TABLE>
        <TABLE border=1>
        <TR align=center>
            <TD rowspan=2>Number of Elements in Data Structure
            <TD colspan=2>v1 B-Tree
            <TD colspan=2>v2 B-Tree
            <TD colspan=2>Extensible Array

        <TR align=center>
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)

        <TR align=center>
            <TD>1 x 10<SUP>3</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 0.00274
            <!-- OS X - v1 Btree -->
            <TD> 0.002785
            <!-- Linux - v2 Btree -->
            <TD> 0.00298
            <!-- OS X - v2 Btree -->
            <TD> 0.003756
            <!-- Linux - Extensible Array -->
            <TD> 0.002839
            <!-- OS X - Extensible Array -->
            <TD> 0.003147

        <TR align=center>
            <TD>1 x 10<SUP>4</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 0.007383
            <!-- OS X - v1 Btree -->
            <TD> 0.011717
            <!-- Linux - v2 Btree -->
            <TD>  0.008741
            <!-- OS X - v2 Btree -->
            <TD> 0.01202
            <!-- Linux - Extensible Array -->
            <TD> 0.006214
            <!-- OS X - Extensible Array -->
            <TD> 0.00899

        <TR align=center>
            <TD>1 x 10<SUP>5</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 0.05749
            <!-- OS X - v1 Btree -->
            <TD> 0.08897
            <!-- Linux - v2 Btree -->
            <TD> 0.076593
            <!-- OS X - v2 Btree -->
            <TD> 0.119883
            <!-- Linux - Extensible Array -->
            <TD> 0.042464
            <!-- OS X - Extensible Array -->
            <TD> 0.053203

        <TR align=center>
            <TD>1 x 10<SUP>6</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 0.530042
            <!-- OS X - v1 Btree -->
            <TD> 0.980497
            <!-- Linux - v2 Btree -->
            <TD> 0.656665
            <!-- OS X - v2 Btree -->
            <TD> 1.183889
            <!-- Linux - Extensible Array -->
            <TD> 0.285574
            <!-- OS X - Extensible Array -->
            <TD> 0.516595

        <TR align=center>
            <TD>1 x 10<SUP>7</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 4.804392
            <!-- OS X - v1 Btree -->
            <TD> 10.307329
            <!-- Linux - v2 Btree -->
            <TD> 6.802538
            <!-- OS X - v2 Btree -->
            <TD> 13.065036
            <!-- Linux - Extensible Array -->
            <TD> 2.899342
            <!-- OS X - Extensible Array -->
            <TD> 5.140561

        <TR align=center>
            <TD>1 x 10<SUP>8</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 56.512813
            <!-- OS X - v1 Btree -->
            <TD> 121.17606
            <!-- Linux - v2 Btree -->
            <TD> 76.973572
            <!-- OS X - v2 Btree -->
            <TD> 150.74995
            <!-- Linux - Extensible Array -->
            <TD> 28.638441
            <!-- OS X - Extensible Array -->
            <TD> 53.55214

        <TR align=center>
            <TD>1 x 10<SUP>9</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 792.55057
            <!-- OS X - v1 Btree -->
            <TD> 
            <!-- Linux - v2 Btree -->
            <TD> 816.89926
            <!-- OS X - v2 Btree -->
            <TD> 
            <!-- Linux - Extensible Array -->
            <TD> 285.14982
            <!-- OS X - Extensible Array -->
            <TD> 
        </TABLE>
        <TR>
            <TD span=5 align=center><STRONG>Table 5: Median Time to Read Elements from Data Structure</STRONG>
    </TABLE>
</CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=LinuxRead.png><TR><TD align=center><STRONG>Figure 5: Median Read Times on Linux</STRONG></TABLE></CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=OSXRead.png><TR><TD align=center><STRONG>Figure 6: Median Read Times on Mac OS X</STRONG></TABLE></CENTER>
</P>

<P>
The following table & graphs shows the median value for reading from each
operating system and data structure per number of elements (derived from Table 6
above).
<CENTER>
    <TABLE>
        <TABLE border=1>
        <TR align=center>
            <TD rowspan=2>Number of Elements in Data Structure
            <TD colspan=2>v1 B-Tree
            <TD colspan=2>v2 B-Tree
            <TD colspan=2>Extensible Array

        <TR align=center>
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)
            <TD>Linux (sec)
            <TD>OS X (sec)

        <TR align=center>
            <TD>1 x 10<SUP>3</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 2.74000E-06
            <!-- OS X - v1 Btree -->
            <TD> 2.78500E-06
            <!-- Linux - v2 Btree -->
            <TD> 2.98000E-06
            <!-- OS X - v2 Btree -->
            <TD> 3.75600E-06
            <!-- Linux - Extensible Array -->
            <TD> 2.83900E-06
            <!-- OS X - Extensible Array -->
            <TD> 3.14700E-06

        <TR align=center>
            <TD>1 x 10<SUP>4</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 7.38300E-07
            <!-- OS X - v1 Btree -->
            <TD> 1.17170E-06
            <!-- Linux - v2 Btree -->
            <TD> 8.74100E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.20200E-06
            <!-- Linux - Extensible Array -->
            <TD> 6.21400E-07
            <!-- OS X - Extensible Array -->
            <TD> 8.99000E-07

        <TR align=center>
            <TD>1 x 10<SUP>5</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 5.74900E-07
            <!-- OS X - v1 Btree -->
            <TD> 8.89700E-07
            <!-- Linux - v2 Btree -->
            <TD> 7.65930E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.19883E-06
            <!-- Linux - Extensible Array -->
            <TD> 4.24640E-07
            <!-- OS X - Extensible Array -->
            <TD> 5.32030E-07

        <TR align=center>
            <TD>1 x 10<SUP>6</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 5.30042E-07
            <!-- OS X - v1 Btree -->
            <TD> 9.80497E-07
            <!-- Linux - v2 Btree -->
            <TD> 6.56665E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.18389E-06
            <!-- Linux - Extensible Array -->
            <TD> 2.85574E-07
            <!-- OS X - Extensible Array -->
            <TD> 5.16595E-07

        <TR align=center>
            <TD>1 x 10<SUP>7</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 4.80439E-07
            <!-- OS X - v1 Btree -->
            <TD> 1.03073E-06
            <!-- Linux - v2 Btree -->
            <TD> 6.80254E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.30650E-06
            <!-- Linux - Extensible Array -->
            <TD> 2.89934E-07
            <!-- OS X - Extensible Array -->
            <TD> 5.14056E-07

        <TR align=center>
            <TD>1 x 10<SUP>8</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 5.65128E-07
            <!-- OS X - v1 Btree -->
            <TD> 1.21176E-06
            <!-- Linux - v2 Btree -->
            <TD> 7.69736E-07
            <!-- OS X - v2 Btree -->
            <TD> 1.50750E-06
            <!-- Linux - Extensible Array -->
            <TD> 2.86384E-07
            <!-- OS X - Extensible Array -->
            <TD> 5.35521E-07

        <TR align=center>
            <TD>1 x 10<SUP>9</SUP>
            <!-- Linux - v1 Btree -->
            <TD> 7.92551E-07
            <!-- OS X - v1 Btree -->
            <TD> 
            <!-- Linux - v2 Btree -->
            <TD> 8.16899E-07
            <!-- OS X - v2 Btree -->
            <TD> 
            <!-- Linux - Extensible Array -->
            <TD> 2.85150E-07
            <!-- OS X - Extensible Array -->
            <TD> 
        </TABLE>
        <TR>
            <TD span=5 align=center><STRONG>Table 6: Median Time to Read Elements from Data Structure, Per Element</STRONG>
    </TABLE>
</CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=LinuxElmtRead.png><TR><TD align=center><STRONG>Figure 7: Median Read Time Per Element on Linux</STRONG></TABLE></CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=OSXElmtRead.png><TR><TD align=center><STRONG>Figure 8: Median Read Time Per Element on Mac OS X</STRONG></TABLE></CENTER>
</P>

<P>
The following table and graph shows the sizes of the HDF5 files produced with
each data structure, in bytes.  The files produced were identical in size
between Linux and Mac OS X.
<CENTER>
    <TABLE>
        <TABLE border=1>
        <TR align=center>
            <TD>Number of Elements in Data Structure
            <TD>v1 B-Tree
            <TD>v2 B-Tree
            <TD>Extensible Array

        <TR align=center>
            <TD>1 x 10<SUP>3</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 20,864
            <!-- File Size - v2 Btree -->
            <TD> 18,758
            <!-- File Size - Extensible Array -->
            <TD> 9,634

        <TR align=center>
            <TD>1 x 10<SUP>4</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 190,880
            <!-- File Size - v2 Btree -->
            <TD> 169,798
            <!-- File Size - Extensible Array -->
            <TD> 84,626

        <TR align=center>
            <TD>1 x 10<SUP>5</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 1,887,872
            <!-- File Size - v2 Btree -->
            <TD> 1,686,854
            <!-- File Size - Extensible Array -->
            <TD> 809,032

        <TR align=center>
            <TD>1 x 10<SUP>6</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 18,859,904
            <!-- File Size - v2 Btree -->
            <TD> 16,847,174
            <!-- File Size - Extensible Array -->
            <TD> 8,048,188

        <TR align=center>
            <TD>1 x 10<SUP>7</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 188,572,832
            <!-- File Size - v2 Btree -->
            <TD> 168,447,814
            <!-- File Size - Extensible Array -->
            <TD> 80,179,576

        <TR align=center>
            <TD>1 x 10<SUP>8</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 1,885,716,896
            <!-- File Size - v2 Btree -->
            <TD> 1,684,448,582
            <!-- File Size - Extensible Array -->
            <TD> 800,633,024

        <TR align=center>
            <TD>1 x 10<SUP>9</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 18,857,145,920
            <!-- File Size - v2 Btree -->
            <TD> 16,844,454,726
            <!-- File Size - Extensible Array -->
            <TD> 8,005,152,878
        </TABLE>
        <TR>
            <TD span=5 align=center><STRONG>Table 7: File Size for each Data Structure (bytes)</STRONG>
    </TABLE>
</CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=FileSize.png><TR><TD align=center><STRONG>Figure 9: File Size</STRONG></TABLE></CENTER>
</P>

<P>
The following table and graph shows the storage used for each element, in bytes.
<CENTER>
    <TABLE>
        <TABLE border=1>
        <TR align=center>
            <TD>Number of Elements in Data Structure
            <TD>v1 B-Tree
            <TD>v2 B-Tree
            <TD>Extensible Array

        <TR align=center>
            <TD>1 x 10<SUP>3</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 20.864
            <!-- File Size - v2 Btree -->
            <TD> 18.758
            <!-- File Size - Extensible Array -->
            <TD> 9.634

        <TR align=center>
            <TD>1 x 10<SUP>4</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 19.088
            <!-- File Size - v2 Btree -->
            <TD> 16.9798
            <!-- File Size - Extensible Array -->
            <TD> 8.4626

        <TR align=center>
            <TD>1 x 10<SUP>5</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 18.87872
            <!-- File Size - v2 Btree -->
            <TD> 16.86854
            <!-- File Size - Extensible Array -->
            <TD> 8.09032

        <TR align=center>
            <TD>1 x 10<SUP>6</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 18.859904
            <!-- File Size - v2 Btree -->
            <TD> 16.847174
            <!-- File Size - Extensible Array -->
            <TD> 8.048188

        <TR align=center>
            <TD>1 x 10<SUP>7</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 18.8572832
            <!-- File Size - v2 Btree -->
            <TD> 16.8447814
            <!-- File Size - Extensible Array -->
            <TD> 8.0179576

        <TR align=center>
            <TD>1 x 10<SUP>8</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 18.85716896
            <!-- File Size - v2 Btree -->
            <TD> 16.84448582
            <!-- File Size - Extensible Array -->
            <TD> 8.00633024

        <TR align=center>
            <TD>1 x 10<SUP>9</SUP>
            <!-- File Size - v1 Btree -->
            <TD> 18.85714592
            <!-- File Size - v2 Btree -->
            <TD> 16.84445473
            <!-- File Size - Extensible Array -->
            <TD> 8.005152878
        </TABLE>
        <TR>
            <TD span=5 align=center><STRONG>Table 8: Element Storage Size for each Data Structure (bytes)</STRONG>
    </TABLE>
</CENTER>
</P>

<P>
<CENTER><TABLE><TR><TD><IMG src=ElmtSize.png><TR><TD align=center><STRONG>Figure 10: Space Used Per Element</STRONG></TABLE></CENTER>
</P>

<LI><H3><U>Analysis of Benchmark Results</U></H3>
<P>
As you can see from the charts of the median time per element, most obviously
in the Mac OS X graphs, once the B-trees get past the initial overhead of
accessing the file, they show a typical O(log n) increase in time per element;
whereas the extensible array shows a constant access time per element.
</P>

<P>
The graphs for the space used for each data structure show the efficiency of
the extensible array data structure.  The value stored as an element for each
data structure
is an 8-byte integer, which the extensible array quickly approaches, while the
B-trees must also store the element's coordinate as an 8-byte integer and they
therefore approach 16 bytes per element (with the v1 B-tree being less efficient
than the v2 B-tree).
</P>

<P>
These results are consistent with the theoretical time and space predictions
here:
<A href="BtreeVSExtensibleArray.html">B-Trees vs. Extensible Arrays for
Locating Chunks in HDF5 Datasets</A>
</P>

</OL>

<HR>

<I>QAK:12/11/2008</I>
</BODY>
</HTML>

