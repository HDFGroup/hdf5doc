<!DOCTYPE HTML>
<html>
<head>

 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <title>HDF5 Datasets</title>

 <meta content="How to fly your personal spaceship" name="search-keywords" />
 <meta name="generator" content="Adobe FrameMaker 12" />
 <meta name="Originator" content="ImportMif" />
 <meta name="OriginalFile" content="C:\1 MEE\Working\hdf5_trunk\html\UG\FmSource\Datasets.fm" />
 <link rel="stylesheet" href="Datasets.css" type="text/css" />


<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="../../template/scripts/rh.min.js"></script>
<script type="text/javascript" src="../../template/scripts/common.min.js"></script>
<script type="text/javascript" src="../../template/scripts/topic.min.js"></script>
<script type="text/javascript" src="../../template/scripts/constants.js"></script>
<script type="text/javascript" src="../../template/scripts/utils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhutils.js"></script>
<script type="text/javascript" src="../../template/scripts/mhlang.js"></script>
<script type="text/javascript" src="../../template/scripts/mhver.js"></script>
<script type="text/javascript" src="../../template/scripts/settings.js"></script>
<script type="text/javascript" src="../../template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="../../template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="../../template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="../../template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="../../template/scripts/mhtopic.js"></script>
<script type="text/javascript" >
gRootRelPath = "../..";
gCommonRootRelPath = "../..";
gTopicId = "5";
</script>
 <meta name="brsprev" value="HDF5_Users_Guide/Groups/HDF5_Groups.htm">
 <meta name="brsnext" value="HDF5_Users_Guide/Datatypes/HDF5_Datatypes.htm">
</head>

<body>
<script type="text/javascript" src="../../ehlpdhtm.js"></script>

 <p class="FM__Heading_Level1">5. <a name="XREF_DatasetsChapter"></a>HDF5 Datasets</p>
 <p class="FM__Heading_Level2"><a name="TOC_5_1_Introduction"></a>5.1. Introduction</p>
 <p class="FM__Body"><a name="IX_raw_data"></a>An HDF5 dataset is an object composed of a collection of data elements, or raw data, and metadata that stores a description of the data elements, data layout, and all other information necessary to write, read, and interpret the stored data. From the viewpoint of the application the raw data is stored as a one-dimensional or multi-dimensional array of elements (the <span class="FM_EI_EmphasisItalic">raw data</span>), those elements can be any of several numerical or character types, small arrays, or even compound types similar to C structs. The dataset object may have attribute objects. See the figure below.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:360.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure1" x-list-start="1" align="bottom">Figure 5-1. Application view of a dataset</caption>
  <tr style=" height : 216.00pt;">
  <td style="width : 360.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig1.JPG" id="image0" src="Dsets_fig1.JPG" style="width:100%; max-width:396px" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body"><a name="IX_storage_layout"></a>A dataset object is stored in a file in two parts: a header and a data array. The header contains information that is needed to interpret the array portion of the dataset, as well as metadata (or pointers to metadata) that describes or annotates the dataset. Header information includes the name of the object, its dimen&#173;sionality, its number-type, information about how the data itself is stored on disk (the <span class="FM_EI_EmphasisItalic">storage layout</span>), and other information used by the library to speed up access to the dataset or maintain the file’s integrity. </p>
 <p class="FM__Body">The HDF5 dataset interface, comprising the H5D functions, provides a mechanism for managing HDF5 datasets including the transfer of data between memory and disk and the description of dataset proper&#173;ties. </p>
 <p class="FM__Body">A dataset is used by other HDF5 APIs, either by name or by an identifier. For more information, see “<span class="FM_LT_LinkText"><a href="http://www.hdfgroup.org/HDF5/doc/Advanced/UsingIdentifers/index.html">Using Identifiers</a></span>.” </p>
 <p class="FM__Heading_SubSection">Link/Unlink</p>
 <p class="FM__Body"><a name="IX_H5Ldelete_6"></a><a name="IX_H5Lcreate"></a>A dataset can be added to a group with one of the <span class="FM_Code">H5Lcreate</span>&#160;calls, and deleted from a group with <span class="FM_Code">H5Ldelete</span>. The link and unlink operations use the name of an object, which may be a dataset. The data&#173;set does not have to open to be linked or unlinked.</p>
 <p class="FM__Heading_SubSection">Object Reference</p>
 <p class="FM__Body"><a name="IX_H5R_OBJECT"></a>A dataset may be the target of an object reference. The object reference is created by <span class="FM_Code">H5Rcreate</span>&#160;with the name of an object which may be a dataset and the reference type <span class="FM_Code">H5R_OBJECT</span>. The dataset does not have to be open to create a reference to it.</p>
 <p class="FM__Body"><a name="IX_H5R_DATASET_REGION"></a>An object reference may also refer to a region (selection) of a dataset. The reference is created with <span class="FM_Code">H5Rcreate</span>&#160;and a reference type of <span class="FM_Code">H5R_DATASET_REGION</span>.</p>
 <p class="FM__Body"><a name="IX_H5Dopen_6"></a><a name="IX_H5Rdereference"></a>An object reference can be accessed by a call to <span class="FM_Code">H5Rdereference</span>. When the reference is to a dataset or dataset region, the <span class="FM_Code">H5Rdeference</span>&#160;call returns an identifier to the dataset just as if <span class="FM_Code">H5Dopen</span>&#160;has been called.</p>
 <p class="FM__Heading_SubSection">Adding Attributes</p>
 <p class="FM__Body"><a name="IX_H5Adelete"></a><a name="IX_H5Aiterate_1"></a><a name="IX_H5Aopen_idx"></a><a name="IX_H5Aopen_name"></a><a name="IX_H5Acreate_3"></a><a name="IX_H5Acreate_2"></a>A dataset may have user-defined attributes which are created with <span class="FM_Code">H5Acreate</span>&#160;and accessed through the H5A API. To create an attribute for a dataset, the dataset must be open, and the identifier is passed to <span class="FM_Code">H5Acreate</span>. The attributes of a dataset are discovered and opened using <span class="FM_Code">H5Aopen_name</span>, <span class="FM_Code">H5Aop&#173;en_idx</span>, or <span class="FM_Code">H5Aiterate</span>; these functions use the identifier of the dataset. An attribute can be deleted with <span class="FM_Code">H5Adelete</span> which also uses the identifier of the dataset.</p>
 <p class="FM__Heading_Level2"><a name="TOC_5_2_Dataset_Function"></a>5.2. Dataset Functio<a name="XREF_FileFunctSums"></a>n Summaries</p>
 <p class="FM__Body">Functions that can be used with datasets (H5D functions) and property list functions that can used with datasets (H5P functions) are listed below.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-bottom:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFunctionListing1" x-list-start="1">Function Listing 5-1. Dataset functions (H5D)</caption>
  <tr style=" height : 36.00pt;">
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">C Function</p>
  <p class="FM__Heading_Cell">Fortran Subroutine</p>
</th>
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell"> Purpose</p>
</th>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dcreate_6"></a>H5Dcreate</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dcreate_f"></a>h5dcreate_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Creates a dataset at the specified location. The C function is a macro: see “<span class="FM_LT_LinkText"><a href="http://www.hdfgroup.org/HDF5/doc/RM/APICompatMacros.html">API Compati&#173;bility Macros in HDF5</a></span>.”</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dcreate_anon"></a>H5Dcreate_anon</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dcreate_anon_f"></a>h5dcreate_anon_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Creates a dataset in a file without linking it into the file structure. </p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_7"></a>H5Dopen</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dopen_f"></a>h5dopen_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Opens an existing dataset. The C function is a macro: see “<span class="FM_LT_LinkText"><a href="http://www.hdfgroup.org/HDF5/doc/RM/APICompatMacros.html">API Compatibility Macros in HDF5</a></span>.”</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_1"></a>H5Dclose</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dclose_f"></a>h5dclose_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Closes the specified dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_space_2"></a>H5Dget_space</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dget_space_f"></a>h5dget_space_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns an identifier for a copy of the dataspace for a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_space_status"></a>H5Dget_space_status</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dget_space_status_f"></a>h5dget_space_status_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Determines whether space has been allo&#173;cated for a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_type_1"></a>H5Dget_type</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dget_type_f"></a>h5dget_type_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns an identifier for a copy of the data&#173;type for a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_create_plist"></a>H5Dget_create_plist</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dget_create_plist_f"></a>h5dget_create_plist_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns an identifier for a copy of the dataset creation property list for a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_access_plist"></a>H5Dget_access_plist</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns the dataset access property list asso&#173;ciated with a dataset. </p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_offset"></a>H5Dget_offset</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dget_offset_f"></a>h5dget_offset_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns the dataset address in a file.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_storage_size"></a>H5Dget_storage_size</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dget_storage_size_f"></a>h5dget_storage_size_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns the amount of storage required for a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dvlen_get_buf_size"></a>H5Dvlen_get_buf_size</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dvlen_get_max_len_f"></a>h5dvlen_get_max_len_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Determines the number of bytes required to store variable-length (VL) data.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dvlen_reclaim"></a>H5Dvlen_reclaim</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dvlen_reclaim_f"></a>h5dvlen_reclaim_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Reclaims VL datatype memory buffers.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dread_1"></a>H5Dread</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dread_f"></a>h5dread_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Reads raw data from a dataset into a buffer.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dwrite_5"></a>H5Dwrite</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dwrite_f"></a>h5dwrite_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Writes raw data from a buffer to a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Diterate"></a>H5Diterate</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Iterates over all selected elements in a dataspace.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dgather"></a>H5Dgather</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Gathers data from a selection within a mem&#173;ory buffer. </p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dscatter"></a>H5Dscatter</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Scatters data into a selection within a mem&#173;ory buffer. </p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dfill"></a>H5Dfill</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dfill_f"></a>h5dfill_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Fills dataspace elements with a fill value in a memory buffer.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dset_extent"></a>H5Dset_extent</p>
  <p class="FM__BodyCellCode"><a name="IX_h5dset_extent_f"></a>h5dset_extent_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Changes the sizes of a dataset’s dimensions. </p>
</td>
</tr>
 </table>
</div>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-bottom:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFunctionListing">Function Listing 5-2. Dataset creation property list functions (H5P)</caption>
  <tr style=" height : 36.00pt;">
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">C Function</p>
  <p class="FM__Heading_Cell">Fortran Subroutine</p>
</th>
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell"> Purpose</p>
</th>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_layout"></a>H5Pset_layout</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_layout_f"></a>h5pset_layout_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the type of storage used to store the raw data for a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_layout"></a>H5Pget_layout</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_layout_f"></a>h5pget_layout_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns the layout of the raw data for a data&#173;set.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_chunk_2"></a>H5Pset_chunk</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_chunk_f"></a>h5pset_chunk_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the size of the chunks used to store a chunked layout dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_chunk"></a>H5Pget_chunk</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_chunk_f"></a>h5pget_chunk_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves the size of chunks for the raw data of a chunked layout dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_deflate_2"></a>H5Pset_deflate</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_deflate_f_1"></a>h5pset_deflate_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets compression method and compression level.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_fill_value"></a>H5Pset_fill_value</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_fill_value_f"></a>h5pset_fill_value_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the fill value for a dataset.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_fill_value"></a>H5Pget_fill_value</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_fill_value_f"></a>h5pget_fill_value_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves a dataset fill value.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pfill_value_defined"></a>H5Pfill_value_defined</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Determines whether the fill value is defined.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_fill_time"></a>H5Pset_fill_time</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_fill_time_f"></a>h5pset_fill_time_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the time when fill values are written to a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_fill_time"></a>H5Pget_fill_time</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_fill_time_f"></a>h5pget_fill_time_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves the time when fill value are written to a dataset.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_alloc_time"></a>H5Pset_alloc_time</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_alloc_time_f"></a>h5pset_alloc_time_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the timing for storage space allocation.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_alloc_time"></a>H5Pget_alloc_time</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_alloc_time_f"></a>h5pget_alloc_time_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves the timing for storage space alloca&#173;tion.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_filter_2"></a>H5Pset_filter</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_filter_f_1"></a>h5pset_filter_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Adds a filter to the filter pipeline.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pall_filters_avail_1"></a>H5Pall_filters_avail</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Verifies that all required filters are available.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_nfilters_1"></a>H5Pget_nfilters</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_nfilters_f_1"></a>h5pget_nfilters_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns the number of filters in the pipeline.</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_filter_1"></a>H5Pget_filter</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_filter_f_1"></a>h5pget_filter_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns information about a filter in a pipe&#173;line. The C function is a macro: see “<span class="FM_LT_LinkText"><a href="http://www.hdfgroup.org/HDF5/doc/RM/APICompatMacros.html">API Com&#173;patibility Macros in HDF5</a></span>.”</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_filter_by_id_1"></a>H5Pget_filter_by_id</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_filter_by_id_f_1"></a>h5pget_filter_by_id_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns information about the specified filter. The C function is a macro: see “<span class="FM_LT_LinkText"><a href="http://www.hdfgroup.org/HDF5/doc/RM/APICompatMacros.html">API Compati&#173;bility Macros in HDF5</a></span>.”</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pmodify_filter_1"></a>H5Pmodify_filter</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pmodify_filter_f_1"></a>h5pmodify_filter_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Modifies a filter in the filter pipeline.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Premove_filter_1"></a>H5Premove_filter</p>
  <p class="FM__BodyCellCode"><a name="IX_h5premove_filter_f_1"></a>h5premove_filter_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Deletes one or more filters in the filter pipe&#173;line.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_fletcher32_2"></a>H5Pset_fletcher32</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_fletcher32_f_2"></a>h5pset_fletcher32_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets up use of the Fletcher32 checksum filter.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_nbit"></a>H5Pset_nbit</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_nbit_f"></a>h5pset_nbit_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets up use of the n-bit filter.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_scaleoffset"></a>H5Pset_scaleoffset</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_scaleoffset_f"></a>h5pset_scaleoffset_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets up use of the scale-offset filter.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_shuffle"></a>H5Pset_shuffle</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_shuffle_f"></a>h5pset_shuffle_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets up use of the shuffle filter.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_szip"></a>H5Pset_szip</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_szip_f"></a>h5pset_szip_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets up use of the Szip compression filter.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_external"></a>H5Pset_external</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_external_f"></a>h5pset_external_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Adds an external file to the list of external files.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_external_count"></a>H5Pget_external_count</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_external_count_f"></a>h5pget_external_count_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns the number of external files for a dataset.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_external"></a>H5Pget_external</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_external_f"></a>h5pget_external_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns information about an external file.</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_char_encoding_2"></a>H5Pset_char_encoding</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_char_encoding_f_1"></a>h5pset_char_encoding_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the character encoding used to encode a string. Use to set ASCII or UTF-8 character encoding for object names.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_char_encoding_1"></a>H5Pget_char_encoding</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_char_encoding_f_1"></a>h5pget_char_encoding_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves the character encoding used to cre&#173;ate a string. </p>
</td>
</tr>
 </table>
</div>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-bottom:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFunctionListing">Function Listing 5-3. Dataset access property list functions (H5P)</caption>
  <tr style=" height : 36.00pt;">
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">C Function</p>
  <p class="FM__Heading_Cell">Fortran Subroutine</p>
</th>
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell"> Purpose</p>
</th>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_buffer"></a>H5Pset_buffer</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_buffer_f"></a>h5pset_buffer_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets type conversion and background buffers.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_buffer"></a>H5Pget_buffer</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_buffer_f"></a>h5pget_buffer_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Reads buffer settings.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_chunk_cache"></a>H5Pset_chunk_cache</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_chunk_cache_f"></a>h5pset_chunk_cache_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the raw data chunk cache parameters.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_chunk_cache"></a>H5Pget_chunk_cache</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_chunk_cache_f"></a>h5pget_chunk_cache_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves the raw data chunk cache parame&#173;ters. </p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_edc_check"></a>H5Pset_edc_check</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_edc_check_f"></a>h5pset_edc_check_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets whether to enable error-detection when reading a dataset.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_edc_check"></a>H5Pget_edc_check</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_edc_check_f"></a>h5pget_edc_check_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Determines whether error-detection is enabled for dataset reads.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_filter_callback"></a>H5Pset_filter_callback</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets user-defined filter callback function.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_data_transform"></a>H5Pset_data_transform</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_data_transform_f"></a>h5pset_data_transform_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets a data transform expression.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_data_transform"></a>H5Pget_data_transform</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_data_transform_f"></a>h5pget_data_transform_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves a data transform expression.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_type_conv_cb"></a>H5Pset_type_conv_cb</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets user-defined datatype conversion call&#173;back function.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_type_conv_cb"></a>H5Pget_type_conv_cb</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Gets user-defined datatype conversion call&#173;back function.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_hyper_vector_size"></a>H5Pset_hyper_vector_size</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_hyper_vector_size_1"></a>h5pset_hyper_vector_size_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets number of I/O vectors to be read/written in hyperslab I/O.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_hyper_vector_size"></a>H5Pget_hyper_vector_size</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_hyper_vector_size_1"></a>h5pget_hyper_vector_size_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves number of I/O vectors to be read/written in hyperslab I/O.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_btree_ratios"></a>H5Pset_btree_ratios</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_btree_ratios_f"></a>h5pset_btree_ratios_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets B-tree split ratios for a dataset transfer property list.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_btree_ratios"></a>H5Pget_btree_ratios</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_btree_ratios_f"></a>h5pget_btree_ratios_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Gets B-tree split ratios for a dataset transfer property list.</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_vlen_mem_manager"></a>H5Pset_vlen_mem_manager</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell"><a name="IX_H5Dvlen_reclaim_1"></a><a name="IX_H5Dread_2"></a>Sets the memory manager for variable-length datatype allocation in <span class="FM_Code">H5Dread</span>&#160;and <span class="FM_Code">H5Dv&#173;len_reclaim</span>.</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_vlen_mem_manager"></a>H5Pget_vlen_mem_manager</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell"><a name="IX_H5Dvlen_reclaim_2"></a><a name="IX_H5Dread_3"></a>Gets the memory manager for variable-length datatype allocation in <span class="FM_Code">H5Dread</span>&#160;and <span class="FM_Code">H5Dv&#173;len_reclaim</span>.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_dxpl_mpio"></a>H5Pset_dxpl_mpio</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_dxpl_mpio_f"></a>h5pset_dxpl_mpio_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets data transfer mode.</p>
</td>
</tr>
  <tr style=" height : 35.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_dxpl_mpio"></a>H5Pget_dxpl_mpio</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_dxpl_mpio_f"></a>h5pget_dxpl_mpio_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Returns the data transfer mode.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_dxpl_mpio_chunk"></a>H5Pset_dxpl_mpio_chunk_opt</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets a flag specifying linked-chunk I/O or multi-chunk I/O.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_dxpl_mpio_chunk_1"></a>H5Pset_dxpl_mpio_chunk_opt_num</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets a numeric threshold for linked-chunk I/O.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_dxpl_mpio_chunk_2"></a>H5Pset_dxpl_mpio_chunk_opt_ratio</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets a ratio threshold for collective I/O.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_dxpl_mpio_1"></a>H5Pset_dxpl_mpio_collective_opt</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets a flag governing the use of independent versus collective I/O. </p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_multi_type_1"></a>H5Pset_multi_type</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the type of data property for the MULTI driver.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_multi_type_1"></a>H5Pget_multi_type</p>
  <p class="FM__BodyCell">(no Fortran subroutine)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves the type of data property for the MULTI driver.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_small_data_block_2"></a>H5Pset_small_data_block_size</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pset_small_data_block_3"></a>h5pset_small_data_block_size_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Sets the size of a contiguous block reserved for small data.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pget_small_data_block_2"></a>H5Pget_small_data_block_size</p>
  <p class="FM__BodyCellCode"><a name="IX_h5pget_small_data_block_3"></a>h5pget_small_data_block_size_f</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieves the current small data block size setting.</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_Level2"><a name="TOC_5_3_Programming_Model"></a>5.3. Programmin<a name="XREF_PModel"></a>g Model for Datase<a name="XREF_ProgrammingModelForDatase"></a>ts</p>
 <p class="FM__Body">This section explains the programming model for datasets.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_3_1_General_Model"></a>5.3.1. General Model</p>
 <p class="FM__Body">The programming model for using a dataset has three main phases:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Obtain access to the dataset </p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Operate on the dataset using the dataset identifier returned at access </p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Release the dataset</p>
 <p class="FM__Body">These three phases or steps are described in more detail below the figure.</p>
 <p class="FM__Body">A dataset may be opened several times and operations performed with several different identifiers to the same dataset. All the operations affect the dataset although the calling program must synchronize if nec&#173;essary to serialize accesses.</p>
 <p class="FM__Body">Note that the dataset remains open until every identifier is closed. The figure below shows the basic sequence of operations.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-2. Dataset programming sequence</caption>
  <tr style=" height : 231.19pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig2.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:1.500pt; width:100%; max-width:506px;" id="image1" src="Dsets_fig2.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">Creation and data access operations may have optional parameters which are set with property lists. The general programming model is:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Create property list of appropriate class (dataset create, dataset transfer)</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Set properties as needed; each type of property has its own format and datatype</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Pass the property list as a parameter of the API call</p>
 <p class="FM__Body">The steps below describe the programming phases or steps for using a dataset.</p>
 <p class="FM__Heading_SubSection">Step 1. Obtain Access</p>
 <p class="FM__Body"><a name="IX_H5Dcreate_7"></a>A new dataset is created by a call to <span class="FM_Code">H5Dcreate</span>. If successful, the call returns an identifier for the newly created dataset.</p>
 <p class="FM__Body"><a name="IX_H5Dopen_8"></a>Access to an existing dataset is obtained by a call to <span class="FM_Code">H5Dopen</span>. This call returns an identifier for the existing dataset.</p>
 <p class="FM__Body">An object reference may be dereferenced to obtain an identifier to the dataset it points to.</p>
 <p class="FM__Body">In each of these cases, the successful call returns an identifier to the dataset. The identifier is used in sub&#173;sequent operations until the dataset is closed.</p>
 <p class="FM__Heading_SubSection">Step 2. Operate on the Dataset</p>
 <p class="FM__Body">The dataset identifier can be used to write and read data to the dataset, to query and set properties, and to perform other operations such as adding attributes, linking in groups, and creating references.</p>
 <p class="FM__Body">The dataset identifier can be used for any number of operations until the dataset is closed.</p>
 <p class="FM__Heading_SubSection">Step 3. Close the Dataset</p>
 <p class="FM__Body">When all operations are completed, the dataset identifier should be closed. This releases the dataset. </p>
 <p class="FM__Body">After the identifier is closed, it cannot be used for further operations.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_3_2_Create_Dataset"></a>5.3.2. Create Dataset</p>
 <p class="FM__Body"><a name="IX_H5Dcreate_8"></a>A dataset is created and initialized with a call to <span class="FM_Code">H5Dcreate</span>. The dataset create operation sets permanent properties of the dataset:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Name</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Dataspace</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Datatype</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Storage properties</p>
 <p class="FM__Body">These properties cannot be changed for the life of the dataset, although the dataspace may be expanded up to its maximum dimensions.</p>
 <p class="FM__Heading_SubSection">Name</p>
 <p class="FM__Body">A dataset name is a sequence of alphanumeric ASCII characters. The full name would include a tracing of the group hierarchy from the root group of the file. An example is <span class="FM_Code">/rootGroup/groupA/subgroup23/dataset1</span>. The local name or relative name within the lowest-level group containing the dataset would include none of the group hierarchy. An example is <span class="FM_Code">Dataset1</span>.</p>
 <p class="FM__Heading_SubSection">Dataspace</p>
 <p class="FM__Body"><a name="IX_H5Screate_simple_6"></a><a name="IX_maxdims"></a><a name="IX_H5Dset_extent_1"></a><a name="IX_H5D_UNLIMITED"></a>The dataspace of a dataset defines the number of dimensions and the size of each dimension. The dataspace defines the number of dimensions, and the maximum dimension sizes and current size of each dimension. The maximum dimension size can be a fixed value or the constant <span class="FM_Code">H5D_UNLIMITED</span>, in which case the actual dimension size can be changed with calls to <span class="FM_Code">H5Dset_extent</span>, up to the maximum set with the <span class="FM_Code">maxdims</span>&#160;parameter in the <span class="FM_LT_LinkTextCode"><a href="http://www.hdfgroup.org/HDF5/doc/RM/RM_H5S.html#Dataspace-CreateSimple">H5Screate_simple</a></span> call that established the dataset’s original dimen&#173;sions. The maximum dimension size is set when the dataset is created and cannot be changed.</p>
 <p class="FM__Heading_SubSection">Datatype</p>
 <p class="FM__Body">Raw data has a datatype which describes the layout of the raw data stored in the file. The datatype is set when the dataset is created and can never be changed. When data is transferred to and from the dataset, the HDF5 Library will assure that the data is transformed to and from the stored format.</p>
 <p class="FM__Heading_SubSection">Storage Properties</p>
 <p class="FM__Body">Storage properties of the dataset are set when it is created. The required inputs table below shows the categories of storage properties. The storage properties cannot be changed after the dataset is created.</p>
 <p class="FM__Heading_SubSection">Filters</p>
 <p class="FM__Body"><a name="IX_data_transfer_pipeline"></a>When a dataset is created, optional filters are specified. The filters are added to the data transfer pipeline when data is read or written. The standard library includes filters to implement compression, data shuf&#173;fling, and error detection code. Additional user-defined filters may also be used. </p>
 <p class="FM__Body">The required filters are stored as part of the dataset, and the list may not be changed after the dataset is created. The HDF5 Library automatically applies the filters whenever data is transferred.</p>
 <p class="FM__Heading_SubSection">Summary</p>
 <p class="FM__Body">A newly created dataset has no attributes and no data values. The dimensions, datatype, storage proper&#173;ties, and selected filters are set. The table below lists the required inputs, and the second table below lists the optional inputs.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable1" x-list-start="1">Table 5-1. Required inputs</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 108.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Required Inputs</p>
</th>
  <th style="width : 324.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Dataspace</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">The shape of the array.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Datatype</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">The layout of the stored elements.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Name</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">The name of the dataset in the group.</p>
</td>
</tr>
 </table>
</div>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-2. Optional inputs</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 108.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Optional Inputs</p>
</th>
  <th style="width : 324.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Storage Layout</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">How the data is organized in the file including chunking.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Fill Value</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">The behavior and value for uninitialized data.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">External Storage</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Option to store the raw data in an external file.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Filters</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Select optional filters to be applied. One of the filters that might be applied is compression.</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">Example</p>
 <p class="FM__Body">To create a new dataset, go through the following general steps:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Set dataset characteristics (optional where default settings are acceptable)</p>
 <p class="FM__ListBullets_Level2">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Datatype</p>
 <p class="FM__ListBullets_Level2">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Dataspace</p>
 <p class="FM__ListBullets_Level2">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Dataset creation property list</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Create the dataset</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Close the datatype, dataspace, and property list (as necessary)</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Close the dataset</p>
 <p class="FM__Body">Example 1 below shows example code to create an empty dataset. The dataspace is 7 x 8, and the data&#173;type is a big-endian integer. The dataset is created with the name “dset1” and is a member of the root group, “/”.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample1" x-list-start="1" align="bottom">Code Example 5-1. Create an empty dataset</caption>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;dataset, datatype, dataspace; &#160;&#160;</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* </p>
  <p class="FM__BodyCellCode">* Create dataspace: Describe the size of the array and </p>
  <p class="FM__BodyCellCode">* create the dataspace for fixed-size dataset. </p>
  <p class="FM__BodyCellCode">*/</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">dimsf[0] = 7;</p>
  <p class="FM__BodyCellCode">dimsf[1] = 8;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Screate_simple_7"></a>dataspace = H5Screate_simple(2, dimsf, NULL); </p>
  <p class="FM__BodyCellCode">/*</p>
  <p class="FM__BodyCellCode">* Define datatype for the data in the file.</p>
  <p class="FM__BodyCellCode">* For this example, store little-endian integer numbers.</p>
  <p class="FM__BodyCellCode">*/</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_INT_9"></a><a name="IX_H5Tcopy_2"></a>datatype = H5Tcopy(H5T_NATIVE_INT);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_ORDER_LE_2"></a><a name="IX_H5Tset_order_1"></a>status = H5Tset_order(datatype, H5T_ORDER_LE);</p>
  <p class="FM__BodyCellCode">/*</p>
  <p class="FM__BodyCellCode">* Create a new dataset within the file using defined </p>
  <p class="FM__BodyCellCode">* dataspace and datatype. No properties are set.</p>
  <p class="FM__BodyCellCode">*/</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dcreate_9"></a>dataset = H5Dcreate(file, &quot;/dset&quot;, datatype, dataspace, </p>
  <p class="FM__BodyCellCodeIndent">H5P_DEFAULT, H5P_DEFAULT, H5P_DEFAULT);</p>
</td>
</tr>
  <tr style=" height : 61.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_2"></a>H5Dclose(dataset);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Sclose_2"></a>H5Sclose(dataspace);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tclose_1"></a>H5Tclose(datatype);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body"><a name="IX_H5Dcreate_10"></a>Example 2 below shows example code to create a similar dataset with a fill value of ‘-1’. This code has the same steps as in the example above, but uses a non-default property list. A file creation property list is cre&#173;ated, and then the fill value is set to the desired value. Then the property list is passed to the <span class="FM_Code">H5Dcreate</span>&#160;call.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-2. Create a dataset with fill value set</caption>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;dataset, datatype, dataspace;</p>
  <p class="FM__BodyCellCode">hid_t plist; &#160;/* property list */</p>
  <p class="FM__BodyCellCode">int fillval = -1;</p>
  <p class="FM__BodyCellCode">dimsf[0] = 7;</p>
  <p class="FM__BodyCellCode">dimsf[1] = 8;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Screate_simple_8"></a>dataspace = H5Screate_simple(2, dimsf, NULL); </p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_INT_10"></a><a name="IX_H5Tcopy_3"></a>datatype = H5Tcopy(H5T_NATIVE_INT);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_ORDER_LE_3"></a><a name="IX_H5Tset_order_2"></a>status = H5Tset_order(datatype, H5T_ORDER_LE);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/*</p>
  <p class="FM__BodyCellCode">* Example of Dataset Creation property list: set fill value </p>
  <p class="FM__BodyCellCode">* to '-1'</p>
  <p class="FM__BodyCellCode">*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5P_DATASET_CREATE_3"></a><a name="IX_H5Pcreate_8"></a>plist = H5Pcreate(H5P_DATASET_CREATE);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_fill_value_1"></a>status = H5Pset_fill_value(plist, datatype, &amp;fillval);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* Same as above, but use the property list */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dcreate_11"></a>dataset = H5Dcreate(file, &quot;/dset&quot;, datatype, dataspace, </p>
  <p class="FM__BodyCellCodeIndent">H5P_DEFAULT, plist, H5P_DEFAULT);</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_3"></a>H5Dclose(dataset);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Sclose_3"></a>H5Sclose(dataspace);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tclose_2"></a>H5Tclose(datatype);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pclose"></a>H5Pclose(plist);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">After this code is executed, the dataset has been created and written to the file. The data array is uninitial&#173;ized. Depending on the storage strategy and fill value options that have been selected, some or all of the space may be allocated in the file, and fill values may be written in the file.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_3_3_Data_Transfer"></a>5.3.3. Data Transfer Operations on a Dataset</p>
 <p class="FM__Body"><a name="IX_H5Dread_4"></a><a name="IX_H5Dwrite_6"></a>Data is transferred between memory and the raw data array of the dataset through <span class="FM_Code">H5Dwrite</span>&#160;and <span class="FM_Code">H5Dread</span> operations. A data transfer has the following basic steps:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Allocate and initialize memory space as needed</p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Define the datatype of the memory elements</p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Define the elements to be transferred (a selection, or all the elements)</p>
 <p class="FM__ListNumbered_Level1">4.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Set data transfer properties (including parameters for filters or file drivers) as needed</p>
 <p class="FM__ListNumbered_Level1">5.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Call the H5D API</p>
 <p class="FM__Body">Note that the location of the data in the file, the datatype of the data in the file, the storage properties, and the filters do not need to be specified because these are stored as a permanent part of the dataset. A selection of elements from the dataspace is specified; the selected elements may be the whole dataspace.</p>
 <p class="FM__Body">The figure below shows a diagram of a write operation which transfers a data array from memory to a dataset in the file (usually on disk). A read operation has similar parameters with the data flowing the other direction.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-3. A write operation</caption>
  <tr style=" height : 290.02pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig5.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:538px;" id="image2" src="Dsets_fig5.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">Memory Space</p>
 <p class="FM__Body">The calling program must allocate sufficient memory to store the data elements to be transferred. For a write (from memory to the file), the memory must be initialized with the data to be written to the file. For a read, the memory must be large enough to store the elements that will be read. The amount of storage needed can be computed from the memory datatype (which defines the size of each data element) and the number of elements in the selection.</p>
 <p class="FM__Heading_SubSection">Memory Datatype</p>
 <p class="FM__Body">The memory layout of a single data element is specified by the memory datatype. This specifies the size, alignment, and byte order of the element as well as the datatype class. Note that the memory datatype must be the same datatype class as the file, but may have different byte order and other properties. The HDF5 Library automatically transforms data elements between the source and destination layouts. <a href="../Datatypes/HDF5_Datatypes.htm#XREF_DatatypesChapter">For more information, see &quot;HDF5 Datatypes.&quot;</a></p>
 <p class="FM__Body">For a write, the memory datatype defines the layout of the data to be written; an example is IEEE floating-point numbers in native byte order. If the file datatype (defined when the dataset is created) is different but compatible, the HDF5 Library will transform each data element when it is written. For example, if the file byte order is different than the native byte order, the HDF5 Library will swap the bytes.</p>
 <p class="FM__Body">For a read, the memory datatype defines the desired layout of the data to be read. This must be compati&#173;ble with the file datatype, but should generally use native formats such as byte orders. The HDF5 Library will transform each data element as it is read.</p>
 <p class="FM__Heading_SubSection">Selection</p>
 <p class="FM__Body">The data transfer will transfer some or all of the elements of the dataset depending on the dataspace selection. The selection has two dataspace objects: one for the source, and one for the destination. These objects describe which elements of the dataspace to be transferred. Some (partial I/O) or all of the data may be transferred. Partial I/O is defined by defining hyperslabs or lists of elements in a dataspace object.</p>
 <p class="FM__Body">The dataspace selection for the source defines the indices of the elements to be read or written. The two selections must define the same number of points, but the order and layout may be different. The HDF5 Library automatically selects and distributes the elements according to the selections. It might, for exam&#173;ple, perform a scatter-gather or sub-set of the data. </p>
 <p class="FM__Heading_SubSection">Data Transfer Properties</p>
 <p class="FM__Body">For some data transfers, additional parameters should be set using the transfer property list. The table below lists the categories of transfer properties. These properties set parameters for the HDF5 Library and may be used to pass parameters for optional filters and file drivers. For example, transfer properties are used to select independent or collective operation when using MPI-I/O.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-3. Categories of transfer properties</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 144.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Properties</p>
</th>
  <th style="width : 288.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Library parameters</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Internal caches, buffers, B-Trees, etc.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Memory management</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Variable-length memory management, data overwrite</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">File driver management</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Parameters for file drivers</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Filter management</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Parameters for filters</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">Data Transfer Operation (Read or Write)</p>
 <p class="FM__Body"><a name="IX_H5Dwrite_7"></a><a name="IX_H5Dread_5"></a>The data transfer is done by calling <span class="FM_Code">H5Dread</span>&#160;or <span class="FM_Code">H5Dwrite</span>&#160;with the parameters described above. The HDF5 Library constructs the required pipeline, which will scatter-gather, transform datatypes, apply the requested filters, and use the correct file driver.</p>
 <p class="FM__Body">During the data transfer, the transformations and filters are applied to each element of the data in the required order until all the data is transferred.</p>
 <p class="FM__Heading_SubSection">Summary</p>
 <p class="FM__Body">To perform a data transfer, it is necessary to allocate and initialize memory, describe the source and desti&#173;nation, set required and optional transfer properties, and call the H5D API. </p>
 <p class="FM__Heading_SubSection">Examples</p>
 <p class="FM__Body">The basic procedure to <span class="FM_EH_EmphasisHeavy">write</span> to a dataset is the following:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Open the dataset.</p>
 <p class="FM__ListBullets_Level1"><a name="IX_H5S_SELECT_ALL"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Set the dataset dataspace for the write (optional if dataspace is <span class="FM_Code">H5S_SELECT_ALL</span>).</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Write data.</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Close the datatype, dataspace, and property list (as necessary).</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Close the dataset.</p>
 <p class="FM__Body"><a name="IX_H5Dopen_9"></a>Example 3 below shows example code to write a 4 x 6 array of integers. In the example, the data is initial&#173;ized in the memory array dset_data. The dataset has already been created in the file, so it is opened with <span class="FM_Code">H5Dopen</span>.</p>
 <p class="FM__Body"><a name="IX_H5S_ALL_2"></a><a name="IX_H5T_NATIVE_INT_11"></a><a name="IX_H5Dwrite_8"></a>The data is written with <span class="FM_Code">H5Dwrite</span>. The arguments are the dataset identifier, the memory datatype (<span class="FM_Code">H5T_NATIVE_INT</span>), the memory and file selections (<span class="FM_Code">H5S_ALL</span>&#160;in this case: the whole array), and the default (empty) property list. The last argument is the data to be transferred.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-3. Write an array of integers</caption>
  <tr style=" height : 61.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;&#160;&#160;&#160;file_id, dataset_id; &#160;/* identifiers */</p>
  <p class="FM__BodyCellCode">herr_t &#160;&#160;&#160;&#160;&#160;status;</p>
  <p class="FM__BodyCellCode">int &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i, j, dset_data[4][6];</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">/* Initialize the dataset. */</p>
  <p class="FM__BodyCellCode">for (i = 0; i &lt; 4; i++)</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>for (j = 0; j &lt; 6; j++)</p>
  <p class="FM__BodyCellCodeIndent">dset_data[i][j] = i * 6 + j + 1;</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">/* Open an existing file. */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Fopen_8"></a>file_id = H5Fopen(&quot;dset.h5&quot;, H5F_ACC_RDWR, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* Open an existing dataset. */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_10"></a>dataset_id = H5Dopen(file_id, &quot;/dset&quot;, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">/* Write the entire dataset, using 'dset_data': </p>
  <p class="FM__BodyCellCodeIndent">memory type is 'native int'</p>
  <p class="FM__BodyCellCodeIndent">write the entire dataspace to the entire dataspace,</p>
  <p class="FM__BodyCellCodeIndent">no transfer properties,</p>
  <p class="FM__BodyCellCode">*/</p>
  <p class="FM__BodyCellCode"><a name="IX_H5S_ALL_3"></a><a name="IX_H5Dwrite_9"></a>status = H5Dwrite(dataset_id, H5T_NATIVE_INT, H5S_ALL, </p>
  <p class="FM__BodyCellCodeIndent">H5S_ALL, H5P_DEFAULT, dset_data);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_4"></a>status = H5Dclose(dataset_id);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body"><a name="IX_H5Dwrite_10"></a>Example 4 below shows a similar write except for setting a non-default value for the transfer buffer. The code is the same as Example 3, but a transfer property list is created, and the desired buffer size is set. The <span class="FM_Code">H5Dwrite</span> function has the same arguments, but uses the property list to set the buffer.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-4. Write an array using a property list</caption>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;&#160;&#160;&#160;file_id, dataset_id; &#160;</p>
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;&#160;&#160;&#160;xferplist;</p>
  <p class="FM__BodyCellCode">herr_t &#160;&#160;&#160;&#160;&#160;status;</p>
  <p class="FM__BodyCellCode">int &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i, j, dset_data[4][6];</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Fopen_9"></a>file_id = H5Fopen(&quot;dset.h5&quot;, H5F_ACC_RDWR, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_11"></a>dataset_id = H5Dopen(file_id, &quot;/dset&quot;, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/*</p>
  <p class="FM__BodyCellCode">* Example: set type conversion buffer to 64MB</p>
  <p class="FM__BodyCellCode">*/</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5P_DATASET_XFER_1"></a><a name="IX_H5Pcreate_9"></a>xferplist = H5Pcreate(H5P_DATASET_XFER);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_buffer_1"></a>status = H5Pset_buffer( xferplist, 64 * 1024 *1024, NULL, NULL);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* Write the entire dataset, using 'dset_data': </p>
  <p class="FM__BodyCellCodeIndent">memory type is 'native int'</p>
  <p class="FM__BodyCellCodeIndent">write the entire dataspace to the entire dataspace,</p>
  <p class="FM__BodyCellCodeIndent">set the buffer size with the property list,</p>
  <p class="FM__BodyCellCode">*/</p>
</td>
</tr>
  <tr style=" height : 61.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_INT_12"></a><a name="IX_H5Dwrite_11"></a>status = H5Dwrite(dataset_id, H5T_NATIVE_INT, H5S_ALL, </p>
  <p class="FM__BodyCellCodeIndent"><a name="IX_H5S_ALL_4"></a>H5S_ALL, xferplist, dset_data);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_5"></a>status = H5Dclose(dataset_id);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The basic procedure to <span class="FM_EH_EmphasisHeavy">read</span> from a dataset is the following:</p>
 <p class="FM__ListBullets_Level1"><a name="IX_H5S_SELECT_ALL_1"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Define the memory dataspace of the read (optional if dataspace is <span class="FM_Code">H5S_SELECT_ALL</span>).</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Open the dataset.</p>
 <p class="FM__ListBullets_Level1"><a name="IX_H5S_SELECT_ALL_2"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the dataset dataspace (if using <span class="FM_Code">H5S_SELECT_ALL</span> above).</p>
 <p class="FM__Body">Else define dataset dataspace of read.</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Define the memory datatype (optional).</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Define the memory buffer.</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Open the dataset.</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Read data.</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Close the datatype, dataspace, and property list (as necessary).</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Close the dataset.</p>
 <p class="FM__Body"><a name="IX_H5Dread_6"></a>The example below shows code that reads a 4 x 6 array of integers from a dataset called “dset1”. First, the dataset is opened. The <span class="FM_Code">H5Dread</span> call has parameters:</p>
 <p class="FM__ListBullets_Level1"><a name="IX_H5Dopen_12"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The dataset identifier (from <span class="FM_Code">H5Dopen</span>)</p>
 <p class="FM__ListBullets_Level1"><a name="IX_H5T_NATVE_INT"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The memory datatype (<span class="FM_Code">H5T_NATVE_INT</span>)</p>
 <p class="FM__ListBullets_Level1"><a name="IX_H5S_ALL_5"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The memory and file dataspace (<span class="FM_Code">H5S_ALL</span>, the whole array)</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>A default (empty) property list</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The memory to be filled</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-5. Read an array from a dataset</caption>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;&#160;&#160;&#160;file_id, dataset_id; &#160;</p>
  <p class="FM__BodyCellCode">herr_t &#160;&#160;&#160;&#160;&#160;status;</p>
  <p class="FM__BodyCellCode">int &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;i, j, dset_data[4][6];</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* Open an existing file. */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5F_ACC_RDWR_6"></a><a name="IX_H5Fopen_10"></a>file_id = H5Fopen(&quot;dset.h5&quot;, H5F_ACC_RDWR, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">/* Open an existing dataset. */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_13"></a>dataset_id = H5Dopen(file_id, &quot;/dset&quot;, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* read the entire dataset, into 'dset_data': </p>
  <p class="FM__BodyCellCodeIndent">memory type is 'native int'</p>
  <p class="FM__BodyCellCodeIndent">read the entire dataspace to the entire dataspace,</p>
  <p class="FM__BodyCellCodeIndent">no transfer properties,</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">*/</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_INT_13"></a><a name="IX_H5Dread_7"></a>status = H5Dread(dataset_id, H5T_NATIVE_INT, H5S_ALL, </p>
  <p class="FM__BodyCellCodeIndent"><a name="IX_H5S_ALL_6"></a>H5S_ALL, H5P_DEFAULT, dset_data);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_6"></a>status = H5Dclose(dataset_id);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_3_4_Retrieve_the"></a>5.3.4. Retrieve the Properties of a Dataset</p>
 <p class="FM__Body">The functions listed below allow the user to retrieve information regarding a dataset including the data&#173;type, the dataspace, the dataset creation property list, and the total stored size of the data.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-bottom:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFunctionListing">Function Listing 5-4. Retrieve dataset information</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 198.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Query Function</p>
</th>
  <th style="width : 234.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 198.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Dget_space</p>
</td>
  <td style="width : 234.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieve the dataspace of the dataset as stored in the file. </p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 198.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Dget_type</p>
</td>
  <td style="width : 234.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieve the datatype of the dataset as stored in the file. </p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 198.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Dget_create_plist</p>
</td>
  <td style="width : 234.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieve the dataset creation properties. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 198.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Dget_storage_size</p>
</td>
  <td style="width : 234.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Retrieve the total bytes for all the data of the dataset. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 198.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Dvlen_get_buf_size</p>
</td>
  <td style="width : 234.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">&#160;Retrieve the total bytes for all the variable-length data of the dataset.</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The example below illustrates how to retrieve dataset information.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-6. Retrieve dataset</caption>
  <tr style=" height : 61.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;&#160;&#160;&#160;file_id, dataset_id;</p>
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;&#160;&#160;&#160;dspace_id, dtype_id, plist_id; </p>
  <p class="FM__BodyCellCode">herr_t &#160;&#160;&#160;&#160;&#160;status;</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">/* Open an existing file. */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Fopen_11"></a>file_id = H5Fopen(&quot;dset.h5&quot;, H5F_ACC_RDWR, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* Open an existing dataset. */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_14"></a>dataset_id = H5Dopen(file_id, &quot;/dset&quot;, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_space_3"></a>dspace_id = H5Dget_space(dataset_id);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_type_2"></a>dtype_id = H5Dget_type(dataset_id);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dget_create_plist_1"></a>plist_id = H5Dget_create_plist(dataset_id);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* use the objects to discover the properties of the dataset */</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_7"></a>status = H5Dclose(dataset_id);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_Level2"><a name="TOC_5_4_Data_Transfer"></a>5.4. Data Trans<a name="XREF_DTransfer"></a>fer</p>
 <p class="FM__Body"><a name="IX_pipeline"></a>The HDF5 Library implements data transfers through a pipeline which implements data transformations (according to the datatype and selections), chunking (as requested), and I/O operations using different mechanisms (file drivers). The pipeline is automatically configured by the HDF5 Library. Metadata is stored in the file so that the correct pipeline can be constructed to retrieve the data. In addition, optional filters such as compression may be added to the standard pipeline. </p>
 <p class="FM__Body">The figure below illustrates data layouts for different layers of an application using HDF5. The application data is organized as a multidimensional array of elements. The HDF5 format specification defines the stored layout of the data and metadata. The storage layout properties define the organization of the abstract data. This data is written and read to and from some storage medium.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-4. Data layouts in an application</caption>
  <tr style=" height : 274.10pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig9.JPG" id="image3" src="Dsets_fig9.JPG" style="width:100%; max-width:532px" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body"><a name="IX_virtual_file_layer_2"></a>The last stage of a write (and first stage of a read) is managed by an HDF5 file driver module. The virtual file layer of the HDF5 Library implements a standard interface to alternative I/O methods, including mem&#173;ory (AKA “core”) files, single serial file I/O, multiple file I/O, and parallel I/O. The file driver maps a simple abstract HDF5 file to the specific access methods.</p>
 <p class="FM__Body">The raw data of an HDF5 dataset is conceived to be a multidimensional array of data elements. This array may be stored in the file according to several storage strategies:</p>
 <p class="FM__ListBullets_Level1"><a name="IX_contiguous"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Contiguous</p>
 <p class="FM__ListBullets_Level1"><a name="IX_chunked"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Chunked</p>
 <p class="FM__ListBullets_Level1"><a name="IX_compact_1"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Compact</p>
 <p class="FM__Body">The storage strategy does not affect data access methods except that certain operations may be more or less efficient depending on the storage strategy and the access patterns.</p>
 <p class="FM__Body"><a name="IX_H5Dwrite_12"></a><a name="IX_H5Dread_8"></a>Overall, the data transfer operations (<span class="FM_Code">H5Dread</span>&#160;and <span class="FM_Code">H5Dwrite</span>) work identically for any storage method, for any file driver, and for any filters and transformations. The HDF5 Library automatically manages the data transfer process. In some cases, transfer properties should or must be used to pass additional param&#173;eters such as MPI/IO directives when using the parallel file driver.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_4_1_The_Data_Pipeline"></a>5.4.1. The Data Pipeline</p>
 <p class="FM__Body"><a name="IX_data_pipeline"></a>When data is written or read to or from an HDF5 file, the HDF5 Library passes the data through a sequence of processing steps which are known as the HDF5 data pipeline. This data pipeline performs operations on the data in memory such as byte swapping, alignment, scatter-gather, and hyperslab selections. The HDF5 Library automatically determines which operations are needed and manages the organization of memory operations such as extracting selected elements from a data block. The data pipeline modules operate on data buffers: each module processes a buffer and passes the transformed buffer to the next stage.</p>
 <p class="FM__Body">The table below lists the stages of the data pipeline. The figure below the table shows the order of pro&#173;cessing during a read or write.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-4. Stages of the data pipeline</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 132.924pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Layers</p>
</th>
  <th style="width : 299.076pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">I/O initiation</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell"><a name="IX_H5Dread_9"></a><a name="IX_H5Dwrite_13"></a>Initiation of HDF5 I/O activities (<span class="FM_Code">H5Dwrite</span>&#160;and <span class="FM_Code">H5Dread</span>) in a user’s application program.</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Memory hyperslab opera&#173;tion</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Data is scattered to (for read), or gathered from (for write) the application’s memory buffer (bypassed if no datatype conversion is needed).</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Datatype conversion</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Datatype is converted if it is different between memory and stor&#173;age (bypassed if no datatype conversion is needed).</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">File hyperslab operation</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Data is gathered from (for read), or scattered to (for write) to file space in memory (bypassed if no datatype conversion is needed).</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Filter pipeline</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Data is processed by filters when it passes. Data can be modified and restored here (bypassed if no datatype conversion is needed, no filter is enabled, or dataset is not chunked). </p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Virtual File Layer</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Facilitate easy plug-in file drivers such as MPIO or POSIX I/O.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Actual I/O</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Actual file driver used by the library such as MPIO or STDIO. </p>
</td>
</tr>
 </table>
</div>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:324.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-5. The processing order in the data pipeline</caption>
  <tr style=" height : 405.94pt;">
  <td style="width : 324.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig10.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:1.500pt; width:100%; max-width:357px;" id="image4" src="Dsets_fig10.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The HDF5 Library automatically applies the stages as needed. </p>
 <p class="FM__Body">When the memory dataspace selection is other than the whole dataspace, the memory hyperslab stage scatters/gathers the data elements between the application memory (described by the selection) and a contiguous memory buffer for the pipeline. On a write, this is a gather operation; on a read, this is a scat&#173;ter operation.</p>
 <p class="FM__Body">When the memory datatype is different from the file datatype, the datatype conversion stage transforms each data element. For example, if data is written from 32-bit big-endian memory, and the file datatype is 32-bit little-endian, the datatype conversion stage will swap the bytes of every elements. Similarly, when data is read from the file to native memory, byte swapping will be applied automatically when needed.</p>
 <p class="FM__Body">The file hyperslab stage is similar to the memory hyperslab stage, but is managing the arrangement of the elements according to the dataspace selection. When data is read, data elements are gathered from the data blocks from the file to fill the contiguous buffers which are then processed by the pipeline. When data is read, the elements from a buffer are scattered to the data blocks of the file.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_4_2_Data_Pipeline"></a>5.4.2. Data Pipeline Filters</p>
 <p class="FM__Body"><a name="IX_filters"></a><a name="IX_data_pipeline_filters"></a>In addition to the standard pipeline, optional stages, called filters, can be inserted in the pipeline. The standard distribution includes optional filters to implement compression and error checking. User applica&#173;tions may add custom filters as well.</p>
 <p class="FM__Body">The HDF5 Library distribution includes or employs several optional filters. These are listed in the table below. The filters are applied in the pipeline between the virtual file layer and the file hyperslab operation. See the figure above. The application can use any number of filters in any order.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-5. Data pipeline filters</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 144.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Filter</p>
</th>
  <th style="width : 288.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">gzip compression</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell"><a name="IX_zlib"></a>Data compression using <span class="FM_Code">zlib</span>.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Szip compression</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Data compression using the Szip library. See The HDF Group website for more information regarding the <span class="FM_LT_LinkText"><a href="http://www.hdfgroup.org/doc_resource/SZIP/">Szip</a></span> filter.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">N-bit compression</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Data compression using an algorithm specialized for n-bit datatypes.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Scale-offset compression</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Data compression using a “scale and offset” algorithm.</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Shuffling</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">To improve compression performance, data is regrouped by its byte position in the data unit. In other words, the 1<sup><span class="FM_Exponent">st</span></sup>, 2<sup><span class="FM_Exponent">nd</span></sup>, 3<sup><span class="FM_Exponent">rd</span></sup>, and 4<sup><span class="FM_Exponent">th</span></sup> bytes of integers are stored together respectively.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Fletcher32</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Fletcher32 checksum for error-detection.</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">Filters may be used only for chunked data and are applied to chunks of data between the file hyperslab stage and the virtual file layer. At this stage in the pipeline, the data is organized as fixed-size blocks of ele&#173;ments, and the filter stage processes each chunk separately.</p>
 <p class="FM__Body"><a name="IX_H5Pset_deflate_3"></a><a name="IX_H5Pset_shuffle_1"></a>Filters are selected by dataset creation properties, and some behavior may be controlled by data transfer properties. The library determines what filters must be applied and applies them in the order in which they were set by the application. That is, if an application calls <span class="FM_Code">H5Pset_shuffle</span>&#160;and then <span class="FM_Code">H5Pset_de&#173;flate</span>&#160;when creating a dataset’s creation property list, the library will apply the shuffle filter first and then the deflate filter.</p>
 <p class="FM__Body"><a href="#XREF_N_Bit">For more information, see &quot;Using the N-bit Filter.&quot;</a><a href="#XREF_ScaleOffset">For more information, see &quot;Using the Scale-offset Filter.&quot;</a></p>
 <p class="FM__Heading_Level3"><a name="TOC_5_4_3_File_Drivers"></a>5.4.3. File Drivers</p>
 <p class="FM__Body">I/O is performed by the HDF5 virtual file layer. The file driver interface writes and reads blocks of data; each driver module implements the interface using different I/O mechanisms. The table below lists the file drivers currently supported. Note that the I/O mechanisms are separated from the pipeline processing: the pipeline and filter operations are identical no matter what data access mechanism is used.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-6. I/O file drivers</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 108.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">File Driver</p>
</th>
  <th style="width : 324.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5FD_CORE_1"></a>H5FD_CORE</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Store in memory (optional backing store to disk file). &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5FD_FAMILY_1"></a>H5FD_FAMILY</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Store in a set of files. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5FD_LOG_1"></a>H5FD_LOG</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Store in logging file. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5FD_MPIO_2"></a>H5FD_MPIO</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Store using MPI/IO. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5FD_MULTI_2"></a>H5FD_MULTI</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Store in multiple files. There are several options to control layout. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5FD_SEC2_1"></a>H5FD_SEC2</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Serial I/O to file using Unix “section 2” functions. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5FD_STDIO_2"></a>H5FD_STDIO</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Serial I/O to file using Unix “stdio” functions. &#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">Each file driver writes/reads contiguous blocks of bytes from a logically contiguous address space. The file driver is responsible for managing the details of the different physical storage methods.</p>
 <p class="FM__Body">In serial environments, everything above the virtual file layer tends to work identically no matter what storage method is used.</p>
 <p class="FM__Body">Some options may have substantially different performance depending on the file driver that is used. In particular, multi-file and parallel I/O may perform considerably differently from serial drivers depending on chunking and other settings.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_4_4_Data_Transfer"></a>5.4.4. Data Transfer Properties to Manage the Pipeline</p>
 <p class="FM__Body">Data transfer properties set optional parameters that control parts of the data pipeline. The function list&#173;ing below shows transfer properties that control the behavior of the library.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-bottom:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFunctionListing">Function Listing 5-5. Data transfer property list functions</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 144.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">C Function</p>
</th>
  <th style="width : 288.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Purpose</p>
</th>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Pset_buffer</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Maximum size for the type conversion buffer and the back&#173;ground buffer. May also supply pointers to application-allo&#173;cated buffers. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Pset_hyper_cache</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Whether to cache hyperslab blocks during I/O. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Pset_btree_ratios</p>
</td>
  <td style="width : 288.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Set the B-tree split ratios for a dataset transfer property list. The split ratios determine what percent of children go in the first node when a node splits. &#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">Some filters and file drivers require or use additional parameters from the application program. These can be passed in the data transfer property list. The table below shows file driver property list functions.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-bottom:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFunctionListing">Function Listing 5-6. File driver property list functions</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 198.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">C Function</p>
</th>
  <th style="width : 234.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Purpose</p>
</th>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 198.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Pset_dxpl_mpio</p>
</td>
  <td style="width : 234.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Control the MPI I/O transfer mode (independent or collective) during data I/O operations.</p>
</td>
</tr>
  <tr style=" height : 88.00pt;">
  <td style="width : 198.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Pset_small_data_block_size</p>
</td>
  <td style="width : 234.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Reserves blocks of size bytes for the contiguous storage of the raw data portion of small datasets. The HDF5 Library then writes the raw data from small datasets to this reserved space which reduces unnecessary discontinuities within blocks of metadata and improves I/O performance.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 198.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">H5Pset_edc_check</p>
</td>
  <td style="width : 234.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Disable/enable EDC checking for read. When selected, EDC is always written. &#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body"><a name="IX_H5Dwrite_14"></a><a name="IX_H5Dread_10"></a>The transfer properties are set in a property list which is passed as a parameter of the <span class="FM_Code">H5Dread</span>&#160;or <span class="FM_Code">H5Dwrite</span>&#160;call. The transfer properties are passed to each pipeline stage. Each stage may use or ignore any property in the list. In short, there is one property list that contains all the properties.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_4_5_Storage_Strategies"></a>5.4.5. Storage Str<a name="XREF_StorageStrategies"></a>ategies</p>
 <p class="FM__Body">The raw data is conceptually a multi-dimensional array of elements that is stored as a contiguous array of bytes. The data may be physically stored in the file in several ways. The table below lists the storage strat&#173;egies for a dataset.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-7. Dataset storage strategies</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 132.924pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Storage Strategy</p>
</th>
  <th style="width : 299.076pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Contiguous</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">The dataset is stored as one continuous array of bytes.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Chunked</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">The dataset is stored as fixed-size chunks.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Compact</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">A small dataset is stored in the metadata header. &#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The different storage strategies do not affect the data transfer operations of the dataset: reads and writes work the same for any storage strategy.</p>
 <p class="FM__Body">These strategies are described in the following sections.</p>
 <p class="FM__Heading_SubSection">Contiguous</p>
 <p class="FM__Body">A contiguous dataset is stored in the file as a header and a single continuous array of bytes. See the figure below. In the case of a multi-dimensional array, the data is serialized in row major order. By default, data is stored contiguously.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:216.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-6. Contiguous data storage</caption>
  <tr style=" height : 87.70pt;">
  <td style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig12.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:193px;" id="image5" src="Dsets_fig12.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">Contiguous storage is the simplest model. It has several limitations. First, the dataset must be a fixed-size: it is not possible to extend the limit of the dataset or to have unlimited dimensions. In other words, if the number of dimensions of the array might change over time, then chunking storage must be used instead of contiguous. Second, because data is passed through the pipeline as fixed-size blocks, compression and other filters cannot be used with contiguous data.</p>
 <p class="FM__Heading_SubSection">Chunked</p>
 <p class="FM__Body">The data of a dataset may be stored as fixed-size chunks. See the figure below. A chunk is a hyper-rectan&#173;gle of any shape. When a dataset is chunked, each chunk is read or written as a single I/O operation, and individually passed from stage to stage of the data pipeline. </p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:216.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-7. Chunked data storage</caption>
  <tr style=" height : 108.58pt;">
  <td style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig13.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:194px;" id="image6" src="Dsets_fig13.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">Chunks may be any size and shape that fits in the dataspace of the dataset. For example, a three dimen&#173;sional dataspace can be chunked as 3-D cubes, 2-D planes, or 1-D lines. The chunks may extend beyond the size of the dataspace. For example, a 3 x 3 dataset might by chunked in 2 x 2 chunks. Sufficient chunks will be allocated to store the array, and any extra space will not be accessible. So, to store the 3 x 3 array, four 2 x 2 chunks would be allocated with 5 unused elements stored.</p>
 <p class="FM__Body">Chunked datasets can be unlimited in any direction and can be compressed or filtered.</p>
 <p class="FM__Body">Since the data is read or written by chunks, chunking can have a dramatic effect on performance by opti&#173;mizing what is read and written. Note, too, that for specific access patterns such as parallel I/O, decompo&#173;sition into chunks can have a large impact on performance.</p>
 <p class="FM__Body">Two restrictions have been placed on chunk shape and size:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The rank of a chunk must be less than or equal to the rank of the dataset</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Chunk size cannot exceed the size of a fixed-size dataset; for example, a dataset consisting of a 5 x 4 fixed-size array cannot be defined with 10 x 10 chunks</p>
 <p class="FM__Heading_SubSection">Compact</p>
 <p class="FM__Body">For contiguous and chunked storage, the dataset header information and data are stored in two (or more) blocks. Therefore, at least two I/O operations are required to access the data: one to access the header, and one (or more) to access data. For a small dataset, this is considerable overhead.</p>
 <p class="FM__Body">A small dataset may be stored in a continuous array of bytes in the header block using the compact stor&#173;age option. This dataset can be read entirely in one operation which retrieves the header and data. The dataset must fit in the header. This may vary depending on the metadata that is stored. In general, a com&#173;pact dataset should be approximately 30 KB or less total size. See the figure below.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:216.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-8. Compact data storage</caption>
  <tr style=" height : 108.58pt;">
  <td style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig14.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:194px;" id="image7" src="Dsets_fig14.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_4_6_Partial_I_O_Sub"></a>5.4.6. Partial I/O Sub-setting and Hyperslabs</p>
 <p class="FM__Body">Data transfers can write or read some of the data elements of the dataset. This is controlled by specifying two selections: one for the source and one for the destination. Selections are specified by creating a dataspace with selections. </p>
 <p class="FM__Body">Selections may be a union of hyperslabs or a list of points. A hyperslab is a contiguous hyper-rectangle from the dataspace. Selected fields of a compound datatype may be read or written. In this case, the selection is controlled by the memory and file datatypes.</p>
 <p class="FM__Body">Summary of procedure:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Open the dataset</p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Define the memory datatype</p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Define the memory dataspace selection and file dataspace selection</p>
 <p class="FM__ListNumbered_Level1"><a name="IX_H5Dwrite_15"></a><a name="IX_H5Dread_11"></a>4.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Transfer data (<span class="FM_Code">H5Dread</span>&#160;or <span class="FM_Code">H5Dwrite</span>)</p>
 <p class="FM__Body"><a href="../Dataspaces/HDF5_Dataspaces_and_Partial_I_O.htm#XREF_DataspacesChapter">For more information, see &quot;HDF5 Dataspaces and Partial I/O.&quot;</a></p>
 <p class="FM__Heading_Level2"><a name="TOC_5_5_Allocation_of_Space"></a>5.5. Allocation o<a name="XREF_Allocation"></a>f Space in the File</p>
 <p class="FM__Body">When a dataset is created, space is allocated in the file for its header and initial data. The amount of space allocated when the dataset is created depends on the storage properties. When the dataset is modified (data is written, attributes added, or other changes), additional storage may be allocated if necessary.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-8. Initial dataset size</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 72.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Object</p>
</th>
  <th style="width : 360.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Size</p>
</th>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Header</p>
</td>
  <td style="width : 360.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Variable, but typically around 256 bytes at the creation of a simple dataset with a simple datatype. </p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Data</p>
</td>
  <td style="width : 360.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Size of the data array (number of elements x size of element). Space allocated in the file depends on the storage strategy and the allocation strategy. </p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">Header</p>
 <p class="FM__Body">A dataset header consists of one or more header messages containing persistent metadata describing var&#173;ious aspects of the dataset. These records are defined in the <span class="FM_LT_LinkText"><a href="http://www.hdfgroup.org/HDF5/doc/H5.format.html">HDF5 File Format Specification</a></span>. The amount of storage required for the metadata depends on the metadata to be stored. The table below summarizes the metadata.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-9. Metadata storage sizes</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 132.924pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Header Information</p>
</th>
  <th style="width : 299.076pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Approximate Storage Size</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Datatype (required)</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Bytes or more. Depends on type.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Dataspace (required)</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Bytes or more. Depends on number of dimensions and hsize_t. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Layout (required)</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Points to the stored data. Bytes or more. Depends on hsize_t and number of dimensions.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 132.924pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Filters</p>
</td>
  <td style="width : 299.076pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Depends on the number of filters. The size of the filter message depends on the name and data that will be passed. &#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The header blocks also store the name and values of attributes, so the total storage depends on the num&#173;ber and size of the attributes.</p>
 <p class="FM__Body">In addition, the dataset must have at least one link, including a name, which is stored in the file and in the group it is linked from.</p>
 <p class="FM__Body">The different storage strategies determine when and how much space is allocated for the data array. See the discussion of fill values below for a detailed explanation of the storage allocation.</p>
 <p class="FM__Heading_SubSection">Contiguous Storage</p>
 <p class="FM__Body">For a continuous storage option, the data is stored in a single, contiguous block in the file. The data is nominally a fixed-size, (number of elements x size of element). The figure below shows an example of a two dimensional array stored as a contiguous dataset.</p>
 <p class="FM__Body">Depending on the fill value properties, the space may be allocated when the dataset is created or when first written (default), and filled with fill values if specified. For parallel I/O, by default the space is allo&#173;cated when the dataset is created.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:252.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-9. A two dimensional array stored as a contiguous dataset</caption>
  <tr style=" height : 112.18pt;">
  <td style="width : 252.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig15.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:262px;" id="image8" src="Dsets_fig15.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">Chunked Storage</p>
 <p class="FM__Body">For chunked storage, the data is stored in one or more chunks. Each chunk is a continuous block in the file, but chunks are not necessarily stored contiguously. Each chunk has the same size. The data array has the same nominal size as a contiguous array (number of elements x size of element), but the storage is allo&#173;cated in chunks, so the total size in the file can be larger that the nominal size of the array. See the figure below.</p>
 <p class="FM__Body">If a fill value is defined, each chunk will be filled with the fill value. Chunks must be allocated when data is written, but they may be allocated when the file is created, as the file expands, or when data is written. </p>
 <p class="FM__Body">For serial I/O, by default chunks are allocated incrementally, as data is written to the chunk. For a sparse dataset, chunks are allocated only for the parts of the dataset that are written. In this case, if the dataset is extended, no storage is allocated.</p>
 <p class="FM__Body">For parallel I/O, by default chunks are allocated when the dataset is created or extended with fill values written to the chunk.</p>
 <p class="FM__Body">In either case, the default can be changed using fill value properties. For example, using serial I/O, the properties can select to allocate chunks when the dataset is created.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:288.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-10. A two dimensional array stored in chunks</caption>
  <tr style=" height : 136.66pt;">
  <td style="width : 288.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig16.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:1.500pt; width:100%; max-width:314px;" id="image9" src="Dsets_fig16.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">Changing Dataset Dimensions</p>
 <p class="FM__Body"><a name="IX_H5Dset_extent_2"></a><span class="FM_Code">H5Dset_extent</span>&#160;is used to change the current dimensions of the dataset within the limits of the dataspace. Each dimension can be extended up to its maximum or unlimited. Extending the dataspace may or may not allocate space in the file and may or may not write fill values, if they are defined. See the example code below.</p>
 <p class="FM__Body"><a name="IX_H5Dset_extent_4"></a><a name="IX_H5Dset_extent_3"></a>The dimensions of the dataset can also reduced. If the sizes specified are smaller than the dataset’s cur&#173;rent dimension sizes, <span class="FM_Code">H5Dset_extent</span>&#160;will reduce the dataset’s dimension sizes to the specified values. It is the user’s responsibility to ensure that valuable data is not lost; <span class="FM_Code">H5Dset_extent</span> does not check.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-7. Using H5Dset_extent to increase the size of a dataset</caption>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">hid_t &#160;&#160;&#160;&#160;&#160;&#160;file_id, dataset_id; &#160;</p>
  <p class="FM__BodyCellCode">Herr_t &#160;&#160;&#160;&#160;&#160;status;</p>
  <p class="FM__BodyCellCode">size_t &#160;&#160;&#160;&#160;&#160;newdims[2];</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* Open an existing file. */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Fopen_12"></a>file_id = H5Fopen(&quot;dset.h5&quot;, H5F_ACC_RDWR, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">/* Open an existing dataset. */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_15"></a>dataset_id = H5Dopen(file_id, &quot;/dset&quot;, H5P_DEFAULT);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* Example: &#160;dataset is 2 x 3, each dimension is UNLIMITED */</p>
  <p class="FM__BodyCellCode">/* extend to 2 x 7 */</p>
  <p class="FM__BodyCellCode">newdims[0] = 2;</p>
  <p class="FM__BodyCellCode">newdims[1] = 7;</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">status = H5Dset_extent(dataset_id, newdims);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">/* dataset is now 2 x 7 */</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_8"></a>status = H5Dclose(dataset_id);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_5_1_Storage_Allocation"></a>5.5.1. Storage Allocation in the File: Early, Incremental, Late</p>
 <p class="FM__Body">The HDF5 Library implements several strategies for when storage is allocated if and when it is filled with fill values for elements not yet written by the user. Different strategies are recommended for different storage layouts and file drivers. In particular, a parallel program needs storage allocated during a collective call (for example, create or extend) while serial programs may benefit from delaying the allocation until the data is written.</p>
 <p class="FM__Body">Two file creation properties control when to allocate space, when to write the fill value, and the actual fill value to write.</p>
 <p class="FM__Heading_SubSection">When to Allocate Space</p>
 <p class="FM__Body">The table below shows the options for when data is allocated in the file. Early allocation is done during the dataset create call. Certain file drivers (especially MPI-I/O and MPI-POSIX) require space to be allocated when a dataset is created, so all processors will have the correct view of the data.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-10. File storage allocation options</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 99.694pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Strategy</p>
</th>
  <th style="width : 332.306pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 99.694pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Early</p>
</td>
  <td style="width : 332.306pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocate storage for the dataset immediately when the dataset is cre&#173;ated. </p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 99.694pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Late</p>
</td>
  <td style="width : 332.306pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Defer allocating space for storing the dataset until the dataset is written.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 99.694pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Incremental</p>
</td>
  <td style="width : 332.306pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Defer allocating space for storing each chunk until the chunk is written.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 99.694pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Default</p>
</td>
  <td style="width : 332.306pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Use the strategy (Early, Late, or Incremental) for the storage method and access method. This is the recommended strategy. &#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">Late allocation is done at the time of the first write to dataset. Space for the whole dataset is allocated at the first write.</p>
 <p class="FM__Body">Incremental allocation (chunks only) is done at the time of the first write to the chunk. Chunks that have never been written are not allocated in the file. In a sparsely populated dataset, this option allocates chunks only where data is actually written.</p>
 <p class="FM__Body">The “Default” property selects the option recommended as appropriate for the storage method and access method. The defaults are shown in the table below. Note that Early allocation is recommended for all Parallel I/O, while other options are recommended as the default for serial I/O cases.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-11. Default storage options</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 144.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Storage Type</p>
</th>
  <th style="width : 144.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Serial I/O</p>
</th>
  <th style="width : 144.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Parallel I/O</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Contiguous</p>
</td>
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Late</p>
</td>
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Early</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Chunked</p>
</td>
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Incremental</p>
</td>
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Early</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Compact</p>
</td>
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Early</p>
</td>
  <td style="width : 144.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Early</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">When to Write the Fill Value</p>
 <p class="FM__Body">The second property is when to write the fill value. The possible values are “Never” and “Allocation”. The table below shows these options.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-12. When to write fill values</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 72.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">When</p>
</th>
  <th style="width : 360.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Never</p>
</td>
  <td style="width : 360.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Fill value will never be written.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocation</p>
</td>
  <td style="width : 360.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Fill value is written when space is allocated. (Default for chunked and contigu&#173;ous data storage.) &#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">What Fill Value to Write</p>
 <p class="FM__Body">The third property is the fill value to write. The table below shows the values. By default, the data is filled with zeros. The application may choose no fill value (Undefined). In this case, uninitialized data may have random values. The application may define a fill value of an appropriate type. <a href="../Datatypes/HDF5_Datatypes.htm#XREF_Fvalues">For more information, see &quot;Fill Values.&quot;</a></p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-13. Fill values to write</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 108.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">What to Write</p>
</th>
  <th style="width : 324.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Default</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">By default, the library fills allocated space with zeros.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Undefined</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocated space is filled with random values.</p>
</td>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 108.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">User-defined</p>
</td>
  <td style="width : 324.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">The application specifies the fill value. &#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">Together these three properties control the library’s behavior. The table below summarizes the possibili&#173;ties during the dataset create-write-close cycle.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-14. Storage allocation and fill summary</caption>
  <tr style=" height : 49.00pt;">
  <th style="width : 72.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">When to allocate space</p>
</th>
  <th style="width : 72.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">When to write fill value</p>
</th>
  <th style="width : 72.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">What fill value to write</p>
</th>
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Library create-write-close behavior</p>
</th>
</tr>
  <tr style=" height : 62.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Early</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Never</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">-</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Library allocates space when dataset is cre&#173;ated, but never writes a fill value to dataset. A read of unwritten data returns undefined val&#173;ues.</p>
</td>
</tr>
  <tr style=" height : 62.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Late</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Never</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">-</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Library allocates space when dataset is writ&#173;ten to, but never writes a fill value to the dataset. A read of unwritten data returns undefined values.</p>
</td>
</tr>
  <tr style=" height : 75.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Incremental</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Never</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">-</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Library allocates space when a dataset or chunk (whichever is the smallest unit of space) is written to, but it never writes a fill value to a dataset or a chunk. A read of unwritten data returns undefined values.</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">-</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocation</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Undefined</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell"><span class="FM_EH_EmphasisHeavy">Error</span>&#160;on creating the dataset. The dataset is not created.</p>
</td>
</tr>
  <tr style=" height : 62.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Early</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocation</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Default or User-defined</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocate space for the dataset when the data&#173;set is created. Write the fill value (default or user-defined) to the entire dataset when the dataset is created.</p>
</td>
</tr>
  <tr style=" height : 62.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Late</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocation</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Default or User-defined</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocate space for the dataset when the appli&#173;cation first writes data values to the dataset. Write the fill value to the entire dataset before writing application data values.</p>
</td>
</tr>
  <tr style=" height : 88.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Incremental</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocation</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Default or User-defined</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocate space for the dataset when the appli&#173;cation first writes data values to the dataset or chunk (whichever is the smallest unit of space). Write the fill value to the entire data&#173;set or chunk before writing application data values. </p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body"><a name="IX_H5Dread_12"></a>During the <span class="FM_Code">H5Dread</span>&#160;function call, the library behavior depends on whether space has been allocated, whether the fill value has been written to storage, how the fill value is defined, and when to write the fill value. The table below summarizes the different behaviors.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-15. H5Dread summary</caption>
  <tr style=" height : 49.00pt;">
  <th style="width : 72.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Is space allocated in the file?</p>
</th>
  <th style="width : 72.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">What is the fill value?</p>
</th>
  <th style="width : 72.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">When to write the fill value?</p>
</th>
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Library read behavior</p>
</th>
</tr>
  <tr style=" height : 23.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">No</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Undefined</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">&lt;&lt;any&gt;&gt;</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell"><span class="FM_EH_EmphasisHeavy">Error</span>. Cannot create this dataset. &#160;&#160;&#160;</p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">No</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Default or User-defined</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">&lt;&lt;any&gt;&gt;</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Fill the memory buffer with the fill value.</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Yes</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Undefined</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">&lt;&lt;any&gt;&gt;</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Return data from storage (dataset). Trash is possible if the application has not written data to the portion of the dataset being read.</p>
</td>
</tr>
  <tr style=" height : 49.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Yes</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Default or User-defined</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Never</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Return data from storage (dataset). Trash is possible if the application has not written data to the portion of the dataset being read. </p>
</td>
</tr>
  <tr style=" height : 36.00pt;">
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Yes</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Default or User-defined</p>
</td>
  <td style="width : 72.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Allocation</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Return data from storage (dataset).</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">There are two cases to consider depending on whether the space in the file has been allocated before the read or not. When space has not yet been allocated and if a fill value is defined, the memory buffer will be filled with the fill values and returned. In other words, no data has been read from the disk. If space has been allocated, the values are returned from the stored data. The unwritten elements will be filled accord&#173;ing to the fill value.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_5_2_Deleting_a_Dataset"></a>5.5.2. Deleting a Dataset from a File and Reclaiming Space</p>
 <p class="FM__Body">HDF5 does not at this time provide an easy mechanism to remove a dataset from a file or to reclaim the storage space occupied by a deleted object. </p>
 <p class="FM__Body"><a name="IX_H5Ldelete_8"></a><a name="IX_h5repack"></a><a name="IX_H5Ldelete_7"></a>Removing a dataset and reclaiming the space it used can be done with the <span class="FM_Code">H5Ldelete</span>&#160;function and the <span class="FM_LT_LinkTextCode"><a href="http://www.hdfgroup.org/HDF5/doc/RM/Tools.html#Tools-Repack">h5repack</a></span>&#160;utility program. With the <span class="FM_Code">H5Ldelete</span>&#160;function, links to a dataset can be removed from the file structure. After all the links have been removed, the dataset becomes inaccessible to any application and is effectively removed from the file. The way to recover the space occupied by an unlinked dataset is to write all of the objects of the file into a new file. Any unlinked object is inaccessible to the application and will not be included in the new file. Writing objects to a new file can be done with a custom program or with the h5repack utility program.</p>
 <p class="FM__Body"><a href="../Groups/HDF5_Groups.htm#XREF_GroupsChapter">For more information, see &quot;HDF5 Groups.&quot;</a></p>
 <p class="FM__Heading_Level3"><a name="TOC_5_5_3_Releasing_Memory"></a>5.5.3. Releasing Memory Resources</p>
 <p class="FM__Body">The system resources required for HDF5 objects such as datasets, datatypes, and dataspaces should be released once access to the object is no longer needed. This is accomplished via the appropriate close function. This is not unique to datasets but a general requirement when working with the HDF5 Library; failure to close objects will result in resource leaks. </p>
 <p class="FM__Body">In the case where a dataset is created or data has been transferred, there are several objects that must be closed. These objects include datasets, datatypes, dataspaces, and property lists. </p>
 <p class="FM__Body">The application program must free any memory variables and buffers it allocates. When accessing data from the file, the amount of memory required can be determined by calculating the size of the memory datatype and the number of elements in the memory selection.</p>
 <p class="FM__Body"><a name="IX_H5Dget_vlen_buf_size"></a><a name="IX_vl_info_t_1"></a><a name="IX_vl_info_t"></a>Variable-length data are organized in two or more areas of memory. <a href="../Datatypes/HDF5_Datatypes.htm#XREF_VariableLengthDatatypes">For more information, see &quot;Variable-length Datatypes.&quot;</a>When writing data, the application creates an array of <span class="FM_Code">vl_info_t</span>&#160;which contains pointers to the elements. The elements might be, for example, strings. In the file, the variable-length data is stored in two parts: a heap with the variable-length values of the data elements and an array of <span class="FM_Code">vl_info_t</span>&#160;elements. When the data is read, the amount of memory required for the heap can be determined with the <span class="FM_Code">H5Dget_vlen_buf_size</span> call.</p>
 <p class="FM__Body"><a name="IX_H5Pset_vlen_mem_manager_1"></a><a name="IX_H5Dread_13"></a>The data transfer property may be used to set a custom memory manager for allocating variable-length data for a <span class="FM_Code">H5Dread</span>. This is set with the <span class="FM_Code">H5Pset_vlen_mem_manager</span> call.</p>
 <p class="FM__Body"><a name="IX_H5Dvlen_reclaim_3"></a>To free the memory for variable-length data, it is necessary to visit each element, free the variable-length data, and reset the element. The application must free the memory it has allocated. For memory allocated by the HDF5 Library during a read, the <span class="FM_Code">H5Dvlen_reclaim</span> function can be used to perform this opera&#173;tion.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_5_4_External_Storage"></a>5.5.4. External Storage Properties</p>
 <p class="FM__Body"><a name="IX_H5D_CONTIGUOUS"></a><a name="IX_external_storage"></a>The external storage format allows data to be stored across a set of non-HDF5 files. A set of segments (off&#173;sets and sizes) in one or more files is defined as an external file list, or EFL, and the contiguous logical addresses of the data storage are mapped onto these segments. Currently, only the <span class="FM_Code">H5D_CONTIGUOUS</span>&#160;storage format allows external storage. External storage is enabled by a dataset creation property. The table below shows the API.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionTable">Table 5-16. External storage API</caption>
  <tr style=" height : 23.00pt;">
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Function</p>
</th>
  <th style="width : 216.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__Heading_Cell">Description</p>
</th>
</tr>
  <tr style=" height : 153.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">herr_t H5Pset_external (hid_t plist, const char *name, off_t offset, hsize_t size)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell"><a name="IX_H5F_UNLIMITED"></a>This function adds a new segment to the end of the external file list of the specified dataset creation property list. The segment begins a byte offset of file name and continues for size bytes. The space represented by this segment is adjacent to the space already represented by the external file list. The last segment in a file list may have the size <span class="FM_Code">H5F_UNLIMITED</span>, in which case the external file may be of unlim&#173;ited size and no more files can be added to the external files list.</p>
</td>
</tr>
  <tr style=" height : 62.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">int H5Pget_external_count (hid_t plist)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">Calling this function returns the number of segments in an external file list. If the dataset creation property list has no external data, then zero is returned.</p>
</td>
</tr>
  <tr style=" height : 140.00pt;">
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">herr_t H5Pget_external (hid_t plist, int idx, size_t name_size, char *name, off_t *offset, hsize_t *size)</p>
</td>
  <td style="width : 216.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell"><a name="IX_H5Pset_external_1"></a>This is the counterpart for the <span class="FM_Code">H5Pset_ex&#173;ternal()</span>&#160;function. Given a dataset creation property list and a zero-based index into that list, the file name, byte offset, and segment size are returned through non-null argu&#173;ments. At most <span class="FM_Code">name_size</span>&#160;characters are copied into the name argument which is not null terminated if the file name is longer than the supplied name buffer (this is similar to <span class="FM_Code">strncpy()</span>). &#160;&#160;&#160;&#160;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The figure below shows an example of how a contiguous, one-dimensional dataset is partitioned into three parts and each of those parts is stored in a segment of an external file. The top rectangle represents the logical address space of the dataset while the bottom rectangle represents an external file.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:360.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-11. External file storage</caption>
  <tr style=" height : 110.74pt;">
  <td style="width : 360.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig19.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:1.500pt; margin-bottom:0.750pt; width:100%; max-width:417px;" id="image10" src="Dsets_fig19.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The example below shows code that defines the external storage for the example. Note that the segments are defined in order of the logical addresses they represent, not their order within the external file. It would also have been possible to put the segments in separate files. Care should be taken when setting up segments in a single file since the library does not automatically check for segments that overlap.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-8. External storage</caption>
  <tr style=" height : 61.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5P_DATASET_CREATE_4"></a><a name="IX_H5Pcreate_10"></a>Plist = H5Pcreate (H5P_DATASET_CREATE);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_external_2"></a>H5Pset_external (plist, &quot;velocity.data&quot;, 3000, 1000);</p>
  <p class="FM__BodyCellCode">H5Pset_external (plist, &quot;velocity.data&quot;, 0, 2500);</p>
  <p class="FM__BodyCellCode">H5Pset_external (plist, &quot;velocity.data&quot;, 4500, 1500);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The figure below shows an example of how a contiguous, two-dimensional dataset is partitioned into three parts and each of those parts is stored in a separate external file. The top rectangle represents the logical address space of the dataset while the bottom rectangles represent external files.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-12. Partitioning a 2-D dataset for external storage</caption>
  <tr style=" height : 290.74pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_fig20.jpg" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:432px;" id="image11" src="Dsets_fig20.jpg" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The example below shows code for the partitioning described above. In this example, the library maps the multi-dimensional array onto a linear address space as defined by the HDF5 format specification, and then maps that address space into the segments defined in the external file list. </p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-9. Partitioning a 2-D dataset for external storage</caption>
  <tr style=" height : 61.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5P_DATASET_CREATE_5"></a><a name="IX_H5Pcreate_11"></a>Plist = H5Pcreate (H5P_DATASET_CREATE);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_external_3"></a>H5Pset_external (plist, &quot;scan1.data&quot;, 0, 24);</p>
  <p class="FM__BodyCellCode">H5Pset_external (plist, &quot;scan2.data&quot;, 0, 24);</p>
  <p class="FM__BodyCellCode">H5Pset_external (plist, &quot;scan3.data&quot;, 0, 16);</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The segments of an external file can exist beyond the end of the (external) file. The library reads that part of a segment as zeros. When writing to a segment that exists beyond the end of a file, the external file is automatically extended. Using this feature, one can create a segment (or set of segments) which is larger than the current size of the dataset. This allows the dataset to be extended at a future time (provided the dataspace also allows the extension).</p>
 <p class="FM__Body">All referenced external data files must exist before performing raw data I/O on the dataset. This is nor&#173;mally not a problem since those files are being managed directly by the application or indirectly through some other library. However, if the file is transferred from its original context, care must be taken to assure that all the external files are accessible in the new location.</p>
 <p class="FM__Heading_Level2"><a name="TOC_5_6_Using_HDF5_Filters"></a>5.6. Using HDF5 Filt<a name="XREF_UseFilters"></a>ers</p>
 <p class="FM__Body">This section describes in detail how to use the n-bit and scale-offset filters. </p>
 <p class="FM__Heading_Level3"><a name="TOC_5_6_1_Using_the_N_bit"></a>5.6.1. Using th<a name="XREF_N_Bit"></a>e N-bit Filter</p>
 <p class="FM__Body">N-bit data has <span class="FM_EI_EmphasisItalic">n</span>&#160;significant bits, where <span class="FM_EI_EmphasisItalic">n</span>&#160;may not correspond to a precise number of bytes. On the other hand, computing systems and applications universally, or nearly so, run most efficiently when manipulat&#173;ing data as whole bytes or multiple bytes.</p>
 <p class="FM__Body">Consider the case of 12-bit integer data. In memory, that data will be handled in at least 2 bytes, or 16 bits, and on some platforms in 4 or even 8 bytes. The size of such a dataset can be significantly reduced when written to disk if the unused bits are stripped out.</p>
 <p class="FM__Body"><a name="IX_n_bit_filter"></a>The <span class="FM_EI_EmphasisItalic">n-bit filter</span>&#160;is provided for this purpose, <span class="FM_EI_EmphasisItalic">packing</span>&#160;n-bit data on output by stripping off all unused bits and <span class="FM_EI_EmphasisItalic">unpacking</span>&#160;on input, restoring the extra bits required by the computational processor. </p>
 <p class="FM__Heading_SubSection">N-bit Datatype</p>
 <p class="FM__Body"><a name="IX_n_bit_datatype"></a>An <span class="FM_EI_EmphasisItalic">n-bit datatype</span>&#160;is a datatype of <span class="FM_EI_EmphasisItalic">n</span>&#160;significant bits. Unless it is packed, an <span class="FM_EI_EmphasisItalic">n</span>-bit datatype is presented as an <span class="FM_EI_EmphasisItalic">n</span>-bit bitfield within a larger-sized value. For example, a 12-bit datatype might be presented as a 12-bit field in a 16-bit, or 2-byte, value.</p>
 <p class="FM__Body">Currently, the datatype classes of n-bit datatype or n-bit field of a compound datatype or an array data&#173;type are limited to integer or floating-point.</p>
 <p class="FM__Body">The HDF5 user can create an n-bit datatype through a series of of function calls. For example, the follow&#173;ing calls create a 16-bit datatype that is stored in a 32-bit value with a 4-bit offset:</p>
 <p class="FM__BodyCellCodeIndent">hid_t nbit_datatype = H5Tcopy(H5T_STD_I32LE);</p>
 <p class="FM__BodyCellCodeIndent">H5Tset_precision(nbit_datatype, 16);</p>
 <p class="FM__BodyCellCodeIndent">H5Tset_offset(nbit_datatype, 4);</p>
 <p class="FM__Body">In memory, one value of the above example n-bit datatype would be stored on a little-endian machine as follows:</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:468.00pt;" cellspacing="0">
  <tr style=" height : 23.00pt;">
  <td style="width : 117.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-left-style: solid; border-left-width: 1px; border-left-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell" style="text-align  : center;">byte 3</p>
</td>
  <td style="width : 117.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell" style="text-align  : center;">byte 2</p>
</td>
  <td style="width : 117.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell" style="text-align  : center;">byte 1</p>
</td>
  <td style="width : 117.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell" style="text-align  : center;">byte 0</p>
</td>
</tr>
  <tr style=" height : 22.00pt;">
  <td style="width : 117.000pt; border-left-style: solid; border-left-width: 1px; border-left-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode" style="text-align  : center;">????????</p>
</td>
  <td style="width : 117.000pt; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode" style="text-align  : center;">????SPPP</p>
</td>
  <td style="width : 117.000pt; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode" style="text-align  : center;">PPPPPPPP</p>
</td>
  <td style="width : 117.000pt; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode" style="text-align  : center;">PPPP????</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: Key: <span class="FM_Code">S</span>&#160;- sign bit, <span class="FM_Code">P</span>&#160;- significant bit, <span class="FM_Code">?</span> - padding bit. Sign bit is included in signed integer datatype precision.</p>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Heading_SubSection">N-bit Filter</p>
 <p class="FM__Body">When data of an n-bit datatype is stored on disk using the n-bit filter, the filter <span class="FM_EI_EmphasisItalic">packs</span>&#160;the data by stripping off the padding bits; only the significant bits are retained and stored. The values on disk will appear as fol&#173;lows:</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; width:100%; max-width:468.00pt;" cellspacing="0">
  <tr style=" height : 23.00pt;">
  <td style="width : 156.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-left-style: solid; border-left-width: 1px; border-left-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell" style="text-align  : center;">1st value</p>
</td>
  <td style="width : 156.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell" style="text-align  : center;">2nd value</p>
</td>
  <td style="width : 156.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCell">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 22.00pt;">
  <td style="width : 156.000pt; border-left-style: solid; border-left-width: 1px; border-left-color: #000000; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode" style="text-align  : center;">SPPPPPPP PPPPPPPP</p>
</td>
  <td style="width : 156.000pt; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode" style="text-align  : center;">SPPPPPPP PPPPPPPP</p>
</td>
  <td style="width : 156.000pt; border-right-style: solid; border-right-width: 1px; border-right-color: #000000; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #000000; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode" style="text-align  : center;">...</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: Key: <span class="FM_Code">S</span>&#160;- sign bit, <span class="FM_Code">P</span>&#160;- significant bit, <span class="FM_Code">?</span> - padding bit. Sign bit is included in signed integer datatype precision.</p>
 <p class="FM__Body">&nbsp;</p>
 <p class="FM__Body">The n-bit filter can be used effectively for compressing data of an n-bit datatype, including arrays and the n-bit fields of compound datatypes. The filter supports complex situations where a compound datatype contains member(s) of a compound datatype or an array datatype has a compound datatype as the base type.</p>
 <p class="FM__Body">At present, the n-bit filter supports all datatypes. For datatypes of class time, string, opaque, reference, ENUM, and variable-length, the n-bit filter acts as a no-op which is short for no operation. For conve&#173;nience, the rest of this section refers to such datatypes as <span class="FM_EI_EmphasisItalic">no-op datatypes</span>.</p>
 <p class="FM__Body">As is the case with all HDF5 filters, an application using the n-bit filter must store data with chunked stor&#173;age.</p>
 <p class="FM__Heading_SubSection">How Does the N-bit Filter Work?</p>
 <p class="FM__Body">The n-bit filter always compresses and decompresses according to dataset properties supplied by the HDF5 Library in the datatype, dataspace, or dataset creation property list.</p>
 <p class="FM__Body">The dataset datatype refers to how data is stored in an HDF5 file while the memory datatype refers to how data is stored in memory. The HDF5 Library will do datatype conversion when writing data in memory to the dataset or reading data from the dataset to memory if the memory datatype differs from the dataset datatype. Datatype conversion is performed by HDF5 Library before n-bit compression and after n-bit decompression.</p>
 <p class="FM__Body">The following sub-sections examine the common cases:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>N-bit integer conversions</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>N-bit floating-point conversions</p>
 <p class="FM__Heading_SubSection">N-bit Integer Conversions</p>
 <p class="FM__Body"><a name="IX_H5T_NATIVE_INT_14"></a>Integer data with a dataset of integer datatype of less than full precision and a memory datatype of <span class="FM_Code">H5T_NATIVE_INT</span>, provides the simplest application of the n-bit filter.</p>
 <p class="FM__Body"><a name="IX_H5T_NATIVE_INT_15"></a>The precision of <span class="FM_Code">H5T_NATIVE_INT</span>&#160;is 8 multiplied by <span class="FM_Code">sizeof(int)</span>. This value, the size of an <span class="FM_Code">int</span>&#160;in bytes, differs from platform to platform; we assume a value of <span class="FM_Code">4</span>&#160;for the following illustration. We further assume the memory byte order to be little-endian.</p>
 <p class="FM__Body"><a name="IX_H5T_NATIVE_INT_17"></a><a name="IX_H5T_NATIVE_INT_16"></a>In memory, therefore, the precision of <span class="FM_Code">H5T_NATIVE_INT</span>&#160;is 32 and the offset is 0. One value of <span class="FM_Code">H5T_NA&#173;TIVE_INT</span> is laid out in memory as follows:</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:288.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-13. H5T_NATIVE_INT in memory</caption>
  <tr style=" height : 60.48pt;">
  <td style="width : 288.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_NbitInteger1.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:300px;" id="image12" src="Dsets_NbitInteger1.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: Key: <span class="FM_Code">S</span>&#160;- sign bit, <span class="FM_Code">P</span>&#160;- significant bit, <span class="FM_Code">?</span> - padding bit. Sign bit is included in signed integer datatype precision.</p>
 <p class="FM__Body">Suppose the dataset datatype has a precision of 16 and an offset of 4. After HDF5 converts values from the memory datatype to the dataset datatype, it passes something like the following to the n-bit filter for compression:</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:288.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-14. Passed to the n-bit filter</caption>
  <tr style=" height : 79.27pt;">
  <td style="width : 288.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_NbitInteger2.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:319px;" id="image13" src="Dsets_NbitInteger2.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: Key: <span class="FM_Code">S</span>&#160;- sign bit, <span class="FM_Code">P</span>&#160;- significant bit, <span class="FM_Code">?</span> - padding bit. Sign bit is included in signed integer datatype precision.</p>
 <p class="FM__Body"><a name="IX_padding_bits"></a>Notice that only the specified 16 bits (15 significant bits and the sign bit) are retained in the conversion. All other significant bits of the memory datatype are discarded because the dataset datatype calls for only 16 bits of precision. After n-bit compression, none of these discarded bits, known as <span class="FM_EI_EmphasisItalic">padding bits</span>&#160;will be stored on disk.</p>
 <p class="FM__Heading_SubSection">N-bit Floating-point Conversions</p>
 <p class="FM__Body"><a name="IX_H5T_NATIVE_FLOAT"></a>Things get more complicated in the case of a floating-point dataset datatype class. This sub-section pro&#173;vides an example that illustrates the conversion from a memory datatype of <span class="FM_Code">H5T_NATIVE_FLOAT</span>&#160;to a dataset datatype of class floating-point.</p>
 <p class="FM__Body"><a name="IX_H5T_NATIVE_FLOAT_2"></a><a name="IX_H5T_NATIVE_FLOAT_1"></a>As before, let the <span class="FM_Code">H5T_NATIVE_FLOAT</span>&#160;be 4 bytes long, and let the memory byte order be little-endian. Per the IEEE standard, one value of <span class="FM_Code">H5T_NATIVE_FLOAT</span> is laid out in memory as follows:</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:288.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-15. H5T_NATIVE_FLOAT in memory</caption>
  <tr style=" height : 59.76pt;">
  <td style="width : 288.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_NbitFloating1.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:302px;" id="image14" src="Dsets_NbitFloating1.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: Key: <span class="FM_Code">S</span>&#160;- sign bit, <span class="FM_Code">E</span>&#160;- exponent bit, <span class="FM_Code">M</span>&#160;- mantissa bit, <span class="FM_Code">?</span>&#160;- padding bit. Sign bit is included in floating-point datatype precision.</p>
 <p class="FM__Body">Suppose the dataset datatype has a precision of 20, offset of 7, mantissa size of 13, mantissa position of 7, exponent size of 6, exponent position of 20, and sign position of 26. <a href="../Datatypes/HDF5_Datatypes.htm#XREF_DefinitionOfDatatypes">For more information, see &quot;Definition of Datatypes.&quot;</a></p>
 <p class="FM__Body">After HDF5 converts values from the memory datatype to the dataset datatype, it passes something like the following to the n-bit filter for compression:</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:2.00pt; padding-top:2.00pt; padding-right:2.00pt; padding-bottom:2.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:288.00pt;" cellspacing="0">
  <caption class="FM__CaptionFigure" align="bottom">Figure 5-16. Passed to the n-bit filter</caption>
  <tr style=" height : 79.99pt;">
  <td style="width : 288.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; ">
  <div align="center"><img alt="Dsets_NbitFloating2.JPG" style=" margin-left:0.750pt; margin-top:0.750pt; margin-right:0.750pt; margin-bottom:0.750pt; width:100%; max-width:317px;" id="image15" src="Dsets_NbitFloating2.JPG" />
  </div>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
  <p class="FM__BodyFigureSmall">&nbsp;</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: Key: <span class="FM_Code">S</span>&#160;- sign bit, <span class="FM_Code">E</span>&#160;- exponent bit, <span class="FM_Code">M</span>&#160;- mantissa bit, <span class="FM_Code">?</span>&#160;- padding bit. Sign bit is included in floating-point datatype precision.</p>
 <p class="FM__Body">The sign bit and truncated mantissa bits are not changed during datatype conversion by the HDF5 Library. On the other hand, the conversion of the 8-bit exponent to a 6-bit exponent is a little tricky:</p>
 <p class="FM__BodyIndent">The bias for the new exponent in the n-bit datatype is: </p>
 <p class="FM__BodyCodeIndent">2<sup><span class="FM_Exponent">(n-1)</span></sup>-1</p>
 <p class="FM__BodyIndent">The following formula is used for this exponent conversion:</p>
 <p class="FM__BodyCodeIndent">exp8 - (2<sup><span class="FM_Exponent">(8-1)</span></sup>-1) = exp6 - (2<sup><span class="FM_Exponent">(6-1)</span></sup>-1) = <span class="FM_CodeItalic">actual exponent value</span></p>
 <p class="FM__BodyIndent">where <span class="FM_Code">exp8</span>&#160;is the stored decimal value as represented by the 8-bit exponent, and <span class="FM_Code">exp6</span>&#160;is the stored decimal value as represented by the 6-bit exponent.</p>
 <p class="FM__Body">In this example, caution must be taken to ensure that, after conversion, the actual exponent value is within the range that can be represented by a 6-bit exponent. For example, an 8-bit exponent can repre&#173;sent values from -127 to 128 while a 6-bit exponent can represent values only from -31 to 32.</p>
 <p class="FM__Heading_SubSection">N-bit Filt<a name="XREF_Design"></a>er Behavior</p>
 <p class="FM__Body"><a name="IX_n_bit_filter_1"></a>The n-bit filter was designed to treat the incoming data byte by byte at the lowest level. The purpose was to make the n-bit filter as generic as possible so that no pointer cast related to the datatype is needed.</p>
 <p class="FM__Body">Bitwise operations are employed for packing and unpacking at the byte level.</p>
 <p class="FM__Body">Recursive function calls are used to treat compound and array datatypes.</p>
 <p class="FM__Heading_SubSection">N-bit Compression</p>
 <p class="FM__Body"><a name="IX_n_bit_compression"></a>The main idea of n-bit compression is to use a loop to compress each data element in a chunk. Depending on the datatype of each element, the n-bit filter will call one of four functions. Each of these functions per&#173;forms one of the following tasks: </p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Compress a data element of a no-op datatype</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Compress a data element of an atomic datatype</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Compress a data element of a compound datatype</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Compress a data element of an array datatype</p>
 <p class="FM__Body"><a name="IX_no_op_datatypes"></a><span class="FM_EH_EmphasisHeavy">No-op datatypes: </span>The n-bit filter does not actually compress no-op datatypes. Rather, it copies the data buffer of the no-op datatype from the non-compressed buffer to the proper location in the compressed buffer; the compressed buffer has no holes. The term “compress” is used here simply to distinguish this function from the function that performs the reverse operation during decompression.</p>
 <p class="FM__Body"><a name="IX_atomic_datatype"></a><span class="FM_EH_EmphasisHeavy">Atomic datatypes: </span>The n-bit filter will find the bytes where significant bits are located and try to compress these bytes, one byte at a time, using a loop. At this level, the filter needs the following information:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The byte offset of the beginning of the current data element with respect to the beginning of the input data buffer</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Datatype size, precision, offset, and byte order</p>
 <p class="FM__Body">The n-bit filter compresses from the most significant byte containing significant bits to the least significant byte. For big-endian data, therefore, the loop index progresses from smaller to larger while for little-endian, the loop index progresses from larger to smaller.</p>
 <p class="FM__Body">In the extreme case of when the n-bit datatype has full precision, this function copies the content of the entire non-compressed datatype to the compressed output buffer.</p>
 <p class="FM__Body"><a name="IX_compound_datatype_1"></a><span class="FM_EH_EmphasisHeavy">Compound datatypes: </span>The n-bit filter will compress each data member of the compound datatype. If the member datatype is of an integer or floating-point datatype, the n-bit filter will call the function described above. If the member datatype is of a no-op datatype, the filter will call the function described above. If the member datatype is of a compound datatype, the filter will make a recursive call to itself. If the mem&#173;ber datatype is of an array datatype, the filter will call the function described below. </p>
 <p class="FM__Body"><a name="IX_array_datatype"></a><span class="FM_EH_EmphasisHeavy">Array datatypes: </span>The n-bit filter will use a loop to compress each array element in the array. If the base datatype of array element is of an integer or floating-point datatype, the n-bit filter will call the function described above. If the base datatype is of a no-op datatype, the filter will call the function described above. If the base datatype is of a compound datatype, the filter will call the function described above. If the member datatype is of an array datatype, the filter will make a recursive call of itself.</p>
 <p class="FM__Heading_SubSection">N-bit Decompression</p>
 <p class="FM__Body"><a name="IX_n_bit_decompression"></a>The n-bit decompression algorithm is very similar to n-bit compression. The only difference is that at the byte level, compression packs out all padding bits and stores only significant bits into a continuous buffer (unsigned char) while decompression unpacks significant bits and inserts padding bits (zeros) at the proper positions to recover the data bytes as they existed before compression.</p>
 <p class="FM__Heading_SubSection">Storing N-bit Parameters to Array cd_value[]</p>
 <p class="FM__Body"><a name="IX_H5Z_filter_nbit"></a><a name="IX_H5Z_set_local_nbit"></a>All of the information, or parameters, required by the n-bit filter are gathered and stored in the array <span class="FM_Code">cd_values[]</span>&#160;by the private function <span class="FM_Code">H5Z_set_local_nbit</span> and are passed to another private func&#173;tion, <span class="FM_Code">H5Z_filter_nbit</span>, by the HDF5 Library. </p>
 <p class="FM__Body">These parameters are as follows:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Parameters related to the datatype</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The number of elements within the chunk</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>A flag indicating whether compression is needed</p>
 <p class="FM__Body">The first and second parameters can be obtained using the HDF5 dataspace and datatype interface calls. </p>
 <p class="FM__Body">A compound datatype can have members of array or compound datatype. An array datatype’s base data&#173;type can be a complex compound datatype. Recursive calls are required to set parameters for these com&#173;plex situations.</p>
 <p class="FM__Body">Before setting the parameters, the number of parameters should be calculated to dynamically allocate the array <span class="FM_Code">cd_values[]</span>, which will be passed to the HDF5 Library. This also requires recursive calls.</p>
 <p class="FM__Body">For an atomic datatype (integer or floating-point), parameters that will be stored include the datatype’s size, endianness, precision, and offset. </p>
 <p class="FM__Body">For a no-op datatype, only the size is required.</p>
 <p class="FM__Body">For a compound datatype, parameters that will be stored include the datatype’s total size and number of members. For each member, its member offset needs to be stored. Other parameters for members will depends on the respective datatype class.</p>
 <p class="FM__Body">For an array datatype, the total size parameter should be stored. Other parameters for the array’s base type depend on the base type’s datatype class.</p>
 <p class="FM__Body">Further, to correctly retrieve the parameter for use of n-bit compression or decompression later, parame&#173;ters for distinguishing between datatype classes should be stored.</p>
 <p class="FM__Heading_SubSection">Implementa<a name="XREF_implementation"></a>tion</p>
 <p class="FM__Body">Three filter callback functions were written for the n-bit filter:</p>
 <p class="FM__ListBullets_Level1" style="margin-top  : 3.000pt; font-family : Courier New; font-size  : 10.0pt;"><a name="IX_H5Z_can_apply_nbit"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="FM_Code">H5Z_can_apply_nbit</span></p>
 <p class="FM__ListBullets_Level1" style="margin-top  : 3.000pt; font-family : Courier New; font-size  : 10.0pt;"><a name="IX_H5Z_set_local_nbit_1"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="FM_Code">H5Z_set_local_nbit</span></p>
 <p class="FM__ListBullets_Level1" style="margin-top  : 3.000pt; font-family : Courier New; font-size  : 10.0pt;"><a name="IX_H5Z_filter_nbit_1"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="FM_Code">H5Z_filter_nbit</span></p>
 <p class="FM__Body"><a name="IX_H5Z_set_local_nbit_2"></a>These functions are called internally by the HDF5 Library. A number of utility functions were written for the function <span class="FM_Code">H5Z_set_local_nbit</span>. Compression and decompression functions were written and are called by function H5Z_filter_nbit. All these functions are included in the file H5Znbit.c.</p>
 <p class="FM__Body"><a name="IX_H5Pset_nbit_1"></a>The public function <span class="FM_Code">H5Pset_nbit</span>&#160;is called by the application to set up the use of the n-bit filter. This function is included in the file <span class="FM_Code">H5Pdcpl.c</span>. The application does not need to supply any parameters.</p>
 <p class="FM__Heading_SubSection">How N-bit Parameters are Stored</p>
 <p class="FM__Body">A scheme of storing parameters required by the n-bit filter in the array <span class="FM_Code">cd_values[]</span> was developed uti&#173;lizing recursive function calls.</p>
 <p class="FM__Body">Four private utility functions were written for storing the parameters associated with atomic (integer or floating-point), no-op, array, and compound datatypes:</p>
 <p class="FM__ListBullets_Level1" style="margin-top  : 3.000pt; font-family : Courier New; font-size  : 10.0pt;"><a name="IX_H5Z_set_parms_atomic"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="FM_Code">H5Z_set_parms_atomic</span></p>
 <p class="FM__ListBullets_Level1" style="margin-top  : 3.000pt; font-family : Courier New; font-size  : 10.0pt;"><a name="IX_H5Z_set_parms_array"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="FM_Code">H5Z_set_parms_array</span></p>
 <p class="FM__ListBullets_Level1" style="margin-top  : 3.000pt; font-family : Courier New; font-size  : 10.0pt;"><a name="IX_H5Z_set_parms_nooptype"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="FM_Code">H5Z_set_parms_nooptype</span></p>
 <p class="FM__ListBullets_Level1"><a name="IX_H5Z_set_parms_compound"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="FM_Code">H5Z_set_parms_compound</span>&#160;</p>
 <p class="FM__Body">The scheme is briefly described below.</p>
 <p class="FM__Body">First, assign a numeric code for datatype class atomic (integer or float), no-op, array, and compound data&#173;type. The code is stored before other datatype related parameters are stored.</p>
 <p class="FM__Body">The first three parameters of <span class="FM_Code">cd_values[]</span> are reserved for:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The number of valid entries in the array <span class="FM_Code">cd_values[]</span></p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>A flag indicating whether compression is needed</p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The number of elements in the chunk</p>
 <p class="FM__Body">Throughout the balance of this explanation, <span class="FM_Code">i</span>&#160;represents the index of <span class="FM_Code">cd_values[]</span>.</p>
 <p class="FM__Body"><a name="IX_H5Z_set_local_nbit_3"></a>In the function <span class="FM_Code">H5Z_set_local_nbit</span>:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="FM_Code">i</span> = 2</p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the number of elements in the chunk and store in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the class of the datatype:</p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_atomic_1"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For an integer or floating-point datatype, call <span class="FM_Code">H5Z_set_parms_atomic</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_array_1"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For an array datatype, call <span class="FM_Code">H5Z_set_parms_array</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_compound_1"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For a compound datatype, call <span class="FM_Code">H5Z_set_parms_compound</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For none of the above, call <span class="FM_Code">H5Z_set_parms_noopdatatype</span></p>
 <p class="FM__ListNumbered_Level1">4.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Store <span class="FM_Code">i</span>&#160;in <span class="FM_Code">cd_value[0]</span>&#160;and flag in <span class="FM_Code">cd_values[1]</span></p>
 <p class="FM__Body"><a name="IX_H5Z_set_parms_atomic_2"></a>In the function <span class="FM_Code">H5Z_set_parms_atomic</span>:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Store the assigned numeric code for the atomic datatype in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the size of the atomic datatype and store in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the order of the atomic datatype and store in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">4.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the precision of the atomic datatype and store in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">5.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the offset of the atomic datatype and store in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">6.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Determine the need to do compression at this point</p>
 <p class="FM__Body"><a name="IX_H5Z_set_parms_nooptype_1"></a>In the function <span class="FM_Code">H5Z_set_parms_nooptype</span>:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Store the assigned numeric code for the no-op datatype in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the size of the no-op datatype and store in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__Body"><a name="IX_H5Z_set_parms_array_2"></a>In the function <span class="FM_Code">H5Z_set_parms_array</span>:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Store the assigned numeric code for the array datatype in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the size of the array datatype and store in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the class of the array’s base datatype.</p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_atomic_3"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For an integer or floating-point datatype, call <span class="FM_Code">H5Z_set_parms_atomic</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_array_3"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For an array datatype, call <span class="FM_Code">H5Z_set_parms_array</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_compound_2"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For a compound datatype, call <span class="FM_Code">H5Z_set_parms_compound</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_1"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>If none of the above, call <span class="FM_Code">H5Z_set_parms_noopdatatype</span></p>
 <p class="FM__Body"><a name="IX_H5Z_set_parms_compound_3"></a>In the function <span class="FM_Code">H5Z_set_parms_compound</span>:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Store the assigned numeric code for the compound datatype in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the size of the compound datatype and store in <span class="FM_Code">cd_value[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the number of members and store in <span class="FM_Code">cd_values</span>[i]; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListNumbered_Level1">4.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For each member</p>
 <p class="FM__ListBullets_Level2">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the member offset and store in <span class="FM_Code">cd_values[i]</span>; increment <span class="FM_Code">i</span></p>
 <p class="FM__ListBullets_Level2">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Get the class of the member datatype</p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_atomic_4"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For an integer or floating-point datatype, call <span class="FM_Code">H5Z_set_parms_atomic</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_array_4"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For an array datatype, call <span class="FM_Code">H5Z_set_parms_array</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_compound_4"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For a compound datatype, call <span class="FM_Code">H5Z_set_parms_compound</span></p>
 <p class="FM__ListBullets_Level2"><a name="IX_H5Z_set_parms_2"></a>•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>If none of the above, call <span class="FM_Code">H5Z_set_parms_noopdatatype</span></p>
 <p class="FM__Heading_SubSection">N-bit Compression and Decompression Functions</p>
 <p class="FM__Body"><a name="IX_H5Z_filter_nbit_3"></a><a name="IX_H5Z_filter_nbit_2"></a>The n-bit compression and decompression functions above are called by the private HDF5 function <span class="FM_Code">H5Z_&#173;filter_nbit</span>. The compress and decompress functions retrieve the n-bit parameters from <span class="FM_Code">cd_val&#173;ues[]</span>&#160;as it was passed by <span class="FM_Code">H5Z_filter_nbit</span>. Parameters are retrieved in exactly the same order in which they are stored and lower-level compression and decompression functions for different datatype classes are called. </p>
 <p class="FM__Body">N-bit compression is not implemented in place. Due to the difficulty of calculating actual output buffer size after compression, the same space as that of the input buffer is allocated for the output buffer as passed to the compression function. However, the size of the output buffer passed by reference to the compression function will be changed (smaller) after the compression is complete.</p>
 <p class="FM__Heading_SubSection">Usage Examp<a name="XREF_examples"></a>les</p>
 <p class="FM__Body">The following code example illustrates the use of the n-bit filter for writing and reading n-bit integer data.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-10. N-bit compression for integer data</caption>
  <tr style=" height : 139.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">#include &quot;hdf5.h&quot;</p>
  <p class="FM__BodyCellCode">#include &quot;stdlib.h&quot;</p>
  <p class="FM__BodyCellCode">#include &quot;math.h&quot;</p>
  <p class="FM__BodyCellCode">#define H5FILE_NAME &#160;&quot;nbit_test_int.h5&quot;</p>
  <p class="FM__BodyCellCode">#define DATASET_NAME &quot;nbit_int&quot;</p>
  <p class="FM__BodyCellCode">#define NX 200</p>
  <p class="FM__BodyCellCode">#define NY 300</p>
  <p class="FM__BodyCellCode">#define CH_NX 10</p>
  <p class="FM__BodyCellCode">#define CH_NY 15</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 139.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">int main(void)</p>
  <p class="FM__BodyCellCode">{</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>hid_t &#160;&#160;file, dataspace, dataset, datatype, mem_datatype, </p>
  <p class="FM__BodyCellCodeIndent">dset_create_props;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>hsize_t dims[2], chunk_size[2];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>int &#160;&#160;&#160;&#160;orig_data[NX][NY];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>int &#160;&#160;&#160;&#160;new_data[NX][NY];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>int &#160;&#160;&#160;&#160;i, j;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>size_t &#160;precision, offset;</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Define dataset datatype (integer), and set precision, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* offset </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_INT_18"></a><a name="IX_H5Tcopy_4"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>datatype = H5Tcopy(H5T_NATIVE_INT);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>precision = 17; /* precision includes sign bit */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tset_precision"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Tset_precision(datatype,precision)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set precision\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>offset = 4;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tset_offset"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Tset_offset(datatype,offset)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set offset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 48.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Copy to memory datatype */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tcopy_5"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>mem_datatype = H5Tcopy(datatype);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Set order of dataset datatype */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_ORDER_BE"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Tset_order(datatype, H5T_ORDER_BE)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set endianness\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Initialize data buffer with random data within correct </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* range corresponding to the memory datatype's precision </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* and offset.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>for (i=0; i &lt; NX; i++)</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>for (j=0; j &lt; NY; j++)</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>orig_data[i][j] = rand() % (int)pow(2, precision-1) </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>&lt;&lt;offset;</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Describe the size of the array. */</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dims[0] = NX;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dims[1] = NY;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Screate_simple_9"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataspace = H5Screate_simple (2, dims, NULL))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataspace\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Create a new file using read/write access, default file</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* creation properties, and default file access properties.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5F_ACC_TRUNC_6"></a><a name="IX_H5Fcreate_10"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((file = H5Fcreate (H5FILE_NAME, H5F_ACC_TRUNC,</p>
  <p class="FM__BodyCellCodeIndent">H5P_DEFAULT, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create file\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Set the dataset creation property list to specify that</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* the raw data is to be partitioned into 10 x 15 element</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* chunks and that each chunk is to be compressed.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>chunk_size[0] = CH_NX;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>chunk_size[1] = CH_NY;</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5P_DATASET_CREATE_6"></a><a name="IX_H5Pcreate_12"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dset_create_props = H5Pcreate (H5P_DATASET_CREATE))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataset property\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_chunk_3"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Pset_chunk (dset_create_props, 2, chunk_size)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set chunk\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Set parameters for n-bit compression; check the description</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* of the H5Pset_nbit function in the HDF5 Reference Manual </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* for more information.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Pset_nbit (dset_create_props)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set nbit filter\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Create a new dataset within the file. &#160;The datatype</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* and dataspace describe the data on disk, which may</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* be different from the format used in the application's</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* memory.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dcreate_12"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataset = H5Dcreate(file, DATASET_NAME, datatype,</p>
  <p class="FM__BodyCellCodeIndent"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dataspace, H5P_DEFAULT, </p>
  <p class="FM__BodyCellCodeIndent"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dset_create_props, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Write the array to the file. The datatype and dataspace</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* describe the format of the data in the 'orig_data' buffer.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* The raw data is translated to the format required on disk,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* as defined above. We use default raw data transfer </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* properties.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dwrite_16"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Dwrite (dataset, mem_datatype, H5S_ALL, H5S_ALL,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, orig_data)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to write to dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_9"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Dclose (dataset);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_16"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataset = H5Dopen(file, DATASET_NAME, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to open dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Read the array. This is similar to writing data,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* except the data flows in the opposite direction.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Note: Decompression is automatic.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5S_ALL_7"></a><a name="IX_H5Dread_14"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Dread (dataset, mem_datatype, H5S_ALL, H5S_ALL,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, new_data)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to read from dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 61.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tclose_3"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Tclose (datatype);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Tclose (mem_datatype);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_10"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Dclose (dataset);</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Sclose_4"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Sclose (dataspace);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pclose_1"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Pclose (dset_create_props);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Fclose_8"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Fclose (file);</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return 0;</p>
  <p class="FM__BodyCellCode">}</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: The code example above illustrates the use of the n-bit filter for writing and reading n-bit integer data.</p>
 <p class="FM__Body">The following code example illustrates the use of the n-bit filter for writing and reading n-bit floating-point data.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-11. N-bit compression for floating-point data</caption>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">#include &quot;hdf5.h&quot;</p>
  <p class="FM__BodyCellCode">#define H5FILE_NAME &#160;&quot;nbit_test_float.h5&quot;</p>
  <p class="FM__BodyCellCode">#define DATASET_NAME &quot;nbit_float&quot;</p>
  <p class="FM__BodyCellCode">#define NX 2</p>
  <p class="FM__BodyCellCode">#define NY 5</p>
  <p class="FM__BodyCellCode">#define CH_NX 2</p>
  <p class="FM__BodyCellCode">#define CH_NY 5</p>
</td>
</tr>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode">int main(void)</p>
  <p class="FM__BodyCellCode">{</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>hid_t &#160;&#160;file, dataspace, dataset, datatype, dset_create_props;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>hsize_t dims[2], chunk_size[2];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* orig_data[] are initialized to be within the range that </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* can be represented by dataset datatype (no precision </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* loss during datatype conversion)</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>float &#160;&#160;orig_data[NX][NY] = {{188384.00, 19.103516, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>-1.0831790e9, -84.242188, 5.2045898}, {-49140.000, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>2350.2500, -3.2110596e-1, <span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>6.4998865e-5, -0.0000000}};</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>float &#160;&#160;new_data[NX][NY];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>size_t &#160;precision, offset;</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Define single-precision floating-point type for dataset</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*---------------------------------------------------------------</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* size=4 byte, precision=20 bits, offset=7 bits,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* mantissa size=13 bits, mantissa position=7,</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* exponent size=6 bits, exponent position=20,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* exponent bias=31.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* It can be illustrated in little-endian order as:</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* (S - sign bit, E - exponent bit, M - mantissa bit,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* &#160;? - padding bit)</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*</p>
</td>
</tr>
  <tr style=" height : 48.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*<span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>3<span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>2<span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>1<span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>0</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* ?????SEE EEEEMMMM MMMMMMMM M???????</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*</p>
</td>
</tr>
  <tr style=" height : 48.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* To create a new floating-point type, the following</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* properties must be set in the order of</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* set fields -&gt; set offset -&gt; set precision -&gt; set size.</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* All these properties must be set before the type can </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* function. Other properties can be set anytime. Derived </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* type size cannot be expanded bigger than original size</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* but can be decreased. There should be no holes</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* among the significant bits. Exponent bias usually </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* is set 2^(n-1)-1, where n is the exponent size.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*---------------------------------------------------------------*/</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5T_IEEE_F32BE"></a><a name="IX_H5Tcopy_6"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>datatype = H5Tcopy(H5T_IEEE_F32BE);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tset_fields"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Tset_fields(datatype, 26, 20, 6, 7, 13)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set fields\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>offset = 7;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tset_offset_1"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Tset_offset(datatype,offset)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set offset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>precision = 20;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tset_precision_1"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Tset_precision(datatype,precision)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set precision\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Tset_size_1"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Tset_size(datatype, 4)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set size\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Tset_ebias"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Tset_ebias(datatype, 31)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set exponent bias\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Describe the size of the array. */</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dims[0] = NX;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dims[1] = NY;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Screate_simple_10"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataspace = H5Screate_simple (2, dims, NULL))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataspace\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 61.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Create a new file using read/write access, default file</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* creation properties, and default file access properties.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5F_ACC_TRUNC_7"></a><a name="IX_H5FILE_NAME"></a><a name="IX_H5Fcreate_11"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((file = H5Fcreate (H5FILE_NAME, H5F_ACC_TRUNC,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create file\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">&nbsp;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Set the dataset creation property list to specify that</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* the raw data is to be partitioned into 2 x 5 element</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* chunks and that each chunk is to be compressed.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>chunk_size[0] = CH_NX;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>chunk_size[1] = CH_NY;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5P_DATASET_CREATE_7"></a><a name="IX_H5Pcreate_13"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dset_create_props = H5Pcreate (H5P_DATASET_CREATE))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataset property\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_chunk_4"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Pset_chunk (dset_create_props, 2, chunk_size)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set chunk\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Set parameters for n-bit compression; check the description</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* of the H5Pset_nbit function in the HDF5 Reference Manual</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* for more information.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_nbit_2"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Pset_nbit (dset_create_props)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set nbit filter\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Create a new dataset within the file. The datatype</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* and dataspace describe the data on disk, which may</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* be different from the format used in the application's</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* memory.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dcreate_13"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataset = H5Dcreate(file, DATASET_NAME, datatype,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dataspace, H5P_DEFAULT, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dset_create_plists, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Write the array to the file. The datatype and dataspace</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* describe the format of the data in the 'orig_data' buffer.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* The raw data is translated to the format required on disk,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* as defined above. We use default raw data transfer </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* properties.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5S_ALL_8"></a><a name="IX_H5T_NATIVE_FLOAT_3"></a><a name="IX_H5Dwrite_17"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Dwrite (dataset, H5T_NATIVE_FLOAT, H5S_ALL, H5S_ALL,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, orig_data)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to write to dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_11"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Dclose (dataset);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_17"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataset = H5Dopen(file, DATASET_NAME, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to open dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Read the array. This is similar to writing data,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* except the data flows in the opposite direction.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Note: Decompression is automatic.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5S_ALL_9"></a><a name="IX_H5T_NATIVE_FLOAT_4"></a><a name="IX_H5Dread_15"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Dread (dataset, H5T_NATIVE_FLOAT, H5S_ALL, H5S_ALL,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, new_data)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to read from dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Tclose_4"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Tclose (datatype);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_12"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Dclose (dataset);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Sclose_5"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Sclose (dataspace);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pclose_2"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Pclose (dset_create_props);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Fclose_9"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Fclose (file);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return 0;</p>
  <p class="FM__BodyCellCode">}</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: The code example above illustrates the use of the n-bit filter for writing and reading n-bit floating-point data.</p>
 <p class="FM__Heading_SubSection">Limita<a name="XREF_limitations"></a>tions</p>
 <p class="FM__Body">Because the array <span class="FM_Code">cd_values[]</span>&#160;has to fit into an object header message of 64K, the n-bit filter has an upper limit on the number of n-bit parameters that can be stored in it. To be conservative, a maximum of 4K is allowed for the number of parameters.</p>
 <p class="FM__Body">The n-bit filter currently only compresses n-bit datatypes or fields derived from integer or floating-point datatypes. The n-bit filter assumes padding bits of zero. This may not be true since the HDF5 user can set padding bit to be zero, one, or leave the background alone. However, it is expected the n-bit filter will be modified to adjust to such situations.</p>
 <p class="FM__Body">The n-bit filter does not have a way to handle the situation where the fill value of a dataset is defined and the fill value is not of an n-bit datatype although the dataset datatype is.</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_6_2_Using_the_Scale"></a>5.6.2. Using th<a name="XREF_ScaleOffset"></a>e Scale-offset Filter</p>
 <p class="FM__Body"><a name="IX_scale_offset_compression"></a>Generally speaking, scale-offset compression performs a scale and/or offset operation on each data value and truncates the resulting value to a minimum number of bits (minimum-bits) before storing it. </p>
 <p class="FM__Body"><a name="IX_scale_offset_filter"></a>The current scale-offset filter supports integer and floating-point datatypes only. For the floating-point datatype, float and double are supported, but long double is not supported.</p>
 <p class="FM__Body">Integer data compression uses a straight-forward algorithm. Floating-point data compression adopts the GRiB data packing mechanism which offers two alternate methods: a fixed minimum-bits method, and a variable minimum-bits method. Currently, only the variable minimum-bits method is implemented. </p>
 <p class="FM__Body">Like other I/O filters supported by the HDF5 Library, applications using the scale-offset filter must store data with chunked storage.</p>
 <p class="FM__Body"><span class="FM_EH_EmphasisHeavy">Integer type: </span>The minimum-bits of integer data can be determined by the filter. For example, if the maxi&#173;mum value of data to be compressed is 7065 and the minimum value is 2970. Then the “span” of dataset values is equal to (max-min+1), which is 4676. If no fill value is defined for the dataset, the minimum-bits is: <span class="FM_Code">ceiling(log2(span)) = 12</span>. With fill value set, the minimum-bits is: <span class="FM_Code">ceiling(log2(span+1)) = 13</span>.</p>
 <p class="FM__Body">HDF5 users can also set the minimum-bits. However, if the user gives a minimum-bits that is less than that calculated by the filter, the compression will be lossy.</p>
 <p class="FM__Body"><span class="FM_EH_EmphasisHeavy">Floating-point type:</span>&#160;The basic idea of the scale-offset filter for the floating-point type is to transform the data by some kind of scaling to integer data, and then to follow the procedure of the scale-offset filter for the integer type to do the data compression. Due to the data transformation from floating-point to inte&#173;ger, the scale-offset filter is lossy in nature. </p>
 <p class="FM__Body">Two methods of scaling the floating-point data are used: the so-called D-scaling and E-scaling. D-scaling is more straightforward and easy to understand. For HDF5 1.8 release, only the D-scaling method has been implemented.</p>
 <p class="FM__Heading_SubSection">Design</p>
 <p class="FM__Body">Before the filter does any real work, it needs to gather some information from the HDF5 Library through API calls. The parameters the filter needs are:</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The minimum-bits of the data value</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The number of data elements in the chunk</p>
 <p class="FM__ListBullets_Level1">•<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The datatype class, size, sign (only for integer type), byte order, and fill value if defined </p>
 <p class="FM__Body">Size and sign are needed to determine what kind of pointer cast to use when retrieving values from the data buffer.</p>
 <p class="FM__Body">The pipeline of the filter can be divided into four parts: (1)pre-compression; (2)compression; (3)decom&#173;pression; (4)post-decompression.</p>
 <p class="FM__Body">Depending on whether a fill value is defined or not, the filter will handle pre-compression and post-decompression differently. </p>
 <p class="FM__Body">The scale-offset filter only needs the memory byte order, size of datatype, and minimum-bits for compres&#173;sion and decompression.</p>
 <p class="FM__Body">Since decompression has no access to the original data, the minimum-bits and the minimum value need to be stored with the compressed data for decompression and post-decompression.</p>
 <p class="FM__Heading_SubSection">Integer Type</p>
 <p class="FM__Body"><a name="IX_pre_compression"></a><span class="FM_EI_EmphasisItalic">Pre-compression:</span>&#160;During pre-compression minimum-bits is calculated if it is not set by the user. For more information on how minimum-bits are calculated, see section 6.1. “The N-bit Filter.” </p>
 <p class="FM__Body">If the fill value is defined, finding the maximum and minimum values should ignore the data element whose value is equal to the fill value. </p>
 <p class="FM__Body">If no fill value is defined, the value of each data element is subtracted by the minimum value during this stage.</p>
 <p class="FM__Body">If the fill value is defined, the fill value is assigned to the maximum value. In this way minimum-bits can represent a data element whose value is equal to the fill value and subtracts the minimum value from a data element whose value is not equal to the fill value.</p>
 <p class="FM__Body">The fill value (if defined), the number of elements in a chunk, the class of the datatype, the size of the datatype, the memory order of the datatype, and other similar elements will be stored in the HDF5 object header for the post-decompression usage.</p>
 <p class="FM__Body">After pre-compression, all values are non-negative and are within the range that can be stored by mini&#173;mum-bits.</p>
 <p class="FM__Body"><a name="IX_compression"></a><span class="FM_EI_EmphasisItalic">Compression:</span>&#160;All modified data values after pre-compression are packed together into the compressed data buffer. The number of bits for each data value decreases from the number of bits of integer (32 for most platforms) to minimum-bits. The value of minimum-bits and the minimum value are added to the data buffer and the whole buffer is sent back to the library. In this way, the number of bits for each modi&#173;fied value is no more than the size of minimum-bits.</p>
 <p class="FM__Body"><a name="IX_decompression"></a><span class="FM_EI_EmphasisItalic">Decompression:</span>&#160;In this stage, the number of bits for each data value is resumed from minimum-bits to the number of bits of integer.</p>
 <p class="FM__Body"><a name="IX_post_compression"></a><span class="FM_EI_EmphasisItalic">Post-decompression:</span>&#160;For the post-decompression stage, the filter does the opposite of what it does during pre-compression except that it does not calculate the minimum-bits or the minimum value. These values were saved during compression and can be retrieved through the resumed data buffer. If no fill value is defined, the filter adds the minimum value back to each data element.</p>
 <p class="FM__Body">If the fill value is defined, the filter assigns the fill value to the data element whose value is equal to the maximum value that minimum-bits can represent and adds the minimum value back to each data element whose value is not equal to the maximum value that minimum-bits can represent.</p>
 <p class="FM__Heading_SubSection">Floating-poi<a name="XREF_SO_FloatingPoint"></a>nt Type</p>
 <p class="FM__Body">The filter will do data transformation from floating-point type to integer type and then handle the data by using the procedure for handling the integer data inside the filter. Insignificant bits of floating-point data will be cut off during data transformation, so this filter is a lossy compression method.</p>
 <p class="FM__Body"><a name="IX_scale_factor"></a>There are two scaling methods: D-scaling and E-scaling. The HDF5 1.8 release only supports D-scaling. D-scaling is short for decimal scaling. E-scaling should be similar conceptually. In order to transform data from floating-point to integer, a scale factor is introduced. The minimum value will be calculated. Each data element value will subtract the minimum value. The modified data will be multiplied by 10 (Decimal) to the power of <span class="FM_Code">scale_factor</span>, and only the integer part will be kept and manipulated through the rou&#173;tines for the integer type of the filter during pre-compression and compression. Integer data will be divided by 10 to the power of <span class="FM_Code">scale_factor</span> to transform back to floating-point data during decompres&#173;sion and post-decompression. Each data element value will then add the minimum value, and the floating-point data are resumed. However, the resumed data will lose some insignificant bits compared with the original value.</p>
 <p class="FM__Body">For example, the following floating-point data are manipulated by the filter, and the D-scaling factor is 2.</p>
 <p class="FM__BodyCodeIndent">{104.561, 99.459, 100.545, 105.644}</p>
 <p class="FM__Body">The minimum value is 99.459, each data element subtracts 99.459, the modified data is </p>
 <p class="FM__BodyCodeIndent">{5.102, 0, 1.086, 6.185}</p>
 <p class="FM__Body">Since the D-scaling factor is 2, all floating-point data will be multiplied by 10^2 with this result: </p>
 <p class="FM__BodyCodeIndent">{510.2, 0, 108.6, 618.5}</p>
 <p class="FM__Body">The digit after decimal point will be rounded off, and then the set looks like: </p>
 <p class="FM__BodyCodeIndent">{510, 0, 109, 619}</p>
 <p class="FM__Body">After decompression, each value will be divided by 10^2 and will be added to the offset 99.459.</p>
 <p class="FM__Body">The floating-point data becomes </p>
 <p class="FM__BodyCodeIndent">{104.559, 99.459, 100.549, 105.649}.</p>
 <p class="FM__Body">The relative error for each value should be no more than 5* (10^(D-scaling factor +1)). D-scaling some&#173;times is also referred as a variable minimum-bits method since for different datasets the minimum-bits to represent the same decimal precision will vary. The data value is modified to 2 to power of <span class="FM_Code">scale_fac&#173;tor</span>&#160;for E-scaling. E-scaling is also called fixed-bits method since for different datasets the minimum-bits will always be fixed to the scale factor of E-scaling. Currently, HDF5 ONLY supports the D-scaling (variable minimum-bits) method. </p>
 <p class="FM__Heading_SubSection">Implementation</p>
 <p class="FM__Body"><a name="IX_H5Pdcpl_c"></a><a name="IX_H5Pset_scaleoffset_1"></a><a name="IX_H5Zscaleoffset_c"></a>The scale-offset filter implementation was written and included in the file <span class="FM_Code">H5Zscaleoffset.c</span>. Function <span class="FM_Code">H5Pset_scaleoffset</span> was written and included in the file “<span class="FM_Code">H5Pdcpl.c</span>”. The HDF5 user can supply minimum-bits by calling function <span class="FM_Code">H5Pset_scaleoffset</span>.</p>
 <p class="FM__Body">The scale-offset filter was implemented based on the design outlined in this section. However, the follow&#173;ing factors need to be considered:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The filter needs the appropriate cast pointer whenever it needs to retrieve data values.</p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The HDF5 Library passes to the filter the to-be-compressed data in the format of the dataset data&#173;type, and the filter passes back the decompressed data in the same format. If a fill value is defined, it is also in dataset datatype format. For example, if the byte order of the dataset data&#173;type is different from that of the memory datatype of the platform, compression or decompres&#173;sion performs an endianness conversion of data buffer. Moreover, it should be aware that memory byte order can be different during compression and decompression.</p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>The difference of endianness and datatype between file and memory should be considered when saving and retrieval of minimum-bits, minimum value, and fill value.</p>
 <p class="FM__ListNumbered_Level1">4.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>If the user sets the minimum-bits to full precision of the datatype, no operation is needed at the filter side. If the full precision is a result of calculation by the filter, then the minimum-bits needs to be saved for decompression but no compression or decompression is needed (only a copy of the input buffer is needed).</p>
 <p class="FM__ListNumbered_Level1">5.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>If by calculation of the filter, the minimum-bits is equal to zero, special handling is needed. Since it means all values are the same, no compression or decompression is needed. But the minimum-bits and minimum value still need to be saved during compression.</p>
 <p class="FM__ListNumbered_Level1">6.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For floating-point data, the minimum value of the dataset should be calculated at first. Each data element value will then subtract the minimum value to obtain the “offset” data. The offset data will then follow the steps outlined above in the discussion of floating-point types to do data trans&#173;formation to integer and rounding. <a href="#XREF_SO_FloatingPoint">For more information, see &quot;Floating-point Type.&quot;</a></p>
 <p class="FM__Heading_SubSection">Usage Examples</p>
 <p class="FM__Body">The following code example illustrates the use of the scale-offset filter for writing and reading integer data.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-12. Scale-offset compression integer data</caption>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">#include &quot;hdf5.h&quot;</p>
  <p class="FM__BodyCellCode">#include &quot;stdlib.h&quot;</p>
  <p class="FM__BodyCellCode">#define H5FILE_NAME &#160;&quot;scaleoffset_test_int.h5&quot;</p>
  <p class="FM__BodyCellCode">#define DATASET_NAME &quot;scaleoffset_int&quot;</p>
  <p class="FM__BodyCellCode">#define NX 200</p>
  <p class="FM__BodyCellCode">#define NY 300</p>
  <p class="FM__BodyCellCode">#define CH_NX 10</p>
  <p class="FM__BodyCellCode">#define CH_NY 15</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">int main(void)</p>
  <p class="FM__BodyCellCode">{</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>hid_t &#160;&#160;file, dataspace, dataset, datatype, dset_create_props;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>hsize_t dims[2], chunk_size[2];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>int &#160;&#160;&#160;&#160;orig_data[NX][NY];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>int &#160;&#160;&#160;&#160;new_data[NX][NY]; &#160;&#160;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>int &#160;&#160;&#160;&#160;i, j, fill_val; &#160;&#160;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Define dataset datatype */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_INT_19"></a><a name="IX_H5Tcopy_7"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>datatype = H5Tcopy(H5T_NATIVE_INT); &#160;&#160;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Initiliaze data buffer */</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>for (i=0; i &lt; NX; i++) </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>for (j=0; j &lt; NY; j++)</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>orig_data[i][j] = rand() % 10000;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Describe the size of the array. */</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dims[0] = NX;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dims[1] = NY;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Screate_simple_11"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataspace = H5Screate_simple (2, dims, NULL))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataspace\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 139.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Create a new file using read/write access, default file</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* creation properties, and default file access properties.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
  <p class="FM__BodyCellCode"><a name="IX_H5F_ACC_TRUNC_8"></a><a name="IX_H5FILE_NAME_1"></a><a name="IX_H5Fcreate_12"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((file = H5Fcreate (H5FILE_NAME, H5F_ACC_TRUNC, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create file\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Set the dataset creation property list to specify that</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* the raw data is to be partitioned into 10 x 15 element</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* chunks and that each chunk is to be compressed.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>chunk_size[0] = CH_NX;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>chunk_size[1] = CH_NY;</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5P_DATASET_CREATE_8"></a><a name="IX_H5Pcreate_14"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dset_create_props = H5Pcreate (H5P_DATASET_CREATE))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataset property\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_chunk_5"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Pset_chunk (dset_create_props, 2, chunk_size)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set chunk\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Set the fill value of dataset */</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>fill_val = 10000;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_INT_20"></a><a name="IX_H5Pset_fill_value_2"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if (H5Pset_fill_value(dset_create_props, H5T_NATIVE_INT, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>&amp;fill_val)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: can not set fill value for dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Set parameters for scale-offset compression. Check the </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* description of the H5Pset_scaleoffset function in the </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* HDF5 Reference Manual for more information [3].</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_scaleoffset_2"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Pset_scaleoffset (dset_create_props, H5Z_SO_INT, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Z_SO_INT_MINIMUMBITS_DEFAULT)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set scaleoffset filter\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Create a new dataset within the file. The datatype</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* and dataspace describe the data on disk, which may</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* or may not be different from the format used in the </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* application's memory.  The link creation and </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* dataset access property list parameters are passed </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* with default values.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dcreate_14"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataset = H5Dcreate (file, DATASET_NAME, datatype,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dataspace, H5P_DEFAULT,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dset_create_props, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Write the array to the file. The datatype and dataspace</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* describe the format of the data in the 'orig_data' buffer.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* We use default raw data transfer properties.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5S_ALL_10"></a><a name="IX_H5T_NATIVE_INT_21"></a><a name="IX_H5Dwrite_18"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Dwrite (dataset, H5T_NATIVE_INT, H5S_ALL, H5S_ALL,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, orig_data)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to write to dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_13"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Dclose (dataset);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dopen_18"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataset = H5Dopen(file, DATASET_NAME, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to open dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Read the array. This is similar to writing data,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* except the data flows in the opposite direction.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Note: Decompression is automatic.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_INT_22"></a><a name="IX_H5Dread_16"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Dread (dataset, H5T_NATIVE_INT, H5S_ALL, H5S_ALL,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, new_data)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to read from dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Tclose_5"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Tclose (datatype);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_14"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Dclose (dataset);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Sclose_6"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Sclose (dataspace);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pclose_3"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Pclose (dset_create_props);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Fclose_10"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Fclose (file);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return 0;</p>
  <p class="FM__BodyCellCode">}</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: The code example above illustrates the use of the scale-offset filter for writing and reading integer data.</p>
 <p class="FM__Body">The following code example illustrates the use of the scale-offset filter (set for variable minimum-bits method) for writing and reading floating-point data.</p>
<div width="100%" align="center">
 <table style=" border-spacing:0; padding-left:6.00pt; padding-top:6.00pt; padding-right:6.00pt; padding-bottom:6.00pt; float:aligncenter; margin-top:12.00pt; width:100%; max-width:432.00pt;" cellspacing="0">
  <caption class="FM__CaptionCodeExample" align="bottom">Code Example 5-13. Scale-offset compression floating-point data</caption>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; border-top-style: solid; border-top-width: 1px; border-top-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">#include &quot;hdf5.h&quot;</p>
  <p class="FM__BodyCellCode">#include &quot;stdlib.h&quot;</p>
  <p class="FM__BodyCellCode">#define H5FILE_NAME &#160;&quot;scaleoffset_test_float_Dscale.h5&quot;</p>
  <p class="FM__BodyCellCode">#define DATASET_NAME &quot;scaleoffset_float_Dscale&quot;</p>
  <p class="FM__BodyCellCode">#define NX 200</p>
  <p class="FM__BodyCellCode">#define NY 300</p>
  <p class="FM__BodyCellCode">#define CH_NX 10</p>
  <p class="FM__BodyCellCode">#define CH_NY 15</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 126.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode">int main(void)</p>
  <p class="FM__BodyCellCode">{</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>hid_t &#160;&#160;file, dataspace, dataset, datatype, dset_create_props;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>hsize_t dims[2], chunk_size[2];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>float &#160;&#160;orig_data[NX][NY];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>float &#160;&#160;new_data[NX][NY];</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>float &#160;&#160;fill_val; &#160;&#160;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>int &#160;&#160;&#160;&#160;i, j; &#160;&#160;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Define dataset datatype */</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_FLOAT_5"></a><a name="IX_H5Tcopy_8"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>datatype = H5Tcopy(H5T_NATIVE_FLOAT); &#160;&#160;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Initiliaze data buffer */</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>for (i=0; i &lt; NX; i++) </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>for (j=0; j &lt; NY; j++)</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>orig_data[i][j] = (rand() % 10000) / 1000.0;</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Describe the size of the array. */</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dims[0] = NX;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dims[1] = NY;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Screate_simple_12"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataspace = H5Screate_simple (2, dims, NULL))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataspace\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Create a new file using read/write access, default file</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* creation properties, and default file access properties.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5F_ACC_TRUNC_9"></a><a name="IX_H5Fcreate_13"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((file = H5Fcreate (H5FILE_NAME, H5F_ACC_TRUNC, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create file\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Set the dataset creation property list to specify that</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* the raw data is to be partitioned into 10 x 15 element</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* chunks and that each chunk is to be compressed.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>chunk_size[0] = CH_NX;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>chunk_size[1] = CH_NY;</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5P_DATASET_CREATE_9"></a><a name="IX_H5Pcreate_15"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dset_create_props = H5Pcreate (H5P_DATASET_CREATE))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataset property\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Pset_chunk (dset_create_props, 2, chunk_size)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set chunk\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/* Set the fill value of dataset */</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>fill_val = 10000.0;</p>
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_FLOAT_6"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if (H5Pset_fill_value(dset_create_props, H5T_NATIVE_FLOAT, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>&amp;fill_val)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: can not set fill value for dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Set parameters for scale-offset compression; use variable</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* minimum-bits method, set decimal scale factor to 3. Check </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* the description of the H5Pset_scaleoffset function in the </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* HDF5 Reference Manual for more information [3].</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Pset_scaleoffset_3"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Pset_scaleoffset (dset_create_props, H5Z_SO_FLOAT_DSCALE, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>3)&lt;0) <span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>{</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to set scaleoffset filter\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Create a new dataset within the file. The datatype</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* and dataspace describe the data on disk, which may</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* or may not be different from the format used in the </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* application's memory.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dcreate_15"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataset = H5Dcreate (file, DATASET_NAME, datatype,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dataspace, H5P_DEFAULT, </p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>dset_create_props, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to create dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 48.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode">&nbsp;</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Write the array to the file. The datatype and dataspace</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* describe the format of the data in the 'orig_data' buffer.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* We use default raw data transfer properties.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 100.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5T_NATIVE_FLOAT_7"></a><a name="IX_H5Dwrite_19"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Dwrite (dataset, H5T_NATIVE_FLOAT, H5S_ALL, H5S_ALL,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, orig_data)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to write to dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Dclose (dataset);</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if((dataset = H5Dopen(file, DATASET_NAME, H5P_DEFAULT))&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to open dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>} &#160;&#160;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 74.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>/*</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Read the array. This is similar to writing data,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* except the data flows in the opposite direction.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>* Note: Decompression is automatic.</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>*/</p>
</td>
</tr>
  <tr style=" height : 87.00pt;">
  <td style="width : 432.000pt; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Dread_17"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>if(H5Dread (dataset, H5T_NATIVE_FLOAT, H5S_ALL, H5S_ALL,</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5P_DEFAULT, new_data)&lt;0) {</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>printf(&quot;Error: fail to read from dataset\n&quot;);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return -1;</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>}</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
</td>
</tr>
  <tr style=" height : 113.00pt;">
  <td style="width : 432.000pt; border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #228a22; vertical-align : top;padding-left: 6.00pt; padding-top: 3.00pt; padding-right: 6.00pt; padding-bottom: 3.00pt;">
  <p class="FM__BodyCellCode"><a name="IX_H5Tclose_6"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Tclose (datatype);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Dclose_15"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Dclose (dataset);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Sclose_7"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Sclose (dataspace);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Pclose_4"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Pclose (dset_create_props);</p>
  <p class="FM__BodyCellCode"><a name="IX_H5Fclose_11"></a><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>H5Fclose (file);</p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span></p>
  <p class="FM__BodyCellCode"><span style="font-family:Times New Roman; font-size:7.0pt">&nbsp;&nbsp;&nbsp;</span>return 0;</p>
  <p class="FM__BodyCellCode">}</p>
</td>
</tr>
 </table>
</div>
 <p class="FM__CaptionNote">Note: The code example above illustrates the use of the scale-offset filter for writing and reading floating-point data.</p>
 <p class="FM__Heading_SubSection">Limitations</p>
 <p class="FM__Body">For floating-point data handling, there are some algorithmic limitations to the GRiB data packing mecha&#173;nism:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Both the E-scaling and D-scaling methods are lossy compression</p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>For the D-scaling method, since data values have been rounded to integer values (positive) before truncating to the minimum-bits, their range is limited by the maximum value that can be repre&#173;sented by the corresponding unsigned integer type (the same size as that of the floating-point type)</p>
 <p class="FM__Heading_SubSection">Suggestions</p>
 <p class="FM__Body">The following are some suggestions for using the filter for floating-point data:</p>
 <p class="FM__ListNumbered1_Level1">1.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>It is better to convert the units of data so that the units are within certain common range (for example, 1200m to 1.2km)</p>
 <p class="FM__ListNumbered_Level1">2.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>If data values to be compressed are very near to zero, it is strongly recommended that the user sets the fill value away from zero (for example, a large positive number); if the user does nothing, the HDF5 Library will set the fill value to zero, and this may cause undesirable compression results</p>
 <p class="FM__ListNumbered_Level1">3.<span style='word-spacing:normal; font:6.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Users are not encouraged to use a very large decimal scale factor (for example, 100) for the D-scaling method; this can cause the filter not to ignore the fill value when finding maximum and minimum values, and they will get a much larger minimum-bits (poor compression)</p>
 <p class="FM__Heading_Level3"><a name="TOC_5_6_3_Using_the_Szip"></a>5.6.3. Using th<a name="XREF_Szip"></a>e Szip Filter</p>
 <p class="FM__Body">See The HDF Group website for further information regarding the <span class="FM_LT_LinkText"><a href="http://www.hdfgroup.org/doc_resource/SZIP/">Szip</a></span> filter.</p>
 <p class="FM__Body">&nbsp;</p>
</body>
</html>