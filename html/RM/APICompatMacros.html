
<html>
<head>
<title>API Compatibility Macros in HDF5</title>
<link href="../ed_styles/RMelect.css" rel="stylesheet" type="text/css">
</head> 

<body bgcolor="#FFFFFF">

<!-- #BeginLibraryItem "/ed_libs/styles_RM.lbi" -->
<!--
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
  * Copyright by The HDF Group.                                               *
  * Copyright by the Board of Trustees of the University of Illinois.         *
  * All rights reserved.                                                      *
  *                                                                           *
  * This file is part of HDF5.  The full HDF5 copyright notice, including     *
  * terms governing use, modification, and redistribution, is contained in    *
  * the files COPYING and Copyright.html.  COPYING can be found at the root   *
  * of the source code distribution tree; Copyright.html can be found at the  *
  * root level of an installed copy of the electronic HDF5 document set and   *
  * is linked from the top-level documents page.  It can also be found at     *
  * http://hdfgroup.org/HDF5/doc/Copyright.html.  If you do not have          *
  * access to either file, you may request a copy from help@hdfgroup.org.     *
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 -->
<!-- #EndLibraryItem --><!-- #BeginLibraryItem "/ed_libs/NavBar_RM.lbi" --><hr>
<center>
<table border=0 width=98%>
<tr><td valign=top align=left>
<a href="../index.html">HDF5 documents and links</a>&nbsp;<br>
<a href="../H5.intro.html">Introduction to HDF5</a>&nbsp;<br>
<a href="../UG/index.html">HDF5 User Guide</a>&nbsp;<br>
<!--
<a href="Glossary.html">Glossary</a><br>
-->
</td>
<td valign=top align=right>
And in this document, the 
<a href="RM_H5Front.html">HDF5 Reference Manual</a>&nbsp;&nbsp;
<br>
<a href="../HL/RM_H5DS.html">H5DS</a>&nbsp;&nbsp;
<a href="../HL/RM_H5IM.html">H5IM</a>&nbsp;&nbsp;
<a href="../HL/RM_H5LT.html">H5LT</a>&nbsp;&nbsp;
<a href="../HL/RM_H5PT.html">H5PT</a>&nbsp;&nbsp;
<a href="../HL/RM_H5TB.html">H5TB</a>&nbsp;&nbsp;
<br>
<a href="RM_H5.html">H5</a>&nbsp;&nbsp;
<a href="RM_H5A.html">H5A</a>&nbsp;&nbsp;
<a href="RM_H5D.html">H5D</a>&nbsp;&nbsp;
<a href="RM_H5E.html">H5E</a>&nbsp;&nbsp;
<a href="RM_H5F.html">H5F</a>&nbsp;&nbsp;
<a href="RM_H5G.html">H5G</a>&nbsp;&nbsp;
<a href="RM_H5I.html">H5I</a>&nbsp;&nbsp;
<br>
<a href="RM_H5L.html">H5L</a>&nbsp;&nbsp;
<a href="RM_H5O.html">H5O</a>&nbsp;&nbsp;
<a href="RM_H5P.html">H5P</a>&nbsp;&nbsp;
<a href="RM_H5R.html">H5R</a>&nbsp;&nbsp;
<a href="RM_H5S.html">H5S</a>&nbsp;&nbsp;
<a href="RM_H5T.html">H5T</a>&nbsp;&nbsp;
<a href="RM_H5Z.html">H5Z</a>
<br>
<a href="Tools.html">Tools</a>&nbsp;&nbsp;&nbsp;
<a href="PredefDTypes.html">Datatypes</a>&nbsp;&nbsp;&nbsp;
<a href="APICompatMacros.html">Compatibility Macros</a>&nbsp;
</td></tr>
</table>
</center>
<hr>
<!-- #EndLibraryItem --><body>

<div align=center>
<h1>API Compatibility Macros in HDF5</h1>
</div>


<h3>Audience</h3>
This document is designed for HDF5 users or developers with
existing applications that they wish to modify to take advantage
of the latest version of the HDF5 Library.
<!--
<p>
HDF5 includes a macro-based API compatibility feature that
may save you hours to days in maintaining these applications
while still being able to adopt new releases of the HDF5 software.
-->

<p>
<!--<h3>Related document</h3>-->
<h3>Compatibility issues</h3>
With a major release such HDF5 Release 1.8.0, there are often
compatibility issues that must be considered when migrating an 
application to the new release.
<p>
This document, <cite>API Compatibility Macros in HDF5</cite>, discusses 
an approach to resolving API compatibility issues. 
<a href="../ADGuide/CompatFormat180.html"><cite>New Features in 
HDF5 Release 1.8.0 and Format Compatibility Considerations</cite></a>
discusses 
    features introduced in HDF5 Release 1.8.0, 
    corresponding APIs that may trigger these features, 
    and the resulting potential file format compatibility issues. 

<!--
<p>
In the broadest terms, HDF5 will by default write data in 
the oldest format that can represent that data, 
so that as much data as possible can be read by older libraries.
Use of the function 
<a href="http://RM_H5P.html#Property-SetLatestFormat">
<code>H5Pset_latest_format</code></a>
forces the library in the other direction, 
to write all data only in the latest available format.
More specific control is possible and 
some features new in Release 1.8.0 impose specific requiremens;
this is all discussed in the above-mentioned document.
-->

<p>
<h3>Summary and motivation</h3>
Several basic HDF5 functions have changed over the years 
as requirements on the library and data format have evolved.
To enable existing applications to run properly, 
all versions of these functions have been retained;
for flexibility and ease-of-use, macros have been created 
that can be mapped either globally to broad sets of function versions
or on a function-by-function basis to specific versions.
For example, an overall approach can be determined by means global setting;
function-level settings can then be used to override the global setting 
then for specific functions.
<p>
The HDF5 team generally (and strongly) encourages users 
to update applications to work with the latest HDF5 release, 
but there are common circumstances 
where that can take substantial resources or,
for other reasons, may not a realistic or necessary.
Use of the API-compatibility macros feature, as described in this document,
can be particularly valuable in situations such as the following: 
<ul>
    <li>Only binaries are available, with no access to the original 
        source code; updating the application is not feasible. 
    <li>Source code is available, but there are no resources to update it.
    <li>Source code is available, as are resources to update it, 
        but the old version works quite satisfactorily.
        On the other hand, it would be valuable to take advantage of 
        certain efficiencies in the newer HDF5 release.
    <li>The applications are large or complex and must continue to run 
        while the update is carried out.
</ul>


<h3>Understanding and using the macros</h3>

<strong>Scope of selection:</strong>
<br>
The HDF5 Library can be globally configured in the following ways:
<ul>
    <li>To present fully-compatible HDF5 Release 1.6.x interfaces.
        Macros will be mapped to 1.6.x function versions;
        1.8.0 interfaces will be available, but must be called 
        by their version-numbered names.
        <p>
        For example, the macro <code>H5Gcreate</code> will be mapped 
        to the version-numbered 1.6.x version of the function, 
        <code>H5Gcreate1</code>.
        The version-numbered 1.6.x and 1.8.x functions will be 
        explicitly available as <code>H5Gcreate1</code> and 
        <code>H5Gcreate2</code>, respectively.
    <li>To present complete HDF5 Release 1.8.0 interfaces.
        Macros will be mapped to 1.8.0 function versions;
        1.6.x interfaces will be available, but must be called 
        by their version-numbered names.
        <p>
        For example, the macro <code>H5Gcreate</code> will be mapped 
        to the version-numbered 1.8.0 version of the function, 
        <code>H5Gcreate2</code>.
        The version-numbered 1.6.x and 1.8.x functions will be 
        explicitly available as <code>H5Gcreate1</code> and 
        <code>H5Gcreate2</code>, respectively.
    <li>To make no compatibility allowance, presenting strictly 
        HDF5 Release 1.8.x interfaces; 
        macros will be mapped to 1.8.x function versions.
        <p>
        For example, the macro <code>H5Gcreate</code> will be mapped 
        to the 1.8.x version of the function, <code>H5Gcreate2</code>.
        The 1.8.x version of the function,<code>H5Gcreate2</code>,
        will be available to be called explicitly.
        The version-numbered 1.6.x function, <code>H5Gcreate1</code>,
        will not be available.
        
</ul>


<p>
Function-level settings are available for situations where 
it is necessary to have access to more complex combinations
of newer and older function versions.
<ul>
    <li>Specified macro is mapped to selected version of function.
    <li>If <code>H5Gcreate_vers</code> is set to <code>2</code>,
        the macro <code>H5Gcreate</code> will be mapped to 
        <code>H5Gcreate2</code>.
</ul>

<p>
Global settings can be selected either 
when the HDF5 Library is built and installed or 
when the application is built and installed.
Function-level settings can be selected only 
when the application is built and installed.
Function-level settings override the global setting.

<a name="GlobalSettings">&nbsp;</a>
<p>
<strong>Global settings</strong>
<br>
Global settings are determined when either the HDF5 Library 
or the user application is built and installed.

<div align=center>
<table cellpadding=4 width=90% border=1>
    <caption align=bottom>
        <u><b>Table1:</b><font size=6>&nbsp;</font>Summary
        of HDF5 global compatibility settings</u>
    </caption>
    <tr align=left valign=top><th>
        Configure flag (global settings)
      </th><th>
        Public symbols are mapped to...
      </th><th>
        Deprecated&nbsp;symbols are available
    </th></tr><tr align-left valign=top><td>
        Default
      </td><td>
        <b>1.6</b>
        <br>
        Example: <code>H5Gcreate</code> is mapped to <code>H5Gcreate1</code>,
        the renamed version of the function <code>H5Gcreate</code> from 
        Release 1.6.x.
        The Release 1.8.0 function <code>H5Gcreate2</code> is available.
      </td><td>
        Yes
    </td></tr><tr align-left valign=top><td>
        <code>--disable-deprecated-symbols</code>
      </td><td>
        <b>1.8</b>
        <br>
        Example: <code>H5Gcreate</code> is mapped to <code>H5Gcreate2</code>.
        <code>H5Gcreate1</code> is not available.
      </td><td>
        No
    </th></tr><tr align-left valign=top><td>
        <code>--with-default-api-version=v16</code>
      </td><td>
        <b>1.6</b>
        <br>
        Example: <code>H5Gcreate</code> is mapped to <code>H5Gcreate1</code>.
        <code>H5Gcreate2</code> is available.
      </td><td>
        Yes
    </th></tr><tr align-left valign=top><td>
        <code>--with-default-api-version=v18</code>
      </td><td>
        <b>1.8</b>
        <br>
        Example: <code>H5Gcreate</code> is mapped to <code>H5Gcreate2</code>.
        <code>H5Gcreate1</code> is available.
      </td><td>
        Varies
        <!--
        No, with <code>--disable-deprecated-symbols</code>
        <br>
        Yes, without <code>--disable-deprecated-symbols</code>
        -->
    </td></tr>
</table>
</div>

<p>
When building HDF5, the following <code>configure</code> 
flags control API-compatibility mode:<br>
<table width=100% border=0>
    <tr align=left valign=top>
      <td><code>&nbsp;&nbsp;&nbsp;&nbsp;</code></td><td>
        Default
      </td><td>
        All current and deprecated APIs are available.
        <p>
        Macros are mapped to the original version of each API. 
        For example, the macro <code>H5Gcreate</code> is mapped 
        to the function <code>H5Gcreate1</code>.
        <p>
        All API versions are available by version number.
        For example, an application can call either  
        <code>H5Gcreate1</code> or <code>H5Gcreate2</code>, 
        depending on requirements.
        <p>
        This is the default behavior; no compatibility flag is required.
        However, the flag <code>--enable-deprecated-symbols</code>
        can be used to explicitly invoke this setting.
        <p>
      </td></tr>
    <tr align=left valign=top><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
        <code>--disable-deprecated-symbols</code>
      </td><td>
        Only current APIs are available. 
        <p>
        Macros are mapped to the current version of each API. 
        For example, in Release 1.8.0,
        the macro <code>H5Gcreate</code> is mapped 
        to the function <code>H5Gcreate2</code>.
        <p>
        Since no deprecated APIs or symbols are included in the binary,
        <code>H5Gcreate1</code> will be unavailable. 
        <p>
        Usage:
        <br>
        <code>./configure ... --disable-deprecated-symbols ...</code>
        <p>
      </td></tr>
    <tr align=left valign=top>
      <td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
        <code>--with-default-api-version=v16&nbsp;&nbsp;</code>
      </td><td>
        Macros are mapped to the Release 1.6 version of each API. 
        For example, the macro <code>H5Gcreate</code> is mapped 
        to the function <code>H5Gcreate1</code>.
        <p>
        APIs, symbols, and functionality that were introduced
        in the Release 1.8.x series will be included in the binary
        and will be directly callable, just not via the macros.
        For example, the Release 1.8.0 version of <code>H5Gcreate</code> 
        will be available as <code>H5Gcreate2</code>.
        <p>
        Usage:
        <br>
        <code>./configure ... --with-default-api-version=v16 ...</code>
        <p>
      </td></tr>
    <tr align=left valign=top>
      <td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
        <code>--with-default-api-version=v18</code>
      </td><td>
        Only HDF5 Release 1.6 APIs are available. 
        <p>
        Macros are mapped to the Release 1.6 version of each API. 
        For example, the macro <code>H5Gcreate</code> is mapped 
        to the function <code>H5Gcreate1</code>.
        <p>
        Only APIs, symbols, or functionality that were available 
        in the Release 1.6 series will be included in the binary,
        so <code>H5Gcreate2</code> will be unavailable. 
        <p>
        Usage:
        <br>
        <code>./configure ... --with-default-api-version=v18 ...</code>
        <p>
      </td></tr>
    <tr align=left valign=top>
      <td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
        Examples
      </td><td>
        Though there is some overlap in the functionality of these flags,
        they enable a full range of configurations.
        The following examples show how these flags can be combined.
        Note that in some cases, the same objective can be achieved 
        with just one of the flags.
        <p>
        To build an instance of the HDF5 Library 
        with the Release 1.6.x APIs fully available as the defaults:
        <br>
        <code>./configure ... -- enable-deprecated-symbols  
              <br>&nbsp;&nbsp;&nbsp;&nbsp;
              --with-default-api-version=v16 ...</code>
        <p>
        To build an instance of the HDF5 Library 
        with the Release 1.8.x APIs fully available as the defaults
        and Release 1.6.x symbols and APIs available through explicit calls:
        <br>
        <code>./configure ... -- enable-deprecated-symbols  
              <br>&nbsp;&nbsp;&nbsp;&nbsp;
              --with-default-api-version=v18 ...</code>
        <p>
        To build an instance of the HDF5 Library 
        with the Release 1.8.x APIs fully available as the defaults
        and with none of the deprecated Release 1.6.x symbols and APIs:
        <br>
        <code>./configure ... -- disable-deprecated-symbols  
              <br>&nbsp;&nbsp;&nbsp;&nbsp;
              --with-default-api-version=v18 ...</code>
        <p>
      </td></tr>
    <tr align=left valign=top>
      <td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
        Illegal combination
      </td><td>
        This combination will result in an error either
        during configuration or at compile time as the 
        first flag would eliminate all deprecated symbols, 
        rendering implementation of the second flag impossible:
        <br>
        <code>./configure ... -- disable-deprecated-symbols  
              <br>&nbsp;&nbsp;&nbsp;&nbsp;
              --with-default-api-version=v16 ...</code>
        <p>&nbsp;
      </td></tr>
</table>

<p>
When building an HDF5 application, the following <code>h5cc</code> 
options control API-compatibility mode:<br>
<table width=100% border=0>
    <tr align=left valign=top>
      <td><code>&nbsp;&nbsp;&nbsp;&nbsp;</code></td><td>
        <i>Default</i>
        <br>
        (no&nbsp;API-compatibility&nbsp;flags)&nbsp;&nbsp;
      </td><td>
        All current <i>and</i> deprecated HDF5 APIs are available 
        in the application, providing maximum fexibility.
        <p>
        Macros are mapped to the current version of each API. 
        For example, the macro <code>H5Gcreate</code> is mapped 
        to the function <code>H5Gcreate2</code>.
        <p>
        All API versions are available by version number
        For example, an application can call either  
        <code>H5Gcreate1</code> or <code>H5Gcreate2</code>, 
        depending on requirements.
        <p>
        Requires: 
        <br>
        HDF5 Library built with no compatibility flags or
        with <code>--enable-deprecated-symbols</code>.
        <p>
        Usage:
        <br>
        <code>h5cc ... &lt;without any API-compatibility flag&gt; ...</code>
        <br>
        <code>gcc ... &lt;without any API-compatibility flag&gt; ...</code>
        <p>
      </td></tr>
    <tr align=left valign=top>
      <td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
        <code>-D&nbsp;H5_NO_DEPRECATED_SYMBOLS&nbsp;&nbsp;&nbsp;</code>
      </td><td>
        Current release only;
        current HDF5 APIs only are available in the application. 
        <p>
        Macros are mapped to the current version of each API. 
        For example, in Release 1.8.0,
        the macro <code>H5Gcreate</code> is mapped 
        to the function <code>H5Gcreate2</code>.
        <p>
        No deprecated APIs or symbols are included. 
        In Release 1.8.0, for example, 
        <code>H5Gcreate1</code> will be unavailable.
        <p>
        Requires:
        <br>
        No special requirement;
        HDF5 Library may be built with no compatibility flags 
        or with any legal combination. 
        <p>
        Usage:
        <br>
        <code>h5cc ... -D H5_NO_DEPRECATED_SYMBOLS ...</code>
        <br>
        <code>gcc ... -D H5_NO_DEPRECATED_SYMBOLS ...</code>
        <p>
      </td></tr>
    <tr align=left valign=top>
      <td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
        <code>-D H5_USE_16_API</code>
      </td><td>
        Release 1.6 emulation; only HDF5 Release 1.6.x APIs are available. 
        <p>
        Macros are mapped to the Release 1.6.x version of each API. 
        For example, the macro <code>H5Gcreate</code> is mapped 
        to the function <code>H5Gcreate1</code>.
        <p>
        Only APIs, symbols, or functionality that were available 
        in the Release 1.6 series will be included in the binary.
        <code>H5Gcreate2</code>, for example, will be unavailable. 
        <p>
        Requires:
        <br>
        HDF5 Library built with no compatibility flags, 
        with <code>--enable-deprecated-symbols</code>, or
        with <code>--with-default-api-version=v16</code>.
        <p>
        Usage:
        <br>
        <code>h5cc ... -D H5_USE_16_API ...</code>
        <br>
        <code>gcc ... -D H5_USE_16_API ...</code>
        <p>
      </td></tr>
</table>
        
<a name="FunctionLevelSettings">
<p>
</a>
<strong>Function-level settings</strong>
<br>
Function-level settings are determined only when the user application 
is built and installed.

<p>
In the cases where there are multiple versions of a function available, 
a high-level function macro can be selectively defined to point to 
any version of the function.  For example, the macro <code>H5Gcreate</code>
can be mapped to either of the functions <code>H5Gcreate1</code> or
<code>H5Gcreate2</code>.
This is accomplished through a set of compilation flags that can be
used when the application is compiled.  For example:
<ul>
    <li>If the flag <code>H5Gcreate_vers</code> is set to <code>1</code>,
        the macro <code>H5Gcreate</code> will be mapped to
        <code>H5Gcreate1</code>. 
        <br>
        <code>&nbsp;&nbsp;&nbsp;&nbsp; 
        h5cc ... -D H5Gcreate_vers=1 ...</code>
        <br>
        <code>&nbsp;&nbsp;&nbsp;&nbsp; 
        gcc ... -D H5Gcreate_vers=1 ...</code>
        <p>
    <li>If the flag <code>H5Gcreate_vers</code> is set to <code>2</code>,
        the macro <code>H5Gcreate</code> will be mapped to
        <code>H5Gcreate2</code>. 
        <br>
        <code>&nbsp;&nbsp;&nbsp;&nbsp; 
        h5cc ... -D H5Gcreate_vers=2 ...</code>
        <br>
        <code>&nbsp;&nbsp;&nbsp;&nbsp; 
        gcc ... -D H5Gcreate_vers=2 ...</code>
        <p>
</ul>
        
<p>
As of Release 1.8.0, the following function macros are defined 
and can be mapped to the corresponding function versions
by defining the version flags as indicated:
<dir>
<table border=0 cellpadding=4>
    <tr align=left valign=top>
        <th>Macro</th>
        <th>Underlying functions</th>
        <th>Version flags</th>
    </tr><tr align=left valign=top>
        <td><code>H5Acreate</code></td>
        <td><code>H5Acreate1</code>
            <br>
            <code>H5Acreate2</code></td>
        <td><code>H5Acreate_vers=1</code>
            <br>
            <code>H5Acreate_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Adelete</code></td>
        <td><code>H5Adelete1</code>
            <br>
            <code>H5Adelete2</code></td>
        <td><code>H5Adelete_vers=1</code>
            <br>
            <code>H5Adelete_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Aiterate</code></td>
        <td><code>H5Aiterate1</code>
            <br>
            <code>H5Aiterate2</code></td>
        <td><code>H5Aiterate_vers=1</code>
            <br>
            <code>H5Aiterate_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Arename</code></td>
        <td><code>H5Arename1</code>
            <br>
            <code>H5Arename2</code></td>
        <td><code>H5Arename_vers=1</code>
            <br>
            <code>H5Arename_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Dcreate</code></td>
        <td><code>H5Dcreate1</code>
            <br>
            <code>H5Dcreate2</code></td>
        <td><code>H5Dcreate_vers=1</code>
            <br>
            <code>H5Dcreate_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Dopen</code></td>
        <td><code>H5Dopen1</code>
            <br>
            <code>H5Dopen2</code></td>
        <td><code>H5Dopen_vers=1</code>
            <br>
            <code>H5Dopen_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Eclear</code></td>
        <td><code>H5Eclear1</code>
            <br>
            <code>H5Eclear2</code></td>
        <td><code>H5Eclear_vers=1</code>
            <br>
            <code>H5Eclear_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Eprint</code></td>
        <td><code>H5Eprint1</code>
            <br>
            <code>H5Eprint2</code></td>
        <td><code>H5Eprint_vers=1</code>
            <br>
            <code>H5Eprint_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Epush</code></td>
        <td><code>H5Epush1</code>
            <br>
            <code>H5Epush2</code></td>
        <td><code>H5Epush_vers=1</code>
            <br>
            <code>H5Epush_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Eset_auto&nbsp;&nbsp;</code></td>
        <td><code>H5Eset_auto1</code>
            <br>
            <code>H5Eset_auto2</code></td>
        <td><code>H5Eset_auto_vers=1</code>
            <br>
            <code>H5Eset_auto_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Eget_auto</code></td>
        <td><code>H5Eget_auto1</code>
            <br>
            <code>H5Eget_auto2</code></td>
        <td><code>H5Eget_auto_vers=1</code>
            <br>
            <code>H5Eget_auto_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Ewalk</code></td>
        <td><code>H5Ewalk1</code>
            <br>
            <code>H5Ewalk2</code></td>
        <td><code>H5Ewalk_vers=1</code>
            <br>
            <code>H5Ewalk_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Gcreate</code></td>
        <td><code>H5Gcreate1</code>
            <br>
            <code>H5Gcreate2</code></td>
        <td><code>H5Gcreate_vers=1</code>
            <br>
            <code>H5Gcreate_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Gopen</code></td>
        <td><code>H5Gopen1</code>
            <br>
            <code>H5Gopen2</code></td>
        <td><code>H5Gopen_vers=1</code>
            <br>
            <code>H5Gopen_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Pget_filter</code></td>
        <td><code>H5Pget_filter1</code>
            <br>
            <code>H5Pget_filter2</code></td>
        <td><code>H5Pget_filter_vers=1</code>
            <br>
            <code>H5Pget_filter_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Pget_filter_by_id</code></td>
        <td><code>H5Pget_filter_by_id1</code>
            <br>
            <code>H5Pget_filter_by_id2</code></td>
        <td><code>H5Pget_filter_by_id_vers=1</code>
            <br>
            <code>H5Pget_filter_by_id_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Pinsert</code></td>
        <td><code>H5Pinsert1</code>
            <br>
            <code>H5Pinsert2</code></td>
        <td><code>H5Pinsert_vers=1</code>
            <br>
            <code>H5Pinsert_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Pregister</code></td>
        <td><code>H5Pregister1</code>
            <br>
            <code>H5Pregister2</code></td>
        <td><code>H5Pregister_vers=1</code>
            <br>
            <code>H5Pregister_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Rget_obj_type</code></td>
        <td><code>H5Rget_obj_type1</code>
            <br>
            <code>H5Rget_obj_type2</code></td>
        <td><code>H5Rget_obj_type_vers=1</code>
            <br>
            <code>H5Rget_obj_type_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Tarray_create</code></td>
        <td><code>H5Tarray_create1</code>
            <br>
            <code>H5Tarray_create2</code></td>
        <td><code>H5Tarray_create_vers=1</code>
            <br>
            <code>H5Tarray_create_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Tcommit</code></td>
        <td><code>H5Tcommit1</code>
            <br>
            <code>H5Tcommit2</code></td>
        <td><code>H5Tcommit_vers=1</code>
            <br>
            <code>H5Tcommit_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Tget_array_dims</code></td>
        <td><code>H5Tget_array_dims1</code>
            <br>
            <code>H5Tget_array_dims2</code></td>
        <td><code>H5Tget_array_dims_vers=1</code>
            <br>
            <code>H5Tget_array_dims_vers=2</code></td>
    </tr><tr align=left valign=top>
        <td><code>H5Topen</code></td>
        <td><code>H5Topen1</code>
            <br>
            <code>H5Topen2</code></td>
        <td><code>H5Topen_vers=1</code>
            <br>
            <code>H5Topen_vers=2</code></td>
    </tr>
</table>
</dir>

<p>
When building an HDF5 application, the following <code>h5cc</code> 
options control function-level API-compatibility:<br>
<table width=90% border=0 align=center>
    <tr align=left valign=top>
      <td><code>&nbsp;&nbsp;&nbsp;&nbsp;</code></td><td>
        <code>-D&nbsp;H5Gcreate_vers=2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
      </td><td>
        The macro <code>H5Gcreate</code> will be mapped 
        to the function <code>H5Gcreate2</code>.
        <p>
        
        <p>
      </td></tr>
</table>

<p>
Note that the function-level settings require that HDF5 Library was built 
with an appropriate API-compatibility flag.

<p>
Note that the function-level settings do not negate any available functions;
if <code>H5Gcreate1</code> is available in the installed version of the
HDF5 Library, it will remain available to the application
as <code>H5Gcreate1</code>.
Similarly, <code>H5Gcreate2</code>will remain available to the 
application as <code>H5Gcreate2</code>.

<!-- REINSTATE THIS AND COMPLETE DISCUSSION
<p>
<strong>Use of settings file instead of command-line options</strong>
<br>
Any of the above global or function-level settings can also be defined
in a compilation settings file, as in: 
<br>
<code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
gcc ... -include settings_file ...</code>

<p>
                                             <font color=red><i>
   <code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>
                          [ Need settings file syntax examples ] 
                                                     </i></font>
-->

<h3>Common use case</h3>

Migrating an application to 1.8: 
<font color=red>
<i>[an outline; needs full text and context]</i>
</font>
<ol>
<li>
Start with global setting for 1.6 (-D H5_USE_16_API).
<li>
Move one function at a time (or sets of functions) to 1.8, setting function-level flags to 1.8 as you go (...-vers=[1,2]).

<li>
Then drop H5_USE_16_API; default h5cc app build will provide current APIs.
<li>
The set -D H5_NO_DEPRECATED_SYMBOLS and cleanup any failures to catch remaining update issues (e.g., H5Dextend versus H5Dset_extent).
</ol>

<!--
<p>&nbsp;
<p>&nbsp;
<pre>
<font color=red><a name="Notes"><hr></a>

Notes:  Add 'Determining the installed HDF5 settings:' section. 
        Add "Use of settings file instead of command-line options"
            discussion.
        Make sure the use and management of global and function-level 
            settings are clear and easily accessible.
        Make sure that the following are clear: 
            -- A macro's actual signature is determined by the mapping. 
            -- Exactly one function mapping is available at any time.
            -- And where to look for the relevant signature.
        Is it necessary to further describe function naming? 
            H5Gcreate was originally a function name.  When it became 
            necessary to change the function's syntax, H5Gcreate was 
            renamed H5Gcreate1, the new syntax was named H5Gcreate2, 
            and a a new H5Gcreate was inserted as a mappable macro.  
            If it becomes necessary to change the syntax again, a third  
            version named H5Gcreate3 will be added to the library.
</font>
</pre>
-->


<!-- #BeginLibraryItem "/ed_libs/NavBar_RM.lbi" --><hr>
<center>
<table border=0 width=98%>
<tr><td valign=top align=left>
<a href="../index.html">HDF5 documents and links</a>&nbsp;<br>
<a href="../H5.intro.html">Introduction to HDF5</a>&nbsp;<br>
<a href="../UG/index.html">HDF5 User Guide</a>&nbsp;<br>
<!--
<a href="Glossary.html">Glossary</a><br>
-->
</td>
<td valign=top align=right>
And in this document, the 
<a href="RM_H5Front.html">HDF5 Reference Manual</a>&nbsp;&nbsp;
<br>
<a href="../HL/RM_H5DS.html">H5DS</a>&nbsp;&nbsp;
<a href="../HL/RM_H5IM.html">H5IM</a>&nbsp;&nbsp;
<a href="../HL/RM_H5LT.html">H5LT</a>&nbsp;&nbsp;
<a href="../HL/RM_H5PT.html">H5PT</a>&nbsp;&nbsp;
<a href="../HL/RM_H5TB.html">H5TB</a>&nbsp;&nbsp;
<br>
<a href="RM_H5.html">H5</a>&nbsp;&nbsp;
<a href="RM_H5A.html">H5A</a>&nbsp;&nbsp;
<a href="RM_H5D.html">H5D</a>&nbsp;&nbsp;
<a href="RM_H5E.html">H5E</a>&nbsp;&nbsp;
<a href="RM_H5F.html">H5F</a>&nbsp;&nbsp;
<a href="RM_H5G.html">H5G</a>&nbsp;&nbsp;
<a href="RM_H5I.html">H5I</a>&nbsp;&nbsp;
<br>
<a href="RM_H5L.html">H5L</a>&nbsp;&nbsp;
<a href="RM_H5O.html">H5O</a>&nbsp;&nbsp;
<a href="RM_H5P.html">H5P</a>&nbsp;&nbsp;
<a href="RM_H5R.html">H5R</a>&nbsp;&nbsp;
<a href="RM_H5S.html">H5S</a>&nbsp;&nbsp;
<a href="RM_H5T.html">H5T</a>&nbsp;&nbsp;
<a href="RM_H5Z.html">H5Z</a>
<br>
<a href="Tools.html">Tools</a>&nbsp;&nbsp;&nbsp;
<a href="PredefDTypes.html">Datatypes</a>&nbsp;&nbsp;&nbsp;
<a href="APICompatMacros.html">Compatibility Macros</a>&nbsp;
</td></tr>
</table>
</center>
<hr>
<!-- #EndLibraryItem --><!-- #BeginLibraryItem "/ed_libs/Footer.lbi" --><address>
THG Help Desk: <img src="../Graphics/help.png" align=top height=16>
<br>
Describes HDF5 Release 1.8.0-beta.
</address>

<!-- #EndLibraryItem --><SCRIPT LANGUAGE="JAVASCRIPT">
<!--
document.writeln("Last modified: 22 October 2007");
-->
</SCRIPT>

</body>
</html>
