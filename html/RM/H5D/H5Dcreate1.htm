

<!--
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
  * Copyright by The HDF Group.                                               *
  * Copyright by the Board of Trustees of the University of Illinois.         *
  * All rights reserved.                                                      *
  *                                                                           *
  * This file is part of HDF5.  The full HDF5 copyright notice, including     *
  * terms governing use, modification, and redistribution, is contained in    *
  * the files COPYING and Copyright.html.  COPYING can be found at the root   *
  * of the source code distribution tree; Copyright.html can be found at the  *
  * root level of an installed copy of the electronic HDF5 document set and   *
  * is linked from the top-level documents page.  It can also be found at     *
  * http://hdfgroup.org/HDF5/doc/Copyright.html.  If you do not have          *
  * access to either file, you may request a copy from help@hdfgroup.org.     *
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 -->


<!-- NEW PAGE -->
<!-- HEADER RIGHT "H5Dcreate1" -->
<hr>
<dl>
  <dt><div align=right><font color=999999 size=-1><i>
      Last modified: 29 July 2009
      </i></font></div>

<dt><strong>Name:</strong> <a name="Dataset-Create1">H5Dcreate1</a>
<dt><strong>Signature:</strong>
    <dd><em>hid_t </em><code>H5Dcreate1</code>(
        <em>hid_t </em><code>loc_id</code>,
        <em>const char *</em><code>name</code>,
        <em>hid_t</em> <code>type_id</code>,
        <em>hid_t</em> <code>space_id</code>,
        <em>hid_t</em> <code>dcpl_id</code>
    )
<dt><strong>Purpose:</strong>
    <dd>Creates a dataset at the specified location.
<dt><strong>Notice:</strong>
    <dd><i>This function is deprecated in favor of the function 
        <a href="#Dataset-Create2"><code>H5Dcreate2</code></a>
        or the macro
        <a href="#Dataset-Create"><code>H5Dcreate</code></a>.</i>
<dt><strong>Description:</strong>
    <dd><code>H5Dcreate1</code> creates a data set with a name, 
        <code>name</code>, in the file or in the group specified by 
        the identifier <code>loc_id</code>.
	<p>
	<code>name</code> can be a relative path based at <code>loc_id</code>
        or an absolute path from the root of the file.
        Use of this function requires that any intermediate groups 
        specified in the path already exist.
        <p>
        The dataset&rsquo;s datatype and dataspace are specified by
        <code>type_id</code> and <code>space_id</code>, respectively.
        These are the datatype and dataspace of the dataset as it will 
        exist in the file, which may differ from the datatype and dataspace
        in application memory.
        <p>
        Names within a group are unique:
        <code>H5Dcreate1</code> will return an error if a link with
        the name specified in <code>name</code> already exists at the
        location specified in <code>loc_id</code>.
        <p>
        As is the case for any object in a group, 
        the length of a dataset name is not limited.  
        <p>
        <code>dcpl_id</code> is an <code>H5P_DATASET_CREATE</code>
        property list created with <code>H5Pcreate1</code> and
        initialized with various property list functions described in 
        &ldquo;<a href="RM_H5P.html">H5P: Property List Interface</a>.&rdquo;
	<p>
	<code>H5Dcreate</code> and <code>H5Dcreate_anon</code> 
        return an error if the dataset&rsquo;s datatype 
	includes a variable-length (VL) datatype and the fill value 
	is undefined, i.e., set to <code>NULL</code> in the 
	dataset creation property list. 
	Such a VL datatype may be directly included,  
	indirectly included as part of a compound or array datatype, or 
	indirectly included as part of a nested compound or array datatype.
	<p>
        <code>H5Dcreate</code> and <code>H5Dcreate_anon</code> return 
        a dataset identifier for success or a negative value for failure. 
	The dataset identifier should eventually be closed by 
        calling <code>H5Dclose</code> to release resources it uses.
	<p>
        See <a href="#Dataset-CreateAnon"><code>H5Dcreate_anon</code></a>
        for discussion of the differences between <code>H5Dcreate</code> 
        and <code>H5Dcreate_anon</code>.
	<p>
	<strong>Fill values and space allocation:</strong><br>
	The HDF5 library provides flexible means 
	of specifying a fill value, 
	of specifying when space will be allocated for a dataset, and
	of specifying when fill values will be written to a dataset.
	For further information on these topics, see the document 
	<a href="http://www.hdfgroup.org/HDF5/doc_resource/H5Fill_Values.html">
	<cite>Fill Value and Dataset Storage Allocation Issues in HDF5</cite></a> 
	and the descriptions of the following HDF5 functions in this 
	<cite>HDF5 Reference Manual</cite>:
	<table width=80% border="0">
	<tr valign="top" align="left"><td width=10%>&nbsp;
	  </td><td width=45%>
            <a href="RM_H5D.html#Dataset-Fill"><code>H5Dfill</code></a><br>
            <a href="RM_H5P.html#Property-SetFillValue"><code>H5Pset_fill_value</code></a><br>
            <a href="RM_H5P.html#Property-GetFillValue"><code>H5Pget_fill_value</code></a><br>
            <a href="RM_H5P.html#Property-FillValueDefined"><code>H5Pfill_value_defined</code></a>
	  </td><td width=45%>
            <a href="RM_H5P.html#Property-SetFillTime"><code>H5Pset_fill_time</code></a><br>
            <a href="RM_H5P.html#Property-GetFillTime"><code>H5Pget_fill_time</code></a><br>
            <a href="RM_H5P.html#Property-SetAllocTime"><code>H5Pset_alloc_time</code></a><br>
            <a href="RM_H5P.html#Property-GetAllocTime"><code>H5Pget_alloc_time</code></a>
	  </td></tr>
	</table>
	This information is also included in the 
	&ldquo;HDF5 Datasets&rdquo; chapter of 
	the new <cite>HDF5 User's Guide</cite>, 
	which is being prepared for release.
<dt><strong>Note:</strong>
    <dd><code>H5Dcreate</code> and <code>H5Dcreate_anon</code> 
        can fail if there has been an error
        in setting up an element of the dataset creation property list.
        In such cases, each item in the property list must be examined
        to ensure that the setup satisfies all required conditions.
        This problem is most likely to occur with the use of filters.
        <p>
        For example, either function will fail without a meaningful
        explanation if the following conditions exist simultaneously:
        <ul>
          <li>SZIP compression is being used on the dataset.
          <li>The SZIP parameter <code>pixels_per_block</code> 
              is set to an inappropriate value.
        </ul>
        <p>
        In such a case, one would refer to the description of 
        <a href="RM_H5P.html#Property-SetSzip"><code>H5Pset_szip</code></a>,
        looking for any conditions or requirements that might affect the
        local computing environment.
        <!--
        <p>
        Other known similar problems can occur with . . .
        --> 
<dt><strong>Parameters:</strong>
    <ul><table>
        <tr>
            <td valign="top"><em>hid_t</em> <code>loc_id</code></td>
            <td valign="top">IN: Identifier of the file or group 
                within which to create the dataset.</td></tr>
        <tr>
            <td valign="top"><em>const char *</em> <code>name</code></td>
            <td valign="top">IN: The name of the dataset to create.</td></tr>
        <tr>
            <td valign="top"><em>hid_t</em> <code>type_id</code></td>
            <td valign="top">IN: Identifier of the datatype to use 
                when creating the dataset.</td></tr>
        <tr>
            <td valign="top"><em>hid_t</em> <code>space_id</code></td>
            <td valign="top">IN: Identifier of the dataspace to use 
                when creating the dataset.</td></tr>
        <tr>
            <td valign="top"><em>hid_t</em>&nbsp;<code>dcpl_id&nbsp;&nbsp;&nbsp;&nbsp;</code></td>
            <td valign="top">IN: Dataset creation property list 
                identifier.</td></tr>
    </table></ul>
<dt><strong>Returns:</strong>
    <dd>Returns a dataset identifier if successful;
        otherwise returns a negative value.
<dt><strong>Fortran90 Interface:</strong> See listing under <a href="RM_H5D.html#Dataset-Create"><code>H5Dcreate</code></a>.
    <dd>	
		
		<!--<dt><strong>Non-C API(s):</strong>
    	<dd>
        
        <img src="Graphics/Java.gif"> 
        <img src="Graphics/C++.gif">
        -->
  <p>
  <dt><strong>History:</strong>
    <dd><table width="90%">
        <tr>
          <td valign="top" align="left" width="10%">
            <strong>Release</strong>&nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td valign="top" align="left">
            <strong>C</strong></td></tr>
        <tr>
          <td valign="top">1.8.0</td>
          <td valign="top">
            Function <code>H5Dcreate</code> renamed to 
            <code>H5Dcreate1</code> and deprecated
            in this release.</td></tr>
    </table>
</dl>


