<html>

<!--
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
  * Copyright by the Board of Trustees of the University of Illinois.         *
  * All rights reserved.                                                      *
  *                                                                           *
  * This file is part of HDF5.  The full HDF5 copyright notice, including     *
  * terms governing use, modification, and redistribution, is contained in    *
  * the files COPYING and Copyright.html.  COPYING can be found at the root   *
  * of the source code distribution tree; Copyright.html can be found at the  *
  * root level of an installed copy of the electronic HDF5 document set and   *
  * is linked from the top-level documents page.  It can also be found at     *
  * http://hdf.ncsa.uiuc.edu/HDF5/doc/Copyright.html.  If you do not have     *
  * access to either file, you may request a copy from hdfhelp@ncsa.uiuc.edu. *
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 -->

<head><title>
FORTRAN Dataset API -- h5d
</title></head>

<body bgcolor="#FFFFFF">



<center>
<h1>The FORTRAN 90 API to HDF5<br>h5d: Datasets</h1>
</center>


<dl>


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dclose_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dclose_f</strong>
<pre>
          SUBROUTINE h5dclose_f(dset_id, hdferr)
            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id ! Dataset identifier  
            INTEGER, INTENT(OUT) :: hdferr       ! Error code  
                                                 ! 0 on success and -1 on failure
          END SUBROUTINE h5dclose_f
</pre>


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dcreate_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dcreate_f</strong>
<pre>
          SUBROUTINE h5dcreate_f(loc_id, name, type_id, space_id, dset_id, & 
                                 hdferr, creation_prp) 
            IMPLICIT NONE 
            INTEGER(HID_T), INTENT(IN) :: loc_id   ! File or group identifier
            CHARACTER(LEN=*), INTENT(IN) :: name   ! Name of the dataset 
            INTEGER(HID_T), INTENT(IN) :: type_id  ! Datatype identifier 
            INTEGER(HID_T), INTENT(IN) :: space_id ! Dataspace identifier
            INTEGER(HID_T), INTENT(OUT) :: dset_id ! Dataset identifier
            INTEGER, INTENT(OUT) :: hdferr       ! Error code 
                                                 ! 0 on success and -1 on failure
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: creation_prp
                                                   ! Dataset creation propertly 
                                                   ! list identifier , default
                                                   ! value is H5P_DEFAULT_F (6) 
          END SUBROUTINE h5dcreate_f  
</pre> 


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dextend_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dextend_f</strong>
<pre>
          SUBROUTINE h5dextend_f(dataset_id, size, hdferr) 
            IMPLICIT NONE 
            INTEGER(HID_T), INTENT(IN) :: dataset_id      ! Dataset identifier
            INTEGER(HSIZE_T), DIMENSION(*), INTENT(IN)  :: size
                                                          ! Array containing 
                                                          ! dimensions' sizes 
            INTEGER, INTENT(OUT) :: hdferr       ! Error code 
                                                 ! 0 on success and -1 on failure
          END SUBROUTINE h5dextend_f  
</pre> 


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dget_create_plist_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dget_create_plist_f</strong>
<pre>
          SUBROUTINE h5dget_create_plist_f(dataset_id, creation_prp, hdferr) 
            IMPLICIT NONE 
            INTEGER(HID_T), INTENT(IN) :: dataset_id      ! Dataset identifier
            INTEGER(HID_T), INTENT(OUT) :: creation_id    ! Dataset creation
                                                          ! property list identifier
            INTEGER, INTENT(OUT) :: hdferr       ! Error code 
                                                 ! 0 on success and -1 on failure
          END SUBROUTINE h5dget_create_plist_f  
</pre> 


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dget_space_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dget_space_f</strong>
<pre>
          SUBROUTINE h5dget_space_f(dataset_id, dataspace_id, hdferr) 
            IMPLICIT NONE 
            INTEGER(HID_T), INTENT(IN) :: dataset_id      ! Dataset identifier
            INTEGER(HID_T), INTENT(OUT) :: dataspace_id   ! Dataspace identifier
            INTEGER, INTENT(OUT) :: hdferr       ! Error code 
                                                 ! 0 on success and -1 on failure
          END SUBROUTINE h5dget_space_f  
</pre> 


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dget_type_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dget_type_f</strong>
<pre>
          SUBROUTINE h5dget_type_f(dataset_id, datatype_id, hdferr) 
            IMPLICIT NONE 
            INTEGER(HID_T), INTENT(IN) :: dataset_id      ! Dataset identifier
            INTEGER(HID_T), INTENT(OUT) :: datatype_id    ! Datatype identifier
            INTEGER, INTENT(OUT) :: hdferr       ! Error code 
                                                 ! 0 on success and -1 on failure
          END SUBROUTINE h5dget_type_f  
</pre> 


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dopen_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dopen_f</strong>
<pre>
          SUBROUTINE h5dopen_f(loc_id, name, dset_id, hdferr) 
            IMPLICIT NONE 
            INTEGER(HID_T), INTENT(IN) :: loc_id   ! File or group identifier
            CHARACTER(LEN=*), INTENT(IN) :: name   ! Name of the dataset 
            INTEGER(HID_T), INTENT(OUT) :: dset_id ! Dataset identifier
            INTEGER, INTENT(OUT) :: hdferr       ! Error code 
                                                 ! 0 on success and -1 on failure
          END SUBROUTINE h5dopen_f  
</pre> 


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dread_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dread_f</strong>
    (for all datatypes except variable-length data and 
    object and dataset region references)
<pre>

          SUBROUTINE h5dread_f(dset_id, mem_type_id, buf, dims, hdferr, &
                               mem_space_id, file_space_id, xfer_prp)

            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id   ! Dataset identifier
            INTEGER(HID_T), INTENT(IN) :: mem_type_id ! Memory datatype identifier
            TYPE, INTENT(INOUT) :: buf          ! Data buffer; may be a scalar or an array
            DIMENSION(*), INTEGER(HSIZE_T), INTENT(IN)  :: dims 
                                                ! Array to hold corresponding dimension 
                                                ! sizes of data buffer buf; dim(k) has 
                                                ! value of the k-th dimension of buffer buf;
                                                ! values are ignored if buf is a scalar
                                                ! 
                                                ! Deprecated type, will be removed in 
                                                ! Release 1.6:
                                                ! INTEGER, INTENT(IN)  :: dims(7)     
            INTEGER, INTENT(OUT) :: hdferr      ! Error code 
                                                ! 0 on success and -1 on failure
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: mem_space_id 
                                                ! Memory dataspace identfier 
                                                ! Default value is H5S_ALL_F 
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: file_space_id 
                                                ! File dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: xfer_prp 
                                                ! Transfer property list identifier 
                                                ! Default value is H5P_DEFAULT_F 
            
          END SUBROUTINE h5dread_f
</pre>


<a name="h5dread_f_ref">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dread_f</strong>
    (for object reference and dataset region reference datatypes)
<pre>

          SUBROUTINE h5dread_f(dset_id, mem_type_id, buf, n, hdferr, &
                               mem_space_id, file_space_id, xfer_prp)

            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id   ! Dataset identifier
            INTEGER(HID_T), INTENT(IN) :: mem_type_id ! Memory datatype identifier
            DIMENSION(*), INTEGER(HSIZE_T), INTENT(IN)  :: dims 
                                                ! Array to hold corresponding dimension 
                                                ! sizes of data buffer buf; dim(k) has 
                                                ! value of the k-th dimension of buffer buf;
                                                ! values are ignored if buf is a scalar
                                                ! 
                                                ! Deprecated type, will be removed in 
                                                ! Release 1.6:
                                                ! INTEGER, DIMENSION(7), INTENT(IN) :: dims
            TYPE(hobj_ref_t_f), DIMENSION(dims(1)), INTENT(INOUT) :: buf
                                                ! Data buffer of rank 1
            INTEGER, INTENT(OUT) :: hdferr      ! Error code 
                                                ! 0 on success and -1 on failure
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: mem_space_id 
                                                ! Memory dataspace identfier 
                                                ! Default value is H5S_ALL_F 
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: file_space_id 
                                                ! File dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: xfer_prp 
                                                ! Transfer property list identifier 
                                                ! Default value is H5P_DEFAULT_F 
            
          END SUBROUTINE h5dread_f
</pre>


<a name="h5dread_f_vl">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dread_vl_f</strong>
    (for variable length datatypes)
<pre>

          SUBROUTINE h5dread_vl_f(dset_id, mem_type_id, buf, dims, len, hdferr, &
                                mem_space_id, file_space_id, xfer_prp)

            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id   ! Dataset identifier
            INTEGER(HID_T), INTENT(IN) :: mem_type_id ! Memory datatype identifier
            DIMENSION(2), INTEGER(HSIZE_T), INTENT(IN)  :: dims 
                                                ! Array to hold dimensions of buffer buf 
                                                ! First element is the maximum size of the
                                                ! variable lenght element; second element
                                                ! is a number of varaible-length elements 
            TYPE, DIMENSION(dims(1), dims(2)), INTENT(INTOUT) :: buf
                                                ! Data buffer of rank 2; each columns stores 
                                                ! element of variable length type; number
                                                ! of columns is a number of variable length 
                                                ! elements to read
                                                ! TYPE may be INTEGER, REAL or CHARACTER 
            INTEGER(SIZE_T), INTENT(IN), DIMENSION(*) :: len ! Array to store the length of each
                                                             element
            INTEGER, INTENT(OUT) :: hdferr      ! Error code 
                                                ! 0 on success and -1 on failure
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: mem_space_id 
                                                ! Memory dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: file_space_id 
                                                ! File dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: xfer_prp 
                                                ! Transfer property list identifier 
                                                ! Default value is H5P_DEFAULT_F 
            
          END SUBROUTINE h5dread_vl_f
</pre>


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dwrite_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dwrite_f</strong>
    (for all datatypes except variable-length data and 
    object and dataset region references)
<pre>

          SUBROUTINE h5dwrite_f(dset_id, mem_type_id, buf, dims, hdferr, &
                                mem_space_id, file_space_id, xfer_prp)

            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id   ! Dataset identifier
            INTEGER(HID_T), INTENT(IN) :: mem_type_id ! Memory datatype identifier
            TYPE, INTENT(IN) :: buf             ! Data buffer; may be a scalar or an array
            DIMENSION(*), INTEGER(HSIZE_T), INTENT(IN)  :: dims 
                                                ! Array to hold corresponding dimension 
                                                ! sizes of data buffer buf; dim(k) has 
                                                ! value of the k-th dimension of buffer buf;
                                                ! values are ignored if buf is a scalar
                                                ! 
                                                ! Deprecated type, will be removed in 
                                                ! Release 1.6:
                                                ! INTEGER, INTENT(IN)  :: dims(7)     
            INTEGER, INTENT(OUT) :: hdferr      ! Error code 
                                                ! 0 on success and -1 on failure
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: mem_space_id 
                                                ! Memory dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: file_space_id 
                                                ! File dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: xfer_prp 
                                                ! Transfer property list identifier 
                                                ! Default value is H5P_DEFAULT_F 
            
          END SUBROUTINE h5dwrite_f
</pre>


<a name="h5dwrite_f_ref">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dwrite_f</strong>
    (for object reference and dataset region reference datatypes)
<pre>

          SUBROUTINE h5dwrite_f(dset_id, mem_type_id, buf, n, hdferr, &
                                mem_space_id, file_space_id, xfer_prp)

            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id   ! Dataset identifier
            INTEGER(HID_T), INTENT(IN) :: mem_type_id ! Memory datatype identifier
            DIMENSION(*), INTEGER(HSIZE_T), INTENT(IN)  :: dims 
                                                ! Array to hold corresponding dimension 
                                                ! sizes of data buffer buf; dim(k) has 
                                                ! value of the k-th dimension of buffer buf;
                                                ! values are ignored if buf is a scalar
                                                ! 
                                                ! Deprecated type, will be removed in 
                                                ! Release 1.6:
                                                ! INTEGER, DIMENSION(7), INTENT(IN) :: dims
            TYPE(hobj_ref_t_f), DIMENSION(dims(1)), INTENT(INOUT) :: buf
                                                ! Data buffer of rank 1
            INTEGER, INTENT(OUT) :: hdferr      ! Error code 
                                                ! 0 on success and -1 on failure
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: mem_space_id 
                                                ! Memory dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: file_space_id 
                                                ! File dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: xfer_prp 
                                                ! Transfer property list identifier 
                                                ! Default value is H5P_DEFAULT_F 
            
          END SUBROUTINE h5dwrite_f
</pre>



<a name="h5dwrite_f_vl">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dwrite_vl_f</strong>
    (for variable length datatypes)
<pre>

          SUBROUTINE h5dwrite_vl_f(dset_id, mem_type_id, buf, dims, len, hdferr, &
                                mem_space_id, file_space_id, xfer_prp)

            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id   ! Dataset identifier
            INTEGER(HID_T), INTENT(IN) :: mem_type_id ! Memory datatype identifier
            DIMENSION(2), INTEGER(HSIZE_T), INTENT(IN)  :: dims 
                                                ! Array to hold dimensions of buffer buf 
                                                ! First element is the maximum size of the
                                                ! variable lenght element; second element
                                                ! is a number of varaible-length elements 
            TYPE, DIMENSION(dims(1), dims(2)), INTENT(INT) :: buf
                                                ! Data buffer of rank 2; each column contains
                                                ! element of variable length type; number
                                                ! of columns is a number of varaible length 
                                                ! elements to write
                                                ! TYPE may be INTEGER, REAL or CHARACTER 
            INTEGER(SIZE_T), INTENT(IN), DIMENSION(*) :: len ! Array to store the legth of each
                                                             element
            INTEGER, INTENT(OUT) :: hdferr      ! Error code 
                                                ! 0 on success and -1 on failure
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: mem_space_id 
                                                ! Memory dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: file_space_id 
                                                ! File dataspace identfier 
                                                ! Default value is H5S_ALL_F
            INTEGER(HID_T), OPTIONAL, INTENT(IN) :: xfer_prp 
                                                ! Transfer property list identifier 
                                                ! Default value is H5P_DEFAULT_F 
            
          END SUBROUTINE h5dwrite_vl_f
</pre>


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dget_storage_size_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dget_storage_size_f</strong>
<pre>
          SUBROUTINE h5dget_storage_size_f(dset_id, size, hdferr)
            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id  ! Dataset identifier  
            INTEGER(HSIZE_T), INTENT(OUT)  :: size ! Amount of storage required for dataset
            INTEGER, INTENT(OUT) :: hdferr         ! Error code  
                                                   ! 0 on success and -1 on failure
          END SUBROUTINE h5dget_storage_size_f
</pre>


<p>&nbsp;
<p>&nbsp;
<hr>
<p>&nbsp;
<a name="h5dvlen_get_max_len_f">
<p>&nbsp;
</a>


<dt><strong>FORTRAN interface:</strong> &nbsp <strong>h5dvlen_get_max_len_f</strong>
<pre>
          SUBROUTINE h5dvlen_get_max_len_f(dset_id, size, hdferr)
            IMPLICIT NONE
            INTEGER(HID_T), INTENT(IN) :: dset_id  ! Dataset identifier  
            INTEGER(HID_T), INTENT(IN) :: type_id  ! Datatype identifier  
            INTEGER(HID_T), INTENT(IN) :: space_id ! Dataspace identifier  
            
            INTEGER(SIZE_T), INTENT(OUT)  :: elem_len ! Maximum length of the element
            INTEGER, INTENT(OUT) :: hdferr         ! Error code  
                                                   ! 0 on success and -1 on failure
          END SUBROUTINE h5dvlen_get_max_len_f
</pre>


</dl>

<p>&nbsp;
<p>&nbsp;
<hr>



<address>
<a href="mailto:hdfhelp@ncsa.uiuc.edu">HDF Help Desk</a> 
</address>

Last modified:  30 January 2003
<br>
Describes HDF5 Release 1.4.5, February 2003

</body>
</html>
