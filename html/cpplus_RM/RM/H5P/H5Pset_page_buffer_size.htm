

<!--
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
  * Copyright by The HDF Group.                                               *
  * All rights reserved.                                                      *
  *                                                                           *
  * This file is part of HDF5.  The full HDF5 copyright notice, including     *
  * terms governing use, modification, and redistribution, is contained in    *
  * the files COPYING and Copyright.html.  COPYING can be found at the root   *
  * of the source code distribution tree; Copyright.html can be found at the  *
  * root level of an installed copy of the electronic HDF5 document set and   *
  * is linked from the top-level documents page.  It can also be found at     *
  * http://www.hdfgroup.org/HDF5/doc/Copyright.html.  If you do not have      *
  * access to either file, you may request a copy from help@hdfgroup.org.     *
  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 -->


<!--__ ***********************************************************  -->
<!--__ Do not alter the next line; it is used by the PDF generator. -->
<!--__ ***********************************************************  -->
<!-- NEW PAGE -->
<!-- HEADER RIGHT "H5Pset_page_buffer_size" -->

<hr />
<dl>

<dt><div align="right"><font color="999999" size="-1"><i>
    Last modified:  2016
    </i></font></div></dt>
    <br />

<dt><strong>Name:</strong> 
    <a name="Property-SetPageBufferSize">H5Pset_page_buffer_size</a>
    </dt>
    <br />

<dt><strong>Signature:</strong>
   <dd><code>
   <em>herr_t</em> H5Pset_page_buffer_size( 
     <em>hid_t</em> fapl_id, 
     <em>size_t</em> buf_size, 
     <em>unsigned</em> min_meta_perc, 
     <em>unsigned</em> min_raw_perc )

     </code>
    </dd></dt>
    <br />

<dt><strong>Purpose:</strong>
    <dd> Sets the maximum size for the page buffer and the minimum percentage for metadata and raw data pages.
    </dd></dt>
    <br />

<dt><strong>Description:</strong>
    <dd>
<p>
     <code>H5Pset_page_buffer_size</code> sets <code>buf_size</code>, the maximum size in bytes of the page 
     buffer. The default value is zero, meaning that page buffering is disabled. When a non-zero page buffer
     size is set, the library will enable page buffering if that size is larger or equal than a single page 
     size if a paged file space strategy is enabled using the functions <code>H5Pset_file_space_strategy()</code>
     and <code>H5Pset_file_space_page_size()</code>.
</p>
<p> 
     The page buffer layer captures all I/O requests before they are issued to the VFD and &quot;caches&quot;
     them in fixed sized pages. Once the total number of pages exceeds the page buffer size, the library 
     evicts pages from the page buffer by writing them to the VFD. At file close, the page buffer is 
     flushed writing all the pages to the file. 
</p>
<p>
     If a non-zero page buffer size is set, and the file space strategy is not set to paged or the 
     page size for the file space strategy is larger than the page buffer size, the subsequent call to 
     <code>H5Fcreate()</code> or <code>H5Fopen()</code> using the fapl_id will fail.
</p>
<p>
     The function also allows setting the minimum percentage of pages for metadata and raw data to 
     prevent a certain type of data to evict hot data of the other type.
</p>

    </dd></dt>

<!--
<dt><strong>Note:</strong>
    <dd>
    </dd></dt>
    <br />
-->
    
<dt><strong>Parameters:</strong>
    <dd><table width="100%">

        <tr>
            <td valign="top"><code><em>hid_t</em> 
                fapl_id</code></td>
            <td width="5%"><code>&nbsp;</code></td>
            <td valign="top">IN: File access property list identifier</td>
        </tr>

        <tr>
            <td valign="top"><code><em>size_t</em> 
                buf_size</code></td>
            <td width="5%"><code>&nbsp;</code></td>
            <td valign="top">IN: Maximum size, in bytes, of the page buffer </td>
        </tr>

        <tr>
            <td valign="top"><code><em>unsigned</em> 
                min_meta_perc</code></td>
            <td width="5%"><code>&nbsp;</code></td>
            <td valign="top">IN: Minimum metadata percentage to keep in the page buffer before allowing pages containing metadata to be evicted (Default is 0)</td>
        </tr>

        <tr>
            <td valign="top"><code><em>unsigned</em> 
                min_raw_perc</code></td>
            <td width="5%"><code>&nbsp;</code></td>
            <td valign="top">IN: Minimum raw data percentage to keep in the page buffer before allowing pages containing raw data to be evicted (Default is 0) </td>
        </tr>

        </table></dd>
    </dt>
    
<dt><strong>Returns:</strong>
    <dd>Returns a non-negative value if successful.
        Otherwise returns a negative value.</dd>
    </dt>
    <br />

<dt><strong>Fortran Interface:</strong></dt>
    <dd>None</dd>
    </dt>
    <br />

<dt><strong>See Also:</strong></dt>
<!--
    <table width="100%" border="0">
    <tr><td width="50%"align="left" valign="top">
        <ul>
          <li><a href="H5Pget_mdc_image_config.htm">
              <code>H5Pget_mdc_image_config</code></a>
              <br />&nbsp;</li>
        </ul>
    </td></tr>
    </table>
    <br />
-->

<dt><strong>History:</strong></dt>
    <dd>
    <table width="90%">
    <tr>
        <td valign="top" align="left" width="10%">
        <strong>Release</strong>&nbsp;&nbsp;&nbsp;&nbsp;</td>
        <td valign="top" align="left">
        <strong>Change</strong></td>
    </tr><tr>
        <td valign="top">1.10.1</td>
        <td valign="top">
        C function introduced with this release.</td>
    </tr>
    </table>
    </dd>

</dl>
<br />
<br />
<br />



