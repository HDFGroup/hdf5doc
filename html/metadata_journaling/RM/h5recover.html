<html>
<head><title>
H5recover Tool Specification
</title></head>

<body>

<hr>
<dl>
<dt><strong>Tool Name:</strong> <a name="Tools-Recover">h5recover</a>
<dt><strong>Syntax:</strong>
    <dd><code>h5recover
        [-j </code><em>journal_file.jnl</em><code>]
        [-h]
        [-v] 
        [-b </code><em>backup_name</em><code>]
        [-s] 
        [-n] 
        <em>hdf5_file.h5</em>
<dt><strong>Purpose:</strong>
    <dd>Recovers a corrupted HDF5 file that crashed while journaling was enabled.
<dt><strong>Description:</strong>
    <dd><code>h5recover</code> is a command line tool that walks through a 
        supplied journal file to rebuild corresponding corrupted HDF5 file.
        Images stored in the journal entries of the journal file are written
        into the corrupted HDF5 file in order to restore its metadata.
<dt><strong>Objects:</strong>
    <dl>
        <dt><code>-j</code> <em>journal_file.jnl</em> 
            <dd>Specify the input journal file.
        <dt><em>hdf5_file.h5</em>
            <dd>Specify the HDF5 file that needs recovered.
    </dl>
<dt><strong>Options and Parameters:</strong>
    <dl>
        <dt><code>-h, --help</code>
            <dd>Print information on this command.
        <dt><code>-v, --verbose</code>
            <dd>Generate more verbose output.
        <dt><code>-b, --backup</code> <em>backup_name</em>
            <dd>Specify a name for the backup copy of the HDF5 file.
                Default = '<em>hdf5_file.h5</em>.backup'.
        <dt><code>-s, --version</code>
            <dd>Print version number and exit.
        <dt><code>-n, --nocopy</code>
            <dd>Do not create a backup copy before recovery.
    </dl>
<dt><strong>Assumptions and Caveats:</strong>
    <dd>All assumptions will eventually be addressed via options or
        checks within the tool itself, but initial stages of functionality
        require the following to be manually asserted.
        <ul>
          <li>h5recover assumes that the input HDF5 is corrupt and needs
              recovered.
          <li>h5recover assumes that the journal file provided was generated
              from the HDF5 file provided.
          <li>Recover occurs in-place, with a back-up copy of specified name
              generated beforehand. There is currently no option to generate
              a new recovered file while keeping the original intact.
          <li>Backup files created by h5recover will currently overwrite files
              of the same name without issuing warning.
        </ul>
</dl>

</body>
</html>
